{"version":3,"file":"d-table-body-cell-button.js","sourceRoot":"","sources":["../../../src/main/typescript/wcardinal/ui/d-table-body-cell-button.ts"],"names":[],"mappings":"AAAA;;;GAGG;;AAGH,OAAO,EAAE,WAAW,EAAE,MAAM,iBAAiB,CAAC;AAC9C,OAAO,EAAE,kBAAkB,EAAsD,MAAM,0BAA0B,CAAC;AAClH,OAAO,EAAE,iBAAiB,EAAE,MAAM,4BAA4B,CAAC;AAC/D,OAAO,EAAE,gBAAgB,EAAE,MAAM,2BAA2B,CAAC;AAU7D;IAIU,wCAAuC;IAChD,8BAAa,OAAgB;eAC5B,kBAAO,OAAO,CAAE;IACjB,CAAC;IAES,mCAAI,GAAd,UAAgB,OAAgB;QAC/B,iBAAM,IAAI,YAAE,OAAO,CAAE,CAAC;QACtB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,WAAW,CAAE,OAAO,CAAE,CAAC;IAC7B,CAAC;IAES,0CAAW,GAArB,UAAuB,OAAgB;QAAvC,iBAMC;QALA,gBAAgB,CAAC,OAAO,CAAE,IAAI,EAAE,UAAE,CAA+B;YAChE,IAAI,KAAI,CAAC,YAAY,EAAE,EAAG;gBACzB,KAAI,CAAC,QAAQ,CAAE,CAAC,CAAE,CAAC;aACnB;QACF,CAAC,CAAC,CAAC;IACJ,CAAC;IAES,uCAAQ,GAAlB,UAAoB,CAA+C;QAClE,IAAI,CAAC,IAAI,CAAE,QAAQ,EAAE,IAAI,CAAE,CAAC;QAC5B,IAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC;QACtB,IAAI,GAAG,KAAK,SAAS,EAAG;YACvB,IAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC;YAChC,IAAM,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC;YACtC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAE,GAAG,EAAE,WAAW,EAAE,IAAI,CAAE,CAAC;YAClD,IAAI,CAAC,IAAI,CAAE,YAAY,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE,QAAQ,EAAE,WAAW,EAAE,IAAI,CAAE,CAAC;SACxE;IACF,CAAC;IAES,gDAAiB,GAA3B,UAA6B,CAAgB;QAC5C,IAAI,IAAI,CAAC,YAAY,EAAE,EAAG;YACzB,IAAI,CAAC,UAAU,CAAE,IAAI,CAAE,CAAC;SACxB;IACF,CAAC;IAES,8CAAe,GAAzB,UAA2B,CAAgB;QAC1C,IAAI,IAAI,CAAC,YAAY,EAAE,EAAG;YACzB,IAAI,IAAI,CAAC,SAAS,EAAE,EAAG;gBACtB,IAAI,CAAC,QAAQ,CAAE,CAAC,CAAE,CAAC;aACnB;YACD,IAAI,CAAC,UAAU,CAAE,KAAK,CAAE,CAAC;SACzB;IACF,CAAC;IAED,wCAAS,GAAT,UAAW,CAAgB;QAC1B,IAAI,iBAAiB,CAAC,aAAa,CAAE,CAAC,CAAE,EAAG;YAC1C,IAAI,CAAC,iBAAiB,CAAE,CAAC,CAAE,CAAC;SAC5B;QAED,OAAO,iBAAM,SAAS,YAAE,CAAC,CAAE,CAAC;IAC7B,CAAC;IAED,sCAAO,GAAP,UAAS,CAAgB;QACxB,IAAI,iBAAiB,CAAC,aAAa,CAAE,CAAC,CAAE,EAAG;YAC1C,IAAI,CAAC,eAAe,CAAE,CAAC,CAAE,CAAC;SAC1B;QAED,OAAO,iBAAM,OAAO,YAAE,CAAC,CAAE,CAAC;IAC3B,CAAC;IAES,4CAAa,GAAvB,UAAyB,QAAgB,EAAE,QAAgB;QAC1D,iBAAM,aAAa,YAAE,QAAQ,EAAE,QAAQ,CAAE,CAAC;QAC1C,IAAI,CAAC,UAAU,GAAG,WAAW,CAAC,YAAY,CAAE,QAAQ,CAAE,CAAC;IACxD,CAAC;IAES,sCAAO,GAAjB;QACC,OAAO,sBAAsB,CAAC;IAC/B,CAAC;IACF,2BAAC;AAAD,CAAC,AAzED,CAIU,kBAAkB,GAqE3B","sourcesContent":["/*\r\n * Copyright (C) 2019 Toshiba Corporation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\r\n\r\nimport { interaction } from \"pixi.js\";\r\nimport { DBaseStates } from \"./d-base-states\";\r\nimport { DTableBodyCellText, DTableBodyCellTextOptions, DThemeTableBodyCellText } from \"./d-table-body-cell-text\";\r\nimport { UtilKeyboardEvent } from \"./util/util-keyboard-event\";\r\nimport { UtilPointerEvent } from \"./util/util-pointer-event\";\r\n\r\nexport interface DTableBodyCellButtonOptions<ROW, THEME extends DThemeTableBodyCellButton = DThemeTableBodyCellButton>\r\n\textends DTableBodyCellTextOptions<ROW, THEME> {\r\n}\r\n\r\nexport interface DThemeTableBodyCellButton extends DThemeTableBodyCellText {\r\n\r\n}\r\n\r\nexport class DTableBodyCellButton<\r\n\tROW,\r\n\tTHEME extends DThemeTableBodyCellButton = DThemeTableBodyCellButton,\r\n\tOPTIONS extends DTableBodyCellButtonOptions<ROW, THEME> = DTableBodyCellButtonOptions<ROW, THEME>\r\n> extends DTableBodyCellText<ROW, THEME, OPTIONS> {\r\n\tconstructor( options: OPTIONS ) {\r\n\t\tsuper( options );\r\n\t}\r\n\r\n\tprotected init( options: OPTIONS ): void {\r\n\t\tsuper.init( options );\r\n\t\tthis.buttonMode = true;\r\n\t\tthis.initOnClick( options );\r\n\t}\r\n\r\n\tprotected initOnClick( options: OPTIONS ): void {\r\n\t\tUtilPointerEvent.onClick( this, ( e: interaction.InteractionEvent ): void => {\r\n\t\t\tif( this.isActionable() ) {\r\n\t\t\t\tthis.onActive( e );\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tprotected onActive( e: KeyboardEvent | interaction.InteractionEvent ): void {\r\n\t\tthis.emit( \"active\", this );\r\n\t\tconst row = this._row;\r\n\t\tif( row !== undefined ) {\r\n\t\t\tconst rowIndex = this._rowIndex;\r\n\t\t\tconst columnIndex = this._columnIndex;\r\n\t\t\tthis._columnData.setter( row, columnIndex, null );\r\n\t\t\tthis.emit( \"cellchange\", null, null, row, rowIndex, columnIndex, this );\r\n\t\t}\r\n\t}\r\n\r\n\tprotected onActivateKeyDown( e: KeyboardEvent ): void {\r\n\t\tif( this.isActionable() ) {\r\n\t\t\tthis.setPressed( true );\r\n\t\t}\r\n\t}\r\n\r\n\tprotected onActivateKeyUp( e: KeyboardEvent ): void {\r\n\t\tif( this.isActionable() ) {\r\n\t\t\tif( this.isPressed() ) {\r\n\t\t\t\tthis.onActive( e );\r\n\t\t\t}\r\n\t\t\tthis.setPressed( false );\r\n\t\t}\r\n\t}\r\n\r\n\tonKeyDown( e: KeyboardEvent ): boolean {\r\n\t\tif( UtilKeyboardEvent.isActivateKey( e ) ) {\r\n\t\t\tthis.onActivateKeyDown( e );\r\n\t\t}\r\n\r\n\t\treturn super.onKeyDown( e );\r\n\t}\r\n\r\n\tonKeyUp( e: KeyboardEvent ): boolean {\r\n\t\tif( UtilKeyboardEvent.isActivateKey( e ) ) {\r\n\t\t\tthis.onActivateKeyUp( e );\r\n\t\t}\r\n\r\n\t\treturn super.onKeyUp( e );\r\n\t}\r\n\r\n\tprotected onStateChange( newState: number, oldState: number ): void {\r\n\t\tsuper.onStateChange( newState, oldState );\r\n\t\tthis.buttonMode = DBaseStates.isActionable( newState );\r\n\t}\r\n\r\n\tprotected getType(): string {\r\n\t\treturn \"DTableBodyCellButton\";\r\n\t}\r\n}\r\n"]}