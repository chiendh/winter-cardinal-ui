{"version":3,"file":"d-button-group.js","sourceRoot":"","sources":["../../../src/main/typescript/wcardinal/ui/d-button-group.ts"],"names":[],"mappings":"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","sourcesContent":["/*\r\n * Copyright (C) 2019 Toshiba Corporation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\r\n\r\nimport { utils } from \"pixi.js\";\r\nimport { DBaseState } from \"./d-base-state\";\r\nimport { DButtonBase } from \"./d-button-base\";\r\n\r\ntype BUTTON = DButtonBase<any, any, any>;\r\n\r\nexport interface DButtonGroupOptions {\r\n\ton?: { [name: string]: Function };\r\n}\r\n\r\nexport class DButtonGroup extends utils.EventEmitter {\r\n\tprotected _buttons: BUTTON[];\r\n\tprotected _active: BUTTON | null;\r\n\tprotected _stateOn: DBaseState;\r\n\tprotected _stateOff: DBaseState;\r\n\tprotected _onActiveBound: ( button: BUTTON ) => void;\r\n\r\n\tconstructor( options?: DButtonGroupOptions ) {\r\n\t\tsuper();\r\n\r\n\t\tthis._buttons = [];\r\n\t\tthis._active = null;\r\n\t\tthis._stateOn = DBaseState.NONE;\r\n\t\tthis._stateOff = DBaseState.NONE;\r\n\t\tthis._onActiveBound = ( button: BUTTON ): void => {\r\n\t\t\tthis.onActive( button );\r\n\t\t};\r\n\r\n\t\t// Events\r\n\t\tif( options != null ) {\r\n\t\t\tconst on = options.on;\r\n\t\t\tif( on != null ) {\r\n\t\t\t\tfor( const name in on ) {\r\n\t\t\t\t\tthis.on( name, on[ name ] );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Done\r\n\t\tthis.emit( \"init\", this );\r\n\t}\r\n\r\n\tadd( button: BUTTON ): void {\r\n\t\tconst buttons = this._buttons;\r\n\t\tconst index = buttons.indexOf( button );\r\n\t\tif( index < 0 ) {\r\n\t\t\tthis._buttons.push( button );\r\n\t\t\tbutton.setState( this._stateOn, true );\r\n\t\t\tbutton.setState( this._stateOff, false );\r\n\t\t\tbutton.on( \"active\", this._onActiveBound );\r\n\t\t\tif( button.isActive() ) {\r\n\t\t\t\tthis.onActive( button );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tget active() {\r\n\t\treturn this._active;\r\n\t}\r\n\r\n\tprotected onActive( active: BUTTON ): void {\r\n\t\tif( active.isToggle() ) {\r\n\t\t\tthis._active = active;\r\n\t\t\tconst buttons = this._buttons;\r\n\t\t\tfor( let i = 0, imax = buttons.length; i < imax; ++i ) {\r\n\t\t\t\tconst button = buttons[ i ];\r\n\t\t\t\tif( button !== active && button.isToggle() && button.isActive() ) {\r\n\t\t\t\t\tbutton.toggle();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tremove( button: BUTTON ): void {\r\n\t\tconst buttons = this._buttons;\r\n\t\tconst index = buttons.indexOf( button );\r\n\t\tif( 0 <= index ) {\r\n\t\t\tbuttons.splice( index, 1 );\r\n\t\t\tbutton.off( \"active\", this._onActiveBound );\r\n\t\t}\r\n\t}\r\n\r\n\tcontains( button: BUTTON ): boolean {\r\n\t\tconst buttons = this._buttons;\r\n\t\tconst index = buttons.indexOf( button );\r\n\t\treturn ( 0 <= index );\r\n\t}\r\n\r\n\tsetHovered( isHovered: boolean ) {\r\n\t\treturn this.setState( DBaseState.HOVERED, isHovered );\r\n\t}\r\n\r\n\tsetActive( isActive: boolean ) {\r\n\t\treturn this.setState( DBaseState.ACTIVE, isActive );\r\n\t}\r\n\r\n\tsetReadOnly( isReadOnly: boolean ) {\r\n\t\treturn this.setState( DBaseState.READ_ONLY, isReadOnly );\r\n\t}\r\n\r\n\tsetDisabled( isDisabled: boolean ) {\r\n\t\treturn this.setState( DBaseState.DISABLED, isDisabled );\r\n\t}\r\n\r\n\tsetDragging( isDragging: boolean ) {\r\n\t\treturn this.setState( DBaseState.DRAGGING, isDragging );\r\n\t}\r\n\r\n\tisHovered(): boolean {\r\n\t\treturn this.hasState( DBaseState.HOVERED );\r\n\t}\r\n\r\n\tisActive(): boolean {\r\n\t\treturn this.hasState( DBaseState.ACTIVE );\r\n\t}\r\n\r\n\tisReadOnly(): boolean {\r\n\t\treturn this.hasState( DBaseState.READ_ONLY );\r\n\t}\r\n\r\n\tisDisabled(): boolean {\r\n\t\treturn this.hasState( DBaseState.DISABLED );\r\n\t}\r\n\r\n\tisDragging(): boolean {\r\n\t\treturn this.hasState( DBaseState.DRAGGING );\r\n\t}\r\n\r\n\tisFocused(): boolean {\r\n\t\treturn this.hasState( DBaseState.FOCUSED );\r\n\t}\r\n\r\n\tisUnfocusable(): boolean {\r\n\t\treturn this.hasState( DBaseState.UNFOCUSABLE );\r\n\t}\r\n\r\n\tsetState( state: DBaseState, isOn: boolean ) {\r\n\t\tif( isOn ) {\r\n\t\t\tthis._stateOn |= state;\r\n\t\t\tthis._stateOff &= ~state;\r\n\t\t} else {\r\n\t\t\tthis._stateOff |= state;\r\n\t\t\tthis._stateOn &= ~state;\r\n\t\t}\r\n\r\n\t\tconst buttons = this._buttons;\r\n\t\tfor( let i = 0, imax = buttons.length; i < imax; ++i ) {\r\n\t\t\tconst button = buttons[ i ];\r\n\t\t\tbutton.setState( state, isOn );\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\thasState( state: DBaseState ): boolean {\r\n\t\tconst buttons = this._buttons;\r\n\t\tfor( let i = 0, imax = buttons.length; i < imax; ++i ) {\r\n\t\t\tif( buttons[ i ].hasState( state ) ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tclear(): void {\r\n\t\tthis._buttons.length = 0;\r\n\t}\r\n\r\n\tdestroy(): void {\r\n\t\tthis.clear();\r\n\t}\r\n}\r\n"]}