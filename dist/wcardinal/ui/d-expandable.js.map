{"version":3,"file":"d-expandable.js","sourceRoot":"","sources":["../../../src/main/typescript/wcardinal/ui/d-expandable.ts"],"names":[],"mappings":"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","sourcesContent":["/*\r\n * Copyright (C) 2019 Toshiba Corporation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\r\n\r\nimport { Container, DisplayObject } from \"pixi.js\";\r\nimport { DBase } from \"./d-base\";\r\nimport { DBaseState } from \"./d-base-state\";\r\nimport { DBaseStates } from \"./d-base-states\";\r\nimport { DExpandableHeader, DExpandableHeaderOptions } from \"./d-expandable-header\";\r\nimport { DLayoutVertical, DLayoutVerticalOptions, DThemeLayoutVertical } from \"./d-layout-vertical\";\r\n\r\nexport interface DExpandableOptions<\r\n\tTHEME extends DThemeExpandable = DThemeExpandable\r\n> extends DLayoutVerticalOptions<THEME> {\r\n\theader?: DisplayObject | DExpandableHeaderOptions;\r\n\tbody: Container;\r\n}\r\n\r\nexport interface DThemeExpandable extends DThemeLayoutVertical {\r\n\r\n}\r\n\r\nexport class DExpandable<\r\n\tTHEME extends DThemeExpandable = DThemeExpandable,\r\n\tOPTIONS extends DExpandableOptions<THEME> = DExpandableOptions<THEME>\r\n> extends DLayoutVertical<THEME, OPTIONS> {\r\n\tprotected _header!: DisplayObject;\r\n\tprotected _body!: Container;\r\n\r\n\tprotected init( options: OPTIONS ) {\r\n\t\tsuper.init( options );\r\n\r\n\t\t// Header\r\n\t\tconst theme = this.theme;\r\n\t\tconst header = this.toHeader( theme, options );\r\n\t\tthis._header = header;\r\n\t\theader.on( \"select\", (): void => {\r\n\t\t\tthis.toggle();\r\n\t\t});\r\n\t\tthis.addChild( header );\r\n\r\n\t\t// Body\r\n\t\tconst body = this.toBody( theme, options );\r\n\t\tthis._body = body;\r\n\t\tthis.addChild( body );\r\n\r\n\t\t//\r\n\t\tif( this.isActive() ) {\r\n\t\t\tthis.onActivated();\r\n\t\t} else {\r\n\t\t\tthis.onDeactivated();\r\n\t\t}\r\n\t}\r\n\r\n\tprotected toHeader( theme: THEME, options?: OPTIONS ): DisplayObject {\r\n\t\tif( options && options.header ) {\r\n\t\t\tif( options.header instanceof DisplayObject ) {\r\n\t\t\t\treturn options.header;\r\n\t\t\t} else {\r\n\t\t\t\treturn this.newHeader( theme, options.header );\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this.newHeader( theme );\r\n\t}\r\n\r\n\tprotected newHeader( theme: THEME, options?: DExpandableHeaderOptions ): DisplayObject {\r\n\t\treturn new DExpandableHeader( options );\r\n\t}\r\n\r\n\tprotected toBody( theme: THEME,  options: OPTIONS ): Container {\r\n\t\treturn options.body;\r\n\t}\r\n\r\n\topen(): void {\r\n\t\tthis.setActive( true );\r\n\t}\r\n\r\n\tclose(): void {\r\n\t\tthis.setActive( false );\r\n\t}\r\n\r\n\ttoggle(): void {\r\n\t\tthis.setActive( ! this.isActive() );\r\n\t}\r\n\r\n\tprotected onActivated(): void {\r\n\t\tconst body = this._body;\r\n\t\tif( body instanceof DBase ) {\r\n\t\t\tbody.show();\r\n\t\t} else {\r\n\t\t\tbody.visible = true;\r\n\t\t}\r\n\t}\r\n\r\n\tprotected onDeactivated(): void {\r\n\t\tconst body = this._body;\r\n\t\tif( body instanceof DBase ) {\r\n\t\t\tbody.hide();\r\n\t\t} else {\r\n\t\t\tbody.visible = false;\r\n\t\t}\r\n\t}\r\n\r\n\tprotected onStateChange( newState: DBaseState, oldState: DBaseState ): void {\r\n\t\tsuper.onStateChange( newState, oldState );\r\n\r\n\t\tif( DBaseStates.isActive( newState ) ) {\r\n\t\t\tif( ! DBaseStates.isActive( oldState ) ) {\r\n\t\t\t\tthis.onActivated();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif( DBaseStates.isActive( oldState ) ) {\r\n\t\t\t\tthis.onDeactivated();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprotected getType(): string {\r\n\t\treturn \"DExpandable\";\r\n\t}\r\n}\r\n"]}