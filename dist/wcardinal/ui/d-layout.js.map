{"version":3,"file":"d-layout.js","sourceRoot":"","sources":["../../../src/main/typescript/wcardinal/ui/d-layout.ts"],"names":[],"mappings":"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","sourcesContent":["/*\r\n * Copyright (C) 2019 Toshiba Corporation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\r\n\r\nimport { DisplayObject } from \"pixi.js\";\r\nimport { DBase, DBaseCornerOptions, DBaseOptions, DThemeBase } from \"./d-base\";\r\nimport { DBaseState } from \"./d-base-state\";\r\nimport { DCornerMask } from \"./d-corner-mask\";\r\nimport { DLayoutClearType } from \"./d-layout-clear-type\";\r\nimport { DLayoutDirection } from \"./d-layout-direction\";\r\nimport { DLayoutSpace, DLayoutSpaceOptions } from \"./d-layout-space\";\r\nimport { isNumber } from \"./util/is-number\";\r\nimport { isString } from \"./util/is-string\";\r\n\r\nexport interface DLayoutMargin {\r\n\thorizontal: number;\r\n\tvertical: number;\r\n}\r\n\r\nexport interface DLayoutMarginOptions {\r\n\thorizontal?: number;\r\n\tvertical?: number;\r\n}\r\n\r\nexport interface DLayoutCornerOptions extends DBaseCornerOptions {\r\n\tadjust?: boolean;\r\n}\r\n\r\nexport interface DLayoutOptions<THEME extends DThemeLayout> extends DBaseOptions<THEME> {\r\n\tmargin?: number | DLayoutMarginOptions;\r\n\tcorner?: number | DLayoutCornerOptions;\r\n\trow?: number;\r\n\tcolumn?: number;\r\n\tdirection?: (keyof typeof DLayoutDirection) | DLayoutDirection;\r\n\treverse?: boolean;\r\n}\r\n\r\nexport interface DThemeLayout extends DThemeBase {\r\n\tgetMargin(): number;\r\n\tgetDirection(): DLayoutDirection;\r\n\tgetCornerAdjust(): boolean;\r\n\tgetMultiplicity(): number;\r\n\tgetReverse(): boolean;\r\n}\r\n\r\nconst isVisible = ( child: DisplayObject ): child is DBase => {\r\n\treturn child instanceof DBase && (child.visible || child instanceof DLayoutSpace);\r\n};\r\n\r\nconst toMultiplicity = ( theme: DThemeLayout, options?: DLayoutOptions<DThemeLayout> ): number => {\r\n\tif( options ) {\r\n\t\tif( options.row != null ) {\r\n\t\t\treturn options.row;\r\n\t\t}\r\n\t\tif( options.column != null ) {\r\n\t\t\treturn options.column;\r\n\t\t}\r\n\t}\r\n\treturn theme.getMultiplicity();\r\n};\r\n\r\nconst toMargin = ( theme: DThemeLayout, options?: DLayoutOptions<DThemeLayout> ): DLayoutMargin => {\r\n\tif( options && options.margin != null ) {\r\n\t\tconst margin = options.margin;\r\n\t\tif( isNumber( margin ) ) {\r\n\t\t\treturn {\r\n\t\t\t\thorizontal: margin,\r\n\t\t\t\tvertical: margin\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tconst themeMargin = theme.getMargin();\r\n\t\t\treturn {\r\n\t\t\t\thorizontal: ( margin.horizontal != null ? margin.horizontal : themeMargin ),\r\n\t\t\t\tvertical: ( margin.vertical != null ? margin.vertical : themeMargin )\r\n\t\t\t};\r\n\t\t}\r\n\t} else {\r\n\t\tconst themeMargin = theme.getMargin();\r\n\t\treturn {\r\n\t\t\thorizontal: themeMargin,\r\n\t\t\tvertical: themeMargin\r\n\t\t};\r\n\t}\r\n};\r\n\r\nconst toDirection = ( theme: DThemeLayout, options?: DLayoutOptions<DThemeLayout> ): DLayoutDirection => {\r\n\tif( options && options.direction != null ) {\r\n\t\tconst direction = options.direction;\r\n\t\tif( isString( direction ) ) {\r\n\t\t\treturn DLayoutDirection[ direction ];\r\n\t\t} else {\r\n\t\t\treturn direction;\r\n\t\t}\r\n\t}\r\n\treturn theme.getDirection();\r\n};\r\n\r\nconst toCornerAdjust = ( theme: DThemeLayout, options?: DLayoutOptions<DThemeLayout> ): boolean => {\r\n\tif( options && options.corner != null && ! isNumber( options.corner ) && options.corner.adjust != null ) {\r\n\t\treturn options.corner.adjust;\r\n\t}\r\n\treturn theme.getCornerAdjust();\r\n};\r\n\r\nconst toReverse = ( theme: DThemeLayout, options?: DLayoutOptions<DThemeLayout> ): boolean => {\r\n\tif( options && options.reverse != null ) {\r\n\t\treturn options.reverse;\r\n\t}\r\n\treturn theme.getReverse();\r\n};\r\n\r\nexport abstract class DLayout<\r\n\tTHEME extends DThemeLayout,\r\n\tOPTIONS extends DLayoutOptions<THEME>\r\n> extends DBase<THEME, OPTIONS> {\r\n\tstatic CORNER_ADJUST_WORK: Float32Array | null = null;\r\n\r\n\tprotected _margin!: DLayoutMargin;\r\n\tprotected _cornerAdjust!: boolean;\r\n\tprotected _multiplicity!: number;\r\n\tprotected _direction!: DLayoutDirection;\r\n\tprotected _reverse!: boolean;\r\n\r\n\tconstructor( options?: OPTIONS ) {\r\n\t\tsuper( options );\r\n\t}\r\n\r\n\tprotected init( options?: OPTIONS ): void {\r\n\t\tsuper.init( options );\r\n\r\n\t\tthis.setState( DBaseState.UNFOCUSABLE, true );\r\n\t\tconst theme = this.theme;\r\n\t\tthis._margin = toMargin( theme, options );\r\n\t\tthis._direction = toDirection( theme, options );\r\n\t\tthis._cornerAdjust = toCornerAdjust( theme, options );\r\n\t\tthis._multiplicity = toMultiplicity( theme, options );\r\n\t\tthis._reverse = toReverse( theme, options );\r\n\t}\r\n\r\n\tprotected getWeightTotal() {\r\n\t\tconst children = this.children;\r\n\t\tlet result = 0;\r\n\t\tconst multiplicity = this._multiplicity;\r\n\t\tconst reverse = this._reverse;\r\n\t\tfor( let i = 0, imax = children.length; i < imax; ) {\r\n\t\t\tlet weight = -1;\r\n\t\t\tlet j = 0;\r\n\t\t\tfor( ; j < multiplicity && i + j < imax; ++j ) {\r\n\t\t\t\tconst child = children[ reverse ? imax - 1 - (i + j) : i + j ];\r\n\t\t\t\tif( isVisible( child ) ) {\r\n\t\t\t\t\tconst clearType = child.getClearType();\r\n\t\t\t\t\tif( j !== 0 && (clearType & DLayoutClearType.BEFORE) ) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tweight = Math.max( weight, child.weight );\r\n\t\t\t\t\t\tif( clearType && DLayoutClearType.AFTER ) {\r\n\t\t\t\t\t\t\tj += 1;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\ti += 1;\r\n\t\t\t\t\tj -= 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ti += j;\r\n\t\t\tif( 0 <= weight ) {\r\n\t\t\t\tresult += weight;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprotected getSpaceLeft( baseSize: number, margin: number ) {\r\n\t\tconst children = this.children;\r\n\t\tconst multiplicity = this._multiplicity;\r\n\t\tconst reverse = this._reverse;\r\n\t\tif( this._direction === DLayoutDirection.VERTICAL ) {\r\n\t\t\tlet result = baseSize;\r\n\t\t\tlet marginNext = 0;\r\n\t\t\tfor( let i = 0, imax = children.length; i < imax; ) {\r\n\t\t\t\tlet height = 0;\r\n\t\t\t\tlet weight = -1;\r\n\t\t\t\tlet j = 0;\r\n\t\t\t\tfor( ; j < multiplicity && i + j < imax; ++j ) {\r\n\t\t\t\t\tconst child = children[ reverse ? imax - 1 - (i + j) : i + j ];\r\n\t\t\t\t\tif( isVisible( child ) ) {\r\n\t\t\t\t\t\tconst clearType = child.getClearType();\r\n\t\t\t\t\t\tif( j !== 0 && (clearType & DLayoutClearType.BEFORE) ) {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tweight = Math.max( weight, child.weight );\r\n\t\t\t\t\t\t\tif( weight < 0 ) {\r\n\t\t\t\t\t\t\t\theight = Math.max( height, child.height + marginNext );\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\theight = marginNext;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif( clearType & DLayoutClearType.AFTER ) {\r\n\t\t\t\t\t\t\t\tj += 1;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ti += 1;\r\n\t\t\t\t\t\tj -= 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\ti += j;\r\n\t\t\t\tresult -= height;\r\n\t\t\t\tmarginNext = margin;\r\n\t\t\t}\r\n\t\t\treturn Math.max( 0, result );\r\n\t\t} else {\r\n\t\t\tlet result = baseSize;\r\n\t\t\tlet marginNext = 0;\r\n\t\t\tfor( let i = 0, imax = children.length; i < imax; ) {\r\n\t\t\t\tlet width = 0;\r\n\t\t\t\tlet weight = -1;\r\n\t\t\t\tlet j = 0;\r\n\t\t\t\tfor( ; j < multiplicity && i + j < imax; ++j ) {\r\n\t\t\t\t\tconst child = children[ reverse ? imax - 1 - (i + j) : i + j ];\r\n\t\t\t\t\tif( isVisible( child ) ) {\r\n\t\t\t\t\t\tconst clearType = child.getClearType();\r\n\t\t\t\t\t\tif( j !== 0 && (clearType & DLayoutClearType.BEFORE) ) {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tweight = Math.max( weight, child.weight );\r\n\t\t\t\t\t\t\tif( weight < 0 ) {\r\n\t\t\t\t\t\t\t\twidth = Math.max( width, child.width + marginNext );\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\twidth = marginNext;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif( clearType & DLayoutClearType.AFTER ) {\r\n\t\t\t\t\t\t\t\tj += 1;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ti += 1;\r\n\t\t\t\t\t\tj -= 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\ti += j;\r\n\t\t\t\tresult -= width;\r\n\t\t\t\tmarginNext = margin;\r\n\t\t\t}\r\n\t\t\treturn Math.max( 0, result );\r\n\t\t}\r\n\t}\r\n\r\n\tprotected onRefit(): void {\r\n\t\tconst children = this.children;\r\n\t\tconst padding = this._padding;\r\n\t\tconst paddingTop = padding.getTop();\r\n\t\tconst paddingBottom = padding.getBottom();\r\n\t\tconst paddingLeft = padding.getLeft();\r\n\t\tconst paddingRight = padding.getRight();\r\n\t\tconst margin = this._margin;\r\n\t\tconst marginVertical = margin.vertical;\r\n\t\tconst marginHorizontal = margin.horizontal;\r\n\t\tconst weightTotal = this.getWeightTotal();\r\n\t\tconst multiplicity = this._multiplicity;\r\n\t\tconst reverse = this._reverse;\r\n\r\n\t\tlet cornerAdjustWork = null;\r\n\t\tif( this._cornerAdjust ) {\r\n\t\t\tconst requiredSize = 4 + ( children.length << 1 );\r\n\t\t\tif( DLayout.CORNER_ADJUST_WORK == null || DLayout.CORNER_ADJUST_WORK.length < requiredSize ) {\r\n\t\t\t\tDLayout.CORNER_ADJUST_WORK = new Float32Array( requiredSize );\r\n\t\t\t}\r\n\t\t\tcornerAdjustWork = DLayout.CORNER_ADJUST_WORK;\r\n\t\t\tcornerAdjustWork[ 0 ] = -2;\r\n\t\t\tcornerAdjustWork[ 1 ] = -2;\r\n\t\t\tcornerAdjustWork[ requiredSize - 2 ] = -3;\r\n\t\t\tcornerAdjustWork[ requiredSize - 1 ] = -3;\r\n\t\t}\r\n\r\n\t\tif( this._direction === DLayoutDirection.VERTICAL ) {\r\n\t\t\tlet irow = 0;\r\n\t\t\tlet y = paddingTop - marginVertical;\r\n\t\t\tif( 0 < weightTotal ) {\r\n\t\t\t\tconst weightTotalInverse = 1 / weightTotal;\r\n\t\t\t\tconst baseSize = this.height - paddingTop - paddingBottom;\r\n\t\t\t\tconst spaceLeft = this.getSpaceLeft( baseSize, marginVertical );\r\n\t\t\t\tfor( let i = 0, imax = children.length; i < imax; ) {\r\n\t\t\t\t\tlet x = paddingLeft - marginHorizontal;\r\n\t\t\t\t\tlet height = 0;\r\n\t\t\t\t\tlet j = 0;\r\n\t\t\t\t\tfor( ; j < multiplicity && i + j < imax; ++j ) {\r\n\t\t\t\t\t\tconst child = children[ reverse ? imax - 1 - (i + j) : i + j ];\r\n\t\t\t\t\t\tif( isVisible( child ) ) {\r\n\t\t\t\t\t\t\tconst clearType = child.getClearType();\r\n\t\t\t\t\t\t\tif( j !== 0 && (clearType & DLayoutClearType.BEFORE) ) {\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tchild.position.set( marginHorizontal + x, marginVertical + y );\r\n\t\t\t\t\t\t\t\tconst weight = child.weight;\r\n\t\t\t\t\t\t\t\tif( 0 <= weight ) {\r\n\t\t\t\t\t\t\t\t\tchild.height = spaceLeft * ( weight * weightTotalInverse );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tx += marginHorizontal + child.width;\r\n\t\t\t\t\t\t\t\theight = Math.max( height, child.height );\r\n\t\t\t\t\t\t\t\tif( clearType & DLayoutClearType.AFTER ) {\r\n\t\t\t\t\t\t\t\t\tif( cornerAdjustWork != null ) {\r\n\t\t\t\t\t\t\t\t\t\tconst k = (i + j + 1) << 1;\r\n\t\t\t\t\t\t\t\t\t\tcornerAdjustWork[ k + 0 ] = j;\r\n\t\t\t\t\t\t\t\t\t\tcornerAdjustWork[ k + 1 ] = irow;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tj += 1;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tif( cornerAdjustWork != null ) {\r\n\t\t\t\t\t\t\t\t\t\tconst k = (i + j + 1) << 1;\r\n\t\t\t\t\t\t\t\t\t\tcornerAdjustWork[ k + 0 ] = j;\r\n\t\t\t\t\t\t\t\t\t\tcornerAdjustWork[ k + 1 ] = irow;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif( cornerAdjustWork != null ) {\r\n\t\t\t\t\t\t\t\tconst k = (i + j + 1) << 1;\r\n\t\t\t\t\t\t\t\tcornerAdjustWork[ k + 0 ] = j - 1;\r\n\t\t\t\t\t\t\t\tcornerAdjustWork[ k + 1 ] = irow;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ti += 1;\r\n\t\t\t\t\t\t\tj -= 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\ty += marginVertical + height;\r\n\t\t\t\t\ti += j;\r\n\t\t\t\t\tirow += 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif( cornerAdjustWork != null ) {\r\n\t\t\t\t\tfor( let i = 0, imax = children.length; i < imax; ++i ) {\r\n\t\t\t\t\t\tconst child = children[ reverse ? imax - 1 - i : i ];\r\n\t\t\t\t\t\tif( isVisible( child ) ) {\r\n\t\t\t\t\t\t\tconst i1 = 2 + ( i << 1 );\r\n\t\t\t\t\t\t\tconst icolumn1 = cornerAdjustWork[ i1 + 0 ];\r\n\t\t\t\t\t\t\tconst irow1 = cornerAdjustWork[ i1 + 1 ];\r\n\t\t\t\t\t\t\tconst clearType = child.getClearType();\r\n\r\n\t\t\t\t\t\t\tlet icolumn0 = -2;\r\n\t\t\t\t\t\t\tif( ! (clearType & DLayoutClearType.BEFORE) ) {\r\n\t\t\t\t\t\t\t\tconst i0 = this.findRowIndexPrevious( i1, irow1, cornerAdjustWork );\r\n\t\t\t\t\t\t\t\tif( ! this.hasClearTypeAfter( children, i0 ) ) {\r\n\t\t\t\t\t\t\t\t\ticolumn0 = cornerAdjustWork[ i0 ];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tlet icolumn2 = -2;\r\n\t\t\t\t\t\t\tif( ! (clearType & DLayoutClearType.AFTER) ) {\r\n\t\t\t\t\t\t\t\tconst i2 = this.findRowIndexNext( i1, irow1, cornerAdjustWork );\r\n\t\t\t\t\t\t\t\tif( ! this.hasClearTypeBefore( children, i2 ) ) {\r\n\t\t\t\t\t\t\t\t\ticolumn2 = cornerAdjustWork[ i2 ];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tconst ncolumn = this.countColumn( i1, irow1, cornerAdjustWork );\r\n\t\t\t\t\t\t\tchild.corner.mask = this.toCornerMaskColumn( icolumn0, icolumn1, icolumn2, ncolumn );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor( let i = 0, imax = children.length; i < imax; ) {\r\n\t\t\t\t\tlet x = paddingLeft - marginHorizontal;\r\n\t\t\t\t\tlet height = 0;\r\n\t\t\t\t\tlet j = 0;\r\n\t\t\t\t\tfor( ; j < multiplicity && i + j < imax; ++j ) {\r\n\t\t\t\t\t\tconst child = children[ reverse ? imax - 1 - (i + j) : i + j ];\r\n\t\t\t\t\t\tif( isVisible( child ) ) {\r\n\t\t\t\t\t\t\tconst clearType = child.getClearType();\r\n\t\t\t\t\t\t\tif( j !== 0 && (clearType & DLayoutClearType.BEFORE) ) {\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tchild.position.set( marginHorizontal + x, marginVertical + y );\r\n\t\t\t\t\t\t\t\tconst weight = child.weight;\r\n\t\t\t\t\t\t\t\tif( 0 <= weight ) {\r\n\t\t\t\t\t\t\t\t\tchild.height = 0;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tx += marginHorizontal + child.width;\r\n\t\t\t\t\t\t\t\theight = Math.max( height, child.height );\r\n\t\t\t\t\t\t\t\tif( clearType & DLayoutClearType.AFTER ) {\r\n\t\t\t\t\t\t\t\t\tif( cornerAdjustWork != null ) {\r\n\t\t\t\t\t\t\t\t\t\tconst k = (i + j + 1) << 1;\r\n\t\t\t\t\t\t\t\t\t\tcornerAdjustWork[ k + 0 ] = j;\r\n\t\t\t\t\t\t\t\t\t\tcornerAdjustWork[ k + 1 ] = irow;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tj += 1;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tif( cornerAdjustWork != null ) {\r\n\t\t\t\t\t\t\t\t\t\tconst k = (i + j + 1) << 1;\r\n\t\t\t\t\t\t\t\t\t\tcornerAdjustWork[ k + 0 ] = j;\r\n\t\t\t\t\t\t\t\t\t\tcornerAdjustWork[ k + 1 ] = irow;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif( cornerAdjustWork != null ) {\r\n\t\t\t\t\t\t\t\tconst k = (i + j + 1) << 1;\r\n\t\t\t\t\t\t\t\tcornerAdjustWork[ k + 0 ] = j - 1;\r\n\t\t\t\t\t\t\t\tcornerAdjustWork[ k + 1 ] = irow;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ti += 1;\r\n\t\t\t\t\t\t\tj -= 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\ty += marginVertical + height;\r\n\t\t\t\t\ti += j;\r\n\t\t\t\t\tirow += 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif( cornerAdjustWork != null ) {\r\n\t\t\t\t\tfor( let i = 0, imax = children.length; i < imax; ++i ) {\r\n\t\t\t\t\t\tconst child = children[ reverse ? imax - 1 - i : i ];\r\n\t\t\t\t\t\tif( isVisible( child ) ) {\r\n\t\t\t\t\t\t\tconst i1 = 2 + ( i << 1 );\r\n\t\t\t\t\t\t\tconst icolumn1 = cornerAdjustWork[ i1 + 0 ];\r\n\t\t\t\t\t\t\tconst irow1 = cornerAdjustWork[ i1 + 1 ];\r\n\t\t\t\t\t\t\tconst clearType = child.getClearType();\r\n\r\n\t\t\t\t\t\t\tlet icolumn0 = -2;\r\n\t\t\t\t\t\t\tif( ! (clearType & DLayoutClearType.BEFORE) ) {\r\n\t\t\t\t\t\t\t\tconst i0 = this.findRowIndexPrevious( i1, irow1, cornerAdjustWork );\r\n\t\t\t\t\t\t\t\tif( ! this.hasClearTypeAfter( children, i0 ) ) {\r\n\t\t\t\t\t\t\t\t\ticolumn0 = cornerAdjustWork[ i0 ];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tlet icolumn2 = -2;\r\n\t\t\t\t\t\t\tif( ! (clearType & DLayoutClearType.AFTER) ) {\r\n\t\t\t\t\t\t\t\tconst i2 = this.findRowIndexNext( i1, irow1, cornerAdjustWork );\r\n\t\t\t\t\t\t\t\tif( ! this.hasClearTypeBefore( children, i2 ) ) {\r\n\t\t\t\t\t\t\t\t\ticolumn2 = cornerAdjustWork[ i2 ];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tconst ncolumn = this.countColumn( i1, irow1, cornerAdjustWork );\r\n\t\t\t\t\t\t\tchild.corner.mask = this.toCornerMaskColumn( icolumn0, icolumn1, icolumn2, ncolumn );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tlet icolumn = 0;\r\n\t\t\tlet x = paddingLeft - marginHorizontal;\r\n\t\t\tif( 0 < weightTotal ) {\r\n\t\t\t\tconst weightTotalInverse = 1 / weightTotal;\r\n\t\t\t\tconst baseSize = this.width - paddingLeft - paddingRight;\r\n\t\t\t\tconst spaceLeft = this.getSpaceLeft( baseSize, marginHorizontal );\r\n\t\t\t\tfor( let i = 0, imax = children.length; i < imax; ) {\r\n\t\t\t\t\tlet y = paddingTop - marginVertical;\r\n\t\t\t\t\tlet width = 0;\r\n\t\t\t\t\tlet j = 0;\r\n\t\t\t\t\tfor( ; j < multiplicity && i + j < imax; ++j ) {\r\n\t\t\t\t\t\tconst child = children[ reverse ? imax - 1 - (i + j) : i + j ];\r\n\t\t\t\t\t\tif( isVisible( child ) ) {\r\n\t\t\t\t\t\t\tconst clearType = child.getClearType();\r\n\t\t\t\t\t\t\tif( j !== 0 && (clearType & DLayoutClearType.BEFORE) ) {\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tchild.position.set( marginHorizontal + x, marginVertical + y );\r\n\t\t\t\t\t\t\t\tconst weight = child.weight;\r\n\t\t\t\t\t\t\t\tif( 0 <= weight ) {\r\n\t\t\t\t\t\t\t\t\tchild.width = spaceLeft * ( weight * weightTotalInverse );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\twidth = Math.max( width, child.width );\r\n\t\t\t\t\t\t\t\ty += marginVertical + child.height;\r\n\t\t\t\t\t\t\t\tif( clearType & DLayoutClearType.AFTER ) {\r\n\t\t\t\t\t\t\t\t\tif( cornerAdjustWork != null ) {\r\n\t\t\t\t\t\t\t\t\t\tconst k = (i + j + 1) << 1;\r\n\t\t\t\t\t\t\t\t\t\tcornerAdjustWork[ k + 0 ] = icolumn;\r\n\t\t\t\t\t\t\t\t\t\tcornerAdjustWork[ k + 1 ] = j;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tj += 1;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tif( cornerAdjustWork != null ) {\r\n\t\t\t\t\t\t\t\t\t\tconst k = (i + j + 1) << 1;\r\n\t\t\t\t\t\t\t\t\t\tcornerAdjustWork[ k + 0 ] = icolumn;\r\n\t\t\t\t\t\t\t\t\t\tcornerAdjustWork[ k + 1 ] = j;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif( cornerAdjustWork != null ) {\r\n\t\t\t\t\t\t\t\tconst k = (i + j + 1) << 1;\r\n\t\t\t\t\t\t\t\tcornerAdjustWork[ k + 0 ] = icolumn;\r\n\t\t\t\t\t\t\t\tcornerAdjustWork[ k + 1 ] = j - 1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ti += 1;\r\n\t\t\t\t\t\t\tj -= 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tx += marginHorizontal + width;\r\n\t\t\t\t\ti += j;\r\n\t\t\t\t\ticolumn += 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif( cornerAdjustWork != null ) {\r\n\t\t\t\t\tfor( let i = 0, imax = children.length; i < imax; ++i ) {\r\n\t\t\t\t\t\tconst child = children[ reverse ? imax - 1 - i : i ];\r\n\t\t\t\t\t\tif( isVisible( child ) ) {\r\n\t\t\t\t\t\t\tconst i1 = 2 + ( i << 1 );\r\n\t\t\t\t\t\t\tconst icolumn1 = cornerAdjustWork[ i1 + 0 ];\r\n\t\t\t\t\t\t\tconst irow1 = cornerAdjustWork[ i1 + 1 ];\r\n\t\t\t\t\t\t\tconst clearType = child.getClearType();\r\n\r\n\t\t\t\t\t\t\tlet irow0 = -2;\r\n\t\t\t\t\t\t\tif( ! (clearType & DLayoutClearType.BEFORE) ) {\r\n\t\t\t\t\t\t\t\tconst i0 = this.findColumnIndexPrevious( i1, icolumn1, cornerAdjustWork );\r\n\t\t\t\t\t\t\t\tif( ! this.hasClearTypeAfter( children, i0 ) ) {\r\n\t\t\t\t\t\t\t\t\tirow0 = cornerAdjustWork[ i0 + 1 ];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tlet irow2 = -2;\r\n\t\t\t\t\t\t\tif( ! (clearType & DLayoutClearType.AFTER) ) {\r\n\t\t\t\t\t\t\t\tconst i2 = this.findColumnIndexNext( i1, icolumn1, cornerAdjustWork );\r\n\t\t\t\t\t\t\t\tif( ! this.hasClearTypeBefore( children, i2 ) ) {\r\n\t\t\t\t\t\t\t\t\tirow2 = cornerAdjustWork[ i2 + 1 ];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tconst nrow = this.countRow( i1, icolumn1, cornerAdjustWork );\r\n\t\t\t\t\t\t\tchild.corner.mask = this.toCornerMaskRow( irow0, irow1, irow2, nrow );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor( let i = 0, imax = children.length; i < imax; ) {\r\n\t\t\t\t\tlet y = paddingTop - marginVertical;\r\n\t\t\t\t\tlet width = 0;\r\n\t\t\t\t\tlet j = 0;\r\n\t\t\t\t\tfor( ; j < multiplicity && i + j < imax; ++j ) {\r\n\t\t\t\t\t\tconst child = children[ reverse ? imax - 1 - (i + j) : i + j ];\r\n\t\t\t\t\t\tif( isVisible( child ) ) {\r\n\t\t\t\t\t\t\tconst clearType = child.getClearType();\r\n\t\t\t\t\t\t\tif( j !== 0 && (clearType & DLayoutClearType.BEFORE) ) {\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tchild.position.set( marginHorizontal + x, marginVertical + y );\r\n\t\t\t\t\t\t\t\tconst weight = child.weight;\r\n\t\t\t\t\t\t\t\tif( 0 <= weight ) {\r\n\t\t\t\t\t\t\t\t\tchild.width = 0;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\twidth = Math.max( width, child.width );\r\n\t\t\t\t\t\t\t\ty += marginVertical + child.height;\r\n\t\t\t\t\t\t\t\tif( clearType & DLayoutClearType.AFTER ) {\r\n\t\t\t\t\t\t\t\t\tif( cornerAdjustWork != null ) {\r\n\t\t\t\t\t\t\t\t\t\tconst k = (i + j + 1) << 1;\r\n\t\t\t\t\t\t\t\t\t\tcornerAdjustWork[ k + 0 ] = icolumn;\r\n\t\t\t\t\t\t\t\t\t\tcornerAdjustWork[ k + 1 ] = j;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tj += 1;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tif( cornerAdjustWork != null ) {\r\n\t\t\t\t\t\t\t\t\t\tconst k = (i + j + 1) << 1;\r\n\t\t\t\t\t\t\t\t\t\tcornerAdjustWork[ k + 0 ] = icolumn;\r\n\t\t\t\t\t\t\t\t\t\tcornerAdjustWork[ k + 1 ] = j;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif( cornerAdjustWork != null ) {\r\n\t\t\t\t\t\t\t\tconst k = (i + j + 1) << 1;\r\n\t\t\t\t\t\t\t\tcornerAdjustWork[ k + 0 ] = icolumn;\r\n\t\t\t\t\t\t\t\tcornerAdjustWork[ k + 1 ] = j - 1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ti += 1;\r\n\t\t\t\t\t\t\tj -= 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tx += marginHorizontal + width;\r\n\t\t\t\t\ti += j;\r\n\t\t\t\t\ticolumn += 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif( cornerAdjustWork != null ) {\r\n\t\t\t\t\tfor( let i = 0, imax = children.length; i < imax; ++i ) {\r\n\t\t\t\t\t\tconst child = children[ reverse ? imax - 1 - i : i ];\r\n\t\t\t\t\t\tif( isVisible( child ) ) {\r\n\t\t\t\t\t\t\tconst i1 = 2 + ( i << 1 );\r\n\t\t\t\t\t\t\tconst icolumn1 = cornerAdjustWork[ i1 + 0 ];\r\n\t\t\t\t\t\t\tconst irow1 = cornerAdjustWork[ i1 + 1 ];\r\n\t\t\t\t\t\t\tconst clearType = child.getClearType();\r\n\r\n\t\t\t\t\t\t\tlet irow0 = -2;\r\n\t\t\t\t\t\t\tif( ! (clearType & DLayoutClearType.BEFORE) ) {\r\n\t\t\t\t\t\t\t\tconst i0 = this.findColumnIndexPrevious( i1, icolumn1, cornerAdjustWork );\r\n\t\t\t\t\t\t\t\tif( ! this.hasClearTypeAfter( children, i0 ) ) {\r\n\t\t\t\t\t\t\t\t\tirow0 = cornerAdjustWork[ i0 + 1 ];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tlet irow2 = -2;\r\n\t\t\t\t\t\t\tif( ! (clearType & DLayoutClearType.AFTER) ) {\r\n\t\t\t\t\t\t\t\tconst i2 = this.findColumnIndexNext( i1, icolumn1, cornerAdjustWork );\r\n\t\t\t\t\t\t\t\tif( ! this.hasClearTypeBefore( children, i2 ) ) {\r\n\t\t\t\t\t\t\t\t\tirow2 = cornerAdjustWork[ i2 + 1 ];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tconst nrow = this.countRow( i1, icolumn1, cornerAdjustWork );\r\n\t\t\t\t\t\t\tchild.corner.mask = this.toCornerMaskRow( irow0, irow1, irow2, nrow );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsuper.onRefit();\r\n\t}\r\n\r\n\tprotected hasClearTypeBefore( children: DisplayObject[], index: number ): boolean {\r\n\t\treturn this.hasClearType( children, index, DLayoutClearType.BEFORE );\r\n\t}\r\n\r\n\tprotected hasClearTypeAfter( children: DisplayObject[], index: number ): boolean {\r\n\t\treturn this.hasClearType( children, index, DLayoutClearType.AFTER );\r\n\t}\r\n\r\n\tprotected hasClearType( children: DisplayObject[], index: number, clearType: DLayoutClearType ): boolean {\r\n\t\tif( 2 <= index ) {\r\n\t\t\tconst i = (index - 2) >> 1;\r\n\t\t\tif( 0 <= i && i < children.length ) {\r\n\t\t\t\tconst child = children[ i ];\r\n\t\t\t\tif( child instanceof DBase ) {\r\n\t\t\t\t\treturn !!( child.getClearType() & clearType );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tprotected findColumnIndexPrevious( istart: number, icolumn: number, cornerAdjustWork: Float32Array ): number {\r\n\t\tfor( let i = istart - 2; 0 <= i; i -= 2 ) {\r\n\t\t\tif( cornerAdjustWork[ i ] !== icolumn ) {\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tprotected findColumnIndexNext( istart: number, icolumn: number, cornerAdjustWork: Float32Array ): number {\r\n\t\tfor( let i = istart + 2, imax = cornerAdjustWork.length; i < imax; i += 2 ) {\r\n\t\t\tconst icolumn2 = cornerAdjustWork[ i ];\r\n\t\t\tif( icolumn2 !== icolumn ) {\r\n\t\t\t\tfor( let j = i + 2; j < imax; j += 2 ) {\r\n\t\t\t\t\tif( cornerAdjustWork[ j ] !== icolumn2 ) {\r\n\t\t\t\t\t\treturn j - 2;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn cornerAdjustWork.length - 2;\r\n\t}\r\n\r\n\tprotected countRow( istart: number, icolumn: number, cornerAdjustWork: Float32Array ): number {\r\n\t\tfor( let i = istart + 2, imax = cornerAdjustWork.length; i < imax; i += 2 ) {\r\n\t\t\tconst icolumn2 = cornerAdjustWork[ i ];\r\n\t\t\tif( icolumn2 !== icolumn ) {\r\n\t\t\t\treturn cornerAdjustWork[ i - 2 + 1 ] + 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tprotected findRowIndexPrevious( istart: number, irow: number, cornerAdjustWork: Float32Array ): number {\r\n\t\tfor( let i = istart - 2; 0 <= i; i -= 2 ) {\r\n\t\t\tif( cornerAdjustWork[ i + 1 ] !== irow ) {\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tprotected findRowIndexNext( istart: number, irow: number, cornerAdjustWork: Float32Array ): number {\r\n\t\tfor( let i = istart + 2, imax = cornerAdjustWork.length; i < imax; i += 2 ) {\r\n\t\t\tconst irow2 = cornerAdjustWork[ i + 1 ];\r\n\t\t\tif( irow2 !== irow ) {\r\n\t\t\t\tfor( let j = i + 2; j < imax; j += 2 ) {\r\n\t\t\t\t\tif( cornerAdjustWork[ j + 1 ] !== irow2 ) {\r\n\t\t\t\t\t\treturn j - 2;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn cornerAdjustWork.length - 2;\r\n\t}\r\n\r\n\tprotected countColumn( istart: number, irow: number, cornerAdjustWork: Float32Array ): number {\r\n\t\tfor( let i = istart + 2, imax = cornerAdjustWork.length; i < imax; i += 2 ) {\r\n\t\t\tconst irow2 = cornerAdjustWork[ i + 1 ];\r\n\t\t\tif( irow2 !== irow ) {\r\n\t\t\t\treturn cornerAdjustWork[ i - 2 + 0 ] + 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tprotected toCornerMaskColumn( i0: number, i1: number, i2: number, n: number ): DCornerMask {\r\n\t\tlet result = DCornerMask.NONE;\r\n\t\tif( i0 + 1 < i1 && i1 === 0 ) {\r\n\t\t\tresult |= DCornerMask.TOP_LEFT;\r\n\t\t}\r\n\t\tif( i2 + 1 < i1 && i1 === 0 ) {\r\n\t\t\tresult |= DCornerMask.BOTTOM_LEFT;\r\n\t\t}\r\n\t\tif( i0 < i1 && i1 + 1 === n ) {\r\n\t\t\tresult |= DCornerMask.TOP_RIGHT;\r\n\t\t}\r\n\t\tif( i2 < i1 && i1 + 1 === n ) {\r\n\t\t\tresult |= DCornerMask.BOTTOM_RIGHT;\r\n\t\t}\r\n\t\treturn DCornerMask.ALL & (~result);\r\n\t}\r\n\r\n\tprotected toCornerMaskRow( i0: number, i1: number, i2: number, n: number ): DCornerMask {\r\n\t\tlet result = DCornerMask.NONE;\r\n\t\tif( i0 + 1 < i1 && i1 === 0 ) {\r\n\t\t\tresult |= DCornerMask.TOP_LEFT;\r\n\t\t}\r\n\t\tif( i2 + 1 < i1 && i1 === 0 ) {\r\n\t\t\tresult |= DCornerMask.TOP_RIGHT;\r\n\t\t}\r\n\t\tif( i0 < i1 && i1 + 1 === n ) {\r\n\t\t\tresult |= DCornerMask.BOTTOM_LEFT;\r\n\t\t}\r\n\t\tif( i2 < i1 && i1 + 1 === n ) {\r\n\t\t\tresult |= DCornerMask.BOTTOM_RIGHT;\r\n\t\t}\r\n\t\treturn DCornerMask.ALL & (~result);\r\n\t}\r\n\r\n\taddSpace( options?: DLayoutSpaceOptions ) {\r\n\t\treturn this.addChild( new DLayoutSpace( options ) );\r\n\t}\r\n\r\n\tprotected getType(): string {\r\n\t\treturn \"DLayout\";\r\n\t}\r\n}\r\n"]}