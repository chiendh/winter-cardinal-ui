{"version":3,"file":"d-picker-time.js","sourceRoot":"","sources":["../../../src/main/typescript/wcardinal/ui/d-picker-time.ts"],"names":[],"mappings":"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","sourcesContent":["/*\r\n * Copyright (C) 2019 Toshiba Corporation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\r\n\r\nimport { DisplayObject } from \"pixi.js\";\r\nimport { DBase, DBaseOptions, DThemeBase } from \"./d-base\";\r\nimport { DBaseState } from \"./d-base-state\";\r\nimport { DCoordinateSize } from \"./d-coordinate\";\r\nimport { DInputInteger, DInputIntegerOptions } from \"./d-input-integer\";\r\nimport { DLayoutHorizontal } from \"./d-layout-horizontal\";\r\nimport { DLayoutVertical } from \"./d-layout-vertical\";\r\nimport { DPickerDatetimeMask } from \"./d-picker-datetime-mask\";\r\nimport { DPickerTimeBoundDate, DPickerTimeBoundOptions } from \"./d-picker-time-bound\";\r\nimport { DPickerTimeBounds, DPickerTimeBoundsOptions } from \"./d-picker-time-bounds\";\r\nimport { DText } from \"./d-text\";\r\n\r\nexport interface DPickerTimeOptions<THEME extends DThemePickerTime = DThemePickerTime> extends DBaseOptions<THEME> {\r\n\tmargin?: number;\r\n\thours?: DInputIntegerOptions;\r\n\tminutes?: DInputIntegerOptions;\r\n\tseconds?: DInputIntegerOptions;\r\n\tmask?: DPickerDatetimeMask;\r\n\tbounds?: DPickerTimeBoundsOptions;\r\n}\r\n\r\nexport interface DThemePickerTime extends DThemeBase {\r\n\tgetMargin(): number;\r\n\tgetHoursOptions(): DInputIntegerOptions;\r\n\tgetMinutesOptions(): DInputIntegerOptions;\r\n\tgetSecondsOptions(): DInputIntegerOptions;\r\n\tgetMask(): DPickerDatetimeMask;\r\n\tgetLowerBound(): DPickerTimeBoundDate;\r\n\tisLowerBoundInclusive(): boolean;\r\n\tgetUpperBound(): DPickerTimeBoundDate;\r\n\tisUpperBoundInclusive(): boolean;\r\n}\r\n\r\nconst toBoundOptions = (\r\n\toptions: DPickerTimeBoundOptions | undefined,\r\n\tdate: DPickerTimeBoundDate,\r\n\tinclusive: boolean\r\n): DPickerTimeBoundOptions => {\r\n\tif( options ) {\r\n\t\treturn {\r\n\t\t\tdate: ( options.date !== undefined ? options.date : date ),\r\n\t\t\tinclusive: ( options.inclusive !== undefined ? options.inclusive : inclusive )\r\n\t\t};\r\n\t}\r\n\treturn {\r\n\t\tdate,\r\n\t\tinclusive\r\n\t};\r\n};\r\n\r\nconst toBoundsOptions = (\r\n\ttheme: DThemePickerTime,\r\n\toptions: DPickerTimeBoundsOptions | undefined\r\n): DPickerTimeBoundsOptions => {\r\n\tif( options ) {\r\n\t\treturn {\r\n\t\t\tlower: toBoundOptions(\r\n\t\t\t\toptions.lower,\r\n\t\t\t\ttheme.getLowerBound(),\r\n\t\t\t\ttheme.isLowerBoundInclusive()\r\n\t\t\t),\r\n\t\t\tupper: toBoundOptions(\r\n\t\t\t\toptions.upper,\r\n\t\t\t\ttheme.getUpperBound(),\r\n\t\t\t\ttheme.isUpperBoundInclusive()\r\n\t\t\t)\r\n\t\t};\r\n\t}\r\n\treturn {\r\n\t\tlower: {\r\n\t\t\tdate: theme.getLowerBound(),\r\n\t\t\tinclusive: theme.isLowerBoundInclusive()\r\n\t\t},\r\n\t\tupper: {\r\n\t\t\tdate: theme.getUpperBound(),\r\n\t\t\tinclusive: theme.isUpperBoundInclusive()\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport class DPickerTime<\r\n\tTHEME extends DThemePickerTime = DThemePickerTime,\r\n\tOPTIONS extends DPickerTimeOptions<THEME> = DPickerTimeOptions<THEME>\r\n> extends DBase<THEME, OPTIONS> {\r\n\tprotected _dateBounds!: DPickerTimeBounds;\r\n\tprotected _dateCurrent!: Date;\r\n\tprotected _dateNew!: Date;\r\n\tprotected _inputHours!: DInputInteger | null;\r\n\tprotected _inputMinutes!: DInputInteger | null;\r\n\tprotected _inputSeconds!: DInputInteger | null;\r\n\r\n\tconstructor( options?: OPTIONS ) {\r\n\t\tsuper( options );\r\n\t\tthis.onNewChanged();\r\n\t}\r\n\r\n\tprotected init( options?: OPTIONS ) {\r\n\t\tsuper.init( options );\r\n\r\n\t\tthis.setState( DBaseState.UNFOCUSABLE, true );\r\n\r\n\t\tconst theme = this.theme;\r\n\t\tthis._dateCurrent = new Date();\r\n\t\tconst dateCurrentTime = this._dateCurrent.getTime();\r\n\t\tthis._dateNew = new Date( dateCurrentTime );\r\n\t\tthis._dateBounds = new DPickerTimeBounds(\r\n\t\t\ttoBoundsOptions( theme, options && options.bounds ),\r\n\t\t\t(): void => { this.onNewChanged(); }\r\n\t\t);\r\n\t\tconst margin = ( options && options.margin != null ?\r\n\t\t\toptions.margin : theme.getMargin() );\r\n\t\tnew DLayoutVertical({\r\n\t\t\tparent: this,\r\n\t\t\tx: \"padding\", y: \"padding\",\r\n\t\t\twidth: \"auto\", height: \"auto\",\r\n\t\t\tmargin,\r\n\t\t\tchildren: this.newChildren( theme, options, margin )\r\n\t\t});\r\n\t}\r\n\r\n\tget current(): Date {\r\n\t\treturn this._dateCurrent;\r\n\t}\r\n\r\n\tset current( dateCurrent: Date ) {\r\n\t\tif( this._dateCurrent.getTime() !== dateCurrent.getTime() ) {\r\n\t\t\tthis._dateCurrent = dateCurrent;\r\n\t\t}\r\n\t}\r\n\r\n\tget new(): Date {\r\n\t\treturn this._dateNew;\r\n\t}\r\n\r\n\tset new( dateNew: Date ) {\r\n\t\tif( this._dateNew.getTime() !== dateNew.getTime() ) {\r\n\t\t\tthis._dateNew = dateNew;\r\n\t\t\tthis.onNewChanged();\r\n\t\t}\r\n\t}\r\n\r\n\tget bounds(): DPickerTimeBounds {\r\n\t\treturn this._dateBounds;\r\n\t}\r\n\r\n\thasHours(): boolean {\r\n\t\treturn this._inputHours != null;\r\n\t}\r\n\r\n\thasMinutes(): boolean {\r\n\t\treturn this._inputMinutes != null;\r\n\t}\r\n\r\n\thasSeconds(): boolean {\r\n\t\treturn this._inputSeconds != null;\r\n\t}\r\n\r\n\treset(): void {\r\n\t\tconst currentTime = this._dateCurrent.getTime();\r\n\t\tthis._dateNew.setTime( currentTime );\r\n\t\tthis.onReset();\r\n\t}\r\n\r\n\tprotected onReset(): void {\r\n\t\tthis.onNewChanged();\r\n\t}\r\n\r\n\tprotected onNewChanged(): void {\r\n\t\tconst dateNew = this._dateNew;\r\n\t\tconst dateBounds = this._dateBounds;\r\n\t\tdateBounds.adjust( this._dateNew );\r\n\r\n\t\tconst inputHours = this._inputHours;\r\n\t\tif( inputHours ) {\r\n\t\t\tconst hours = dateBounds.hours;\r\n\t\t\tinputHours.value = dateNew.getHours();\r\n\t\t\tinputHours.min = hours.min( dateNew );\r\n\t\t\tinputHours.max = hours.max( dateNew );\r\n\t\t}\r\n\r\n\t\tconst inputMinutes = this._inputMinutes;\r\n\t\tif( inputMinutes ) {\r\n\t\t\tconst minutes = dateBounds.minutes;\r\n\t\t\tinputMinutes.value = dateNew.getMinutes();\r\n\t\t\tinputMinutes.min = minutes.min( dateNew );\r\n\t\t\tinputMinutes.max = minutes.max( dateNew );\r\n\t\t}\r\n\r\n\t\tconst inputSeconds = this._inputSeconds;\r\n\t\tif( inputSeconds ) {\r\n\t\t\tconst seconds = dateBounds.seconds;\r\n\t\t\tinputSeconds.value = dateNew.getSeconds();\r\n\t\t\tinputSeconds.min = seconds.min( dateNew );\r\n\t\t\tinputSeconds.max = seconds.max( dateNew );\r\n\t\t}\r\n\t}\r\n\r\n\tprotected newChildren( theme: THEME, options: OPTIONS | undefined, margin: number ): Array<DisplayObject | null> {\r\n\t\tconst mask = ( (options && options.mask != null) ? options.mask : theme.getMask() );\r\n\t\tthis._dateBounds.mask = mask;\r\n\t\tthis._inputHours = ( (mask & DPickerDatetimeMask.HOURS) ? this.newInputHours( theme, options ) : null );\r\n\t\tthis._inputMinutes = ( (mask & DPickerDatetimeMask.MINUTES) ? this.newInputMinutes( theme, options ) : null );\r\n\t\tthis._inputSeconds = ( (mask & DPickerDatetimeMask.SECONDS) ? this.newInputSeconds( theme, options ) : null );\r\n\t\treturn [\r\n\t\t\tthis.newTimeLayout(\r\n\t\t\t\tthis._inputHours,\r\n\t\t\t\tthis._inputMinutes,\r\n\t\t\t\tthis._inputSeconds,\r\n\t\t\t\tmargin\r\n\t\t\t)\r\n\t\t];\r\n\t}\r\n\r\n\tprotected newTimeLayout(\r\n\t\thours: DInputInteger | null,\r\n\t\tminutes: DInputInteger | null,\r\n\t\tseconds: DInputInteger | null,\r\n\t\tmargin: number\r\n\t): DLayoutHorizontal | null {\r\n\t\tconst children = this.newTimeLayoutChildren( hours, minutes, seconds );\r\n\t\tif( 0 < children.length ) {\r\n\t\t\treturn new DLayoutHorizontal({\r\n\t\t\t\twidth: this.getTimeLayoutWidth(),\r\n\t\t\t\theight: this.getTimeLayoutHeight(),\r\n\t\t\t\tmargin,\r\n\t\t\t\tchildren\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tprotected getTimeLayoutWidth(): DCoordinateSize {\r\n\t\treturn \"auto\";\r\n\t}\r\n\r\n\tprotected getTimeLayoutHeight(): DCoordinateSize {\r\n\t\treturn \"auto\";\r\n\t}\r\n\r\n\tprotected newTimeLayoutChildren(\r\n\t\thours: DInputInteger | null,\r\n\t\tminutes: DInputInteger | null,\r\n\t\tseconds: DInputInteger | null\r\n\t): Array<DisplayObject | null> {\r\n\t\tconst result = [];\r\n\t\tif( hours != null ) {\r\n\t\t\tresult.push( hours );\r\n\t\t}\r\n\t\tif( minutes != null ) {\r\n\t\t\tif( 0 < result.length ) {\r\n\t\t\t\tresult.push( this.newMinuteSeparator() );\r\n\t\t\t}\r\n\t\t\tresult.push( minutes );\r\n\t\t}\r\n\t\tif( seconds != null ) {\r\n\t\t\tif( 0 < result.length ) {\r\n\t\t\t\tresult.push( this.newSecondSeparator() );\r\n\t\t\t}\r\n\t\t\tresult.push( seconds );\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprotected newMinuteSeparator(): DText | null {\r\n\t\treturn new DText({\r\n\t\t\twidth: \"auto\",\r\n\t\t\ttext: {\r\n\t\t\t\tvalue: this.getMinuteSeparator()\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tgetMinuteSeparator(): string {\r\n\t\treturn \":\";\r\n\t}\r\n\r\n\tprotected newSecondSeparator(): DText | null {\r\n\t\treturn new DText({\r\n\t\t\twidth: \"auto\",\r\n\t\t\ttext: {\r\n\t\t\t\tvalue: this.getSecondSeparator()\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tgetSecondSeparator(): string {\r\n\t\treturn \":\";\r\n\t}\r\n\r\n\tprotected adjustInputOptions( theme: THEME, options: DInputIntegerOptions, max: number ): DInputIntegerOptions {\r\n\t\tif( options.step == null ) {\r\n\t\t\toptions.step = 1;\r\n\t\t}\r\n\t\tif( options.min == null ) {\r\n\t\t\toptions.min = 0;\r\n\t\t}\r\n\t\tif( options.max == null ) {\r\n\t\t\toptions.max = max;\r\n\t\t}\r\n\t\treturn options;\r\n\t}\r\n\r\n\tprotected newInputHours( theme: THEME, options?: OPTIONS ): DInputInteger | null {\r\n\t\tconst inputOptions = ( options && options.hours ) || theme.getHoursOptions();\r\n\t\tconst max = this._dateBounds.constant.hour.max;\r\n\t\tconst input = new DInputInteger( this.adjustInputOptions( theme, inputOptions, max ) );\r\n\t\tinput.on( \"change\", ( value: number ): void => {\r\n\t\t\tthis.onHoursChanged( value );\r\n\t\t});\r\n\t\treturn input;\r\n\t}\r\n\r\n\tprotected onHoursChanged( value: number ): void {\r\n\t\tconst dateNew = this._dateNew;\r\n\t\tdateNew.setHours( value );\r\n\t\tthis.onNewChanged();\r\n\t}\r\n\r\n\tprotected newInputMinutes( theme: THEME, options?: OPTIONS ): DInputInteger | null {\r\n\t\tconst inputOptions = ( options && options.minutes ) || theme.getMinutesOptions();\r\n\t\tconst max = this._dateBounds.constant.minute.max;\r\n\t\tconst input = new DInputInteger( this.adjustInputOptions( theme, inputOptions, max ) );\r\n\t\tinput.on( \"change\", ( value: number ): void => {\r\n\t\t\tthis.onMinutesChanged( value );\r\n\t\t});\r\n\t\treturn input;\r\n\t}\r\n\r\n\tprotected onMinutesChanged( value: number ): void {\r\n\t\tconst dateNew = this._dateNew;\r\n\t\tdateNew.setMinutes( value );\r\n\t\tthis.onNewChanged();\r\n\t}\r\n\r\n\tprotected newInputSeconds( theme: THEME, options?: OPTIONS ): DInputInteger | null {\r\n\t\tconst inputOptions = ( options && options.seconds ) || theme.getSecondsOptions();\r\n\t\tconst max = this._dateBounds.constant.second.max;\r\n\t\tconst input = new DInputInteger( this.adjustInputOptions( theme, inputOptions, max ) );\r\n\t\tinput.on( \"change\", ( value: number ): void => {\r\n\t\t\tthis.onSecondsChanged( value );\r\n\t\t});\r\n\t\treturn input;\r\n\t}\r\n\r\n\tprotected onSecondsChanged( value: number ): void {\r\n\t\tthis._dateNew.setSeconds( value );\r\n\t}\r\n\r\n\tprotected getType(): string {\r\n\t\treturn \"DPickerTime\";\r\n\t}\r\n}\r\n"]}