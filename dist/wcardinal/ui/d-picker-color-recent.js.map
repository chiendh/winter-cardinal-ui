{"version":3,"file":"d-picker-color-recent.js","sourceRoot":"","sources":["../../../src/main/typescript/wcardinal/ui/d-picker-color-recent.ts"],"names":[],"mappings":"AAAA;;;GAGG;;AAEH,OAAO,EAAE,KAAK,EAAE,MAAM,SAAS,CAAC;AAGhC;IAAwC,sCAAkB;IAIzD,4BAAa,OAAyB,EAAE,QAAgB;QAAxD,YACC,iBAAO,SAIP;QAFA,KAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QACxB,KAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;;IAC3B,CAAC;IAED,gCAAG,GAAH,UAAK,KAAa;QACjB,IAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC9B,IAAI,CAAC,IAAI,KAAK,IAAI,KAAK,GAAG,OAAO,CAAC,MAAM,EAAG;YAC1C,OAAO,OAAO,CAAE,OAAO,CAAC,MAAM,GAAG,CAAC,GAAG,KAAK,CAAE,CAAC;SAC7C;QACD,OAAO,IAAI,CAAC;IACb,CAAC;IAED,gCAAG,GAAH,UAAK,KAAa,EAAE,aAA6B;QAChD,IAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC9B,IAAI,CAAC,IAAI,KAAK,IAAI,KAAK,GAAG,OAAO,CAAC,MAAM,EAAG;YAC1C,IAAM,MAAM,GAAG,OAAO,CAAE,OAAO,CAAC,MAAM,GAAG,CAAC,GAAG,KAAK,CAAE,CAAC;YACrD,OAAO,CAAE,OAAO,CAAC,MAAM,GAAG,CAAC,GAAG,KAAK,CAAE,GAAG;gBACvC,KAAK,EAAE,aAAa,CAAC,KAAK;gBAC1B,KAAK,EAAE,aAAa,CAAC,KAAK;aAC1B,CAAC;YACF,IAAI,CAAC,IAAI,CAAE,QAAQ,EAAE,IAAI,CAAE,CAAC;YAC5B,OAAO,MAAM,CAAC;SACd;QACD,OAAO,IAAI,CAAC;IACb,CAAC;IAED,qCAAQ,GAAR,UAAU,aAA6B;QACtC,IAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC9B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,IAAI,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,GAAG,IAAI,EAAE,EAAE,CAAC,EAAG;YACtD,IAAM,MAAM,GAAG,OAAO,CAAE,CAAC,CAAE,CAAC;YAC5B,IAAI,MAAM,CAAC,KAAK,KAAK,aAAa,CAAC,KAAK,IAAI,MAAM,CAAC,KAAK,KAAK,aAAa,CAAC,KAAK,EAAG;gBAClF,OAAO,IAAI,CAAC;aACZ;SACD;QACD,OAAO,KAAK,CAAC;IACd,CAAC;IAED,gCAAG,GAAH,UAAK,aAA6B;QACjC,IAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC9B,OAAO,CAAC,IAAI,CAAC;YACZ,KAAK,EAAE,aAAa,CAAC,KAAK;YAC1B,KAAK,EAAE,aAAa,CAAC,KAAK;SAC1B,CAAC,CAAC;QACH,IAAI,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,MAAM,EAAG;YACrC,OAAO,CAAC,KAAK,EAAE,CAAC;SAChB;QACD,IAAI,CAAC,IAAI,CAAE,QAAQ,EAAE,IAAI,CAAE,CAAC;QAC5B,OAAO,IAAI,CAAC;IACb,CAAC;IAED,gCAAG,GAAH;QACC,IAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC9B,IAAM,MAAM,GAAG,OAAO,CAAC,KAAK,EAAE,CAAC;QAC/B,IAAI,MAAM,IAAI,IAAI,EAAG;YACpB,IAAI,CAAC,IAAI,CAAE,QAAQ,EAAE,IAAI,CAAE,CAAC;YAC5B,OAAO,MAAM,CAAC;SACd;QACD,OAAO,IAAI,CAAC;IACb,CAAC;IAED,iCAAI,GAAJ;QACC,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;IAC7B,CAAC;IACF,yBAAC;AAAD,CAAC,AAtED,CAAwC,KAAK,CAAC,YAAY,GAsEzD","sourcesContent":["/*\r\n * Copyright (C) 2019 Toshiba Corporation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\r\n\r\nimport { utils } from \"pixi.js\";\r\nimport { DColorAndAlpha } from \"./d-color\";\r\n\r\nexport class DPickerColorRecent extends utils.EventEmitter {\r\n\tprotected _recents: DColorAndAlpha[];\r\n\tprotected _capacity: number;\r\n\r\n\tconstructor( recents: DColorAndAlpha[], capacity: number ) {\r\n\t\tsuper();\r\n\r\n\t\tthis._recents = recents;\r\n\t\tthis._capacity = capacity;\r\n\t}\r\n\r\n\tget( index: number ): DColorAndAlpha | null {\r\n\t\tconst recents = this._recents;\r\n\t\tif( 0 <= index && index < recents.length ) {\r\n\t\t\treturn recents[ recents.length - 1 - index ];\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tset( index: number, colorAndAlpha: DColorAndAlpha ): DColorAndAlpha | null {\r\n\t\tconst recents = this._recents;\r\n\t\tif( 0 <= index && index < recents.length ) {\r\n\t\t\tconst result = recents[ recents.length - 1 - index ];\r\n\t\t\trecents[ recents.length - 1 - index ] = {\r\n\t\t\t\tcolor: colorAndAlpha.color,\r\n\t\t\t\talpha: colorAndAlpha.alpha\r\n\t\t\t};\r\n\t\t\tthis.emit( \"change\", this );\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tcontains( colorAndAlpha: DColorAndAlpha ): boolean {\r\n\t\tconst recents = this._recents;\r\n\t\tfor( let i = 0, imax = recents.length; i < imax; ++i ) {\r\n\t\t\tconst recent = recents[ i ];\r\n\t\t\tif( recent.color === colorAndAlpha.color && recent.alpha === colorAndAlpha.alpha ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tadd( colorAndAlpha: DColorAndAlpha ): this {\r\n\t\tconst recents = this._recents;\r\n\t\trecents.push({\r\n\t\t\tcolor: colorAndAlpha.color,\r\n\t\t\talpha: colorAndAlpha.alpha\r\n\t\t});\r\n\t\tif( this._capacity < recents.length ) {\r\n\t\t\trecents.shift();\r\n\t\t}\r\n\t\tthis.emit( \"change\", this );\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpop(): DColorAndAlpha | null {\r\n\t\tconst recents = this._recents;\r\n\t\tconst result = recents.shift();\r\n\t\tif( result != null ) {\r\n\t\t\tthis.emit( \"change\", this );\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tsize(): number {\r\n\t\treturn this._recents.length;\r\n\t}\r\n}\r\n"]}