{"version":3,"file":"d-chart-selection-shape-base.js","sourceRoot":"","sources":["../../../src/main/typescript/wcardinal/ui/d-chart-selection-shape-base.ts"],"names":[],"mappings":"AAAA;;;GAGG;AAGH,OAAO,EAAE,UAAU,EAAE,MAAM,gBAAgB,CAAC;AAS5C,OAAO,EAAE,OAAO,EAAE,MAAM,kBAAkB,CAAC;AAC3C,OAAO,EAAE,QAAQ,EAAE,MAAM,kBAAkB,CAAC;AAE5C;IAOC,kCAAa,OAAqC;QACjD,IAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAE,OAAO,CAAE,CAAC;QACtC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAM,KAAK,GAAG,CAAE,OAAO,IAAI,OAAO,CAAC,KAAK,IAAI,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,UAAU,CAAC,OAAO,CAAE,CAAC;QACxF,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,UAAU,GAAG,CAAE,OAAO,IAAI,OAAO,CAAC,MAAM,IAAI,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,SAAS,CAAE,KAAK,CAAE,CAAE,CAAC;QACpG,IAAI,CAAC,MAAM,GAAG,OAAO,IAAI,OAAO,CAAC,KAAK,CAAC;QACvC,IAAI,CAAC,MAAM,GAAG,CAAC,OAAO,IAAI,OAAO,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC;IAC3D,CAAC;IAED,uCAAI,GAAJ,UAAM,SAAgC;QACrC,IAAI,IAAI,CAAC,UAAU,EAAG;YACrB,IAAM,KAAK,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,QAAQ,CAAE,IAAI,CAAC,MAAM,CAAE,CAAC,CAAC;YAC1E,KAAK,CAAC,MAAM,CAAE,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAE,CAAC;YAClD,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;SACtB;IACF,CAAC;IAED,yCAAM,GAAN;QACC,IAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;QAC1B,IAAI,KAAK,EAAG;YACX,KAAK,CAAC,MAAM,EAAE,CAAC;SACf;IACF,CAAC;IAES,2CAAQ,GAAlB,UAAoB,KAAgC;QACnD,OAAO,KAAK,CAAC,QAAQ,CAAE,IAAI,CAAC,MAAM,CAAE,CAAC;IACtC,CAAC;IAED,sCAAG,GAAH,UAAK,SAAgC,EAAE,cAAsB,EAAE,MAAoB;QAClF,IAAI,CAAC,MAAM,CAAE,SAAS,EAAE,cAAc,CAAE,CAAC;QAEzC,IAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;QAC1B,IAAI,KAAK,EAAG;YACX,IAAI,CAAC,MAAM,CAAE,KAAK,EAAE,MAAM,CAAE,CAAC;SAC7B;IACF,CAAC;IAES,2CAAQ,GAAlB,UAAmC,KAAa,EAAE,MAAoB;QACrE,IAAM,WAAW,GAAG,MAAM,CAAC,KAAK,CAAC;QACjC,IAAI,WAAW,EAAG;YACjB,KAAK,CAAC,MAAM,CAAC,KAAK,GAAG,WAAW,CAAC,MAAM,CAAC,KAAK,CAAC;SAC9C;IACF,CAAC;IAED,wCAAK,GAAL;QACC,IAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;QAC1B,IAAI,KAAK,EAAG;YACX,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;SACtB;IACF,CAAC;IAIS,0CAAO,GAAjB,UAAmB,OAAqC;QACvD,IAAM,KAAK,GAAG,CAAE,OAAO,IAAI,OAAO,CAAC,KAAK,CAAE,CAAC;QAC3C,IAAI,QAAQ,CAAE,KAAK,CAAE,EAAG;YACvB,OAAO,IAAI,CAAC,QAAQ,CAAE,KAAK,CAAE,CAAC;SAC9B;aAAM,IAAI,KAAK,IAAI,IAAI,EAAG;YAC1B,OAAO,KAAK,CAAC;SACb;aAAM;YACN,OAAO,IAAI,CAAC,QAAQ,CAAE,IAAI,CAAC,OAAO,EAAE,CAAE,CAAC;SACvC;IACF,CAAC;IAES,2CAAQ,GAAlB,UAAoB,IAAY;QAC/B,OAAO,OAAO,CAAC,WAAW,EAAE,CAAC,GAAG,CAAE,IAAI,CAAE,CAAC;IAC1C,CAAC;IAGF,+BAAC;AAAD,CAAC,AA7ED,IA6EC","sourcesContent":["/*\r\n * Copyright (C) 2019 Toshiba Corporation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\r\n\r\nimport { IPoint } from \"pixi.js\";\r\nimport { DBaseState } from \"./d-base-state\";\r\nimport { DChartSelectionStyle } from \"./d-chart-selection\";\r\nimport {\r\n\tDChartSelectionShape, DChartSelectionShapeOptions,\r\n\tDThemeChartSelectionShape\r\n} from \"./d-chart-selection-shape\";\r\nimport { DChartSeries } from \"./d-chart-series\";\r\nimport { DChartSeriesContainer } from \"./d-chart-series-container\";\r\nimport { EShape } from \"./shape/e-shape\";\r\nimport { DThemes } from \"./theme/d-themes\";\r\nimport { isString } from \"./util/is-string\";\r\n\r\nexport abstract class DChartSelectionShapeBase implements DChartSelectionShape {\r\n\tprotected _isEnabled: boolean;\r\n\tprotected _shape?: EShape;\r\n\tprotected _style: DChartSelectionStyle;\r\n\tprotected _state: DBaseState;\r\n\tprotected _theme: DThemeChartSelectionShape;\r\n\r\n\tconstructor( options?: DChartSelectionShapeOptions ) {\r\n\t\tconst theme = this.toTheme( options );\r\n\t\tthis._theme = theme;\r\n\t\tconst state = ( options && options.state != null ? options.state : DBaseState.HOVERED );\r\n\t\tthis._state = state;\r\n\t\tthis._isEnabled = ( options && options.enable != null ? options.enable : theme.isEnabled( state ) );\r\n\t\tthis._shape = options && options.shape;\r\n\t\tthis._style = (options && options.style) || this.setStyle;\r\n\t}\r\n\r\n\tbind( container: DChartSeriesContainer ): void {\r\n\t\tif( this._isEnabled ) {\r\n\t\t\tconst shape = this._shape = (this._shape || this.newShape( this._theme ));\r\n\t\t\tshape.attach( container.plotArea.axis.container );\r\n\t\t\tshape.visible = false;\r\n\t\t}\r\n\t}\r\n\r\n\tunbind(): void {\r\n\t\tconst shape = this._shape;\r\n\t\tif( shape ) {\r\n\t\t\tshape.detach();\r\n\t\t}\r\n\t}\r\n\r\n\tprotected newShape( theme: DThemeChartSelectionShape ): EShape {\r\n\t\treturn theme.newShape( this._state );\r\n\t}\r\n\r\n\tset( container: DChartSeriesContainer, mappedPosition: IPoint, series: DChartSeries ): void {\r\n\t\tthis.update( container, mappedPosition );\r\n\r\n\t\tconst shape = this._shape;\r\n\t\tif( shape ) {\r\n\t\t\tthis._style( shape, series );\r\n\t\t}\r\n\t}\r\n\r\n\tprotected setStyle( this: unknown, shape: EShape, series: DChartSeries ): void {\r\n\t\tconst seriesShape = series.shape;\r\n\t\tif( seriesShape ) {\r\n\t\t\tshape.stroke.color = seriesShape.stroke.color;\r\n\t\t}\r\n\t}\r\n\r\n\tunset(): void {\r\n\t\tconst shape = this._shape;\r\n\t\tif( shape ) {\r\n\t\t\tshape.visible = false;\r\n\t\t}\r\n\t}\r\n\r\n\tabstract update( container: DChartSeriesContainer, mappedPosition: IPoint ): void;\r\n\r\n\tprotected toTheme( options?: DChartSelectionShapeOptions ): DThemeChartSelectionShape {\r\n\t\tconst theme = ( options && options.theme );\r\n\t\tif( isString( theme ) ) {\r\n\t\t\treturn this.getTheme( theme );\r\n\t\t} else if( theme != null ) {\r\n\t\t\treturn theme;\r\n\t\t} else {\r\n\t\t\treturn this.getTheme( this.getType() );\r\n\t\t}\r\n\t}\r\n\r\n\tprotected getTheme( type: string ): DThemeChartSelectionShape {\r\n\t\treturn DThemes.getInstance().get( type );\r\n\t}\r\n\r\n\tprotected abstract getType(): string;\r\n}\r\n"]}