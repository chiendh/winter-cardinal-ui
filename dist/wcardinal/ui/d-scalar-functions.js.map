{"version":3,"file":"d-scalar-functions.js","sourceRoot":"","sources":["../../../src/main/typescript/wcardinal/ui/d-scalar-functions.ts"],"names":[],"mappings":"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","sourcesContent":["/*\r\n * Copyright (C) 2019 Toshiba Corporation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\r\n\r\nimport { DCoordinatePosition, DCoordinateSizeNoAuto } from \"./d-coordinate\";\r\nimport { DScalarExpression } from \"./d-scalar-expression\";\r\nimport { DScalarFunction } from \"./d-scalar-function\";\r\nimport { isFunction } from \"./util/is-function\";\r\nimport { isNumber } from \"./util/is-number\";\r\nimport { isString } from \"./util/is-string\";\r\n\r\nconst POSITION_CENTER = ( p: number, s: number ) => ( p - s ) * 0.5;\r\nconst POSITION_PADDING = ( p: number, s: number, d: number ) => d;\r\nconst SIZE_MAXIMIZED = ( p: number ) => p;\r\nconst SIZE_PADDING = ( p: number, s: number, d: number ) => p - d;\r\n\r\nexport class DScalarFunctions {\r\n\tstatic position( coordinate: DCoordinatePosition | undefined ): DScalarFunction | null {\r\n\t\tif( coordinate == null || isNumber( coordinate ) ) {\r\n\t\t\treturn null;\r\n\t\t} else if( isString( coordinate ) ) {\r\n\t\t\tswitch( coordinate ) {\r\n\t\t\tcase \"center\":\r\n\t\t\tcase \"CENTER\":\r\n\t\t\t\treturn POSITION_CENTER;\r\n\t\t\tcase \"padding\":\r\n\t\t\tcase \"PADDING\":\r\n\t\t\t\treturn POSITION_PADDING;\r\n\t\t\t}\r\n\r\n\t\t\tconst scalarExpression = new DScalarExpression( coordinate );\r\n\t\t\treturn ( parent: number, self: number, padding: number, current: number ): number => {\r\n\t\t\t\treturn scalarExpression.calculate( parent, self, padding, current );\r\n\t\t\t};\r\n\t\t} else if( isFunction( coordinate ) ) {\r\n\t\t\treturn coordinate;\r\n\t\t} else {\r\n\t\t\tconst scalar = coordinate;\r\n\t\t\treturn ( parent: number, self: number, padding: number, current: number ): number => {\r\n\t\t\t\treturn scalar.calculate( parent, self, padding, current );\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\tstatic size( coordinate: DCoordinateSizeNoAuto | undefined ): DScalarFunction | null {\r\n\t\tif( coordinate == null || isNumber( coordinate ) ) {\r\n\t\t\treturn null;\r\n\t\t} else if( isString( coordinate ) ) {\r\n\t\t\tswitch( coordinate ) {\r\n\t\t\tcase \"100%\":\r\n\t\t\tcase \"maximized\":\r\n\t\t\tcase \"MAXIMIZED\":\r\n\t\t\t\treturn SIZE_MAXIMIZED;\r\n\t\t\tcase \"padding\":\r\n\t\t\tcase \"PADDING\":\r\n\t\t\t\treturn SIZE_PADDING;\r\n\t\t\t}\r\n\r\n\t\t\tconst scalarExpression = new DScalarExpression( coordinate );\r\n\t\t\treturn ( parent: number, self: number, padding: number, current: number ): number => {\r\n\t\t\t\treturn scalarExpression.calculate( parent, self, padding, current );\r\n\t\t\t};\r\n\t\t} else if( isFunction( coordinate ) ) {\r\n\t\t\treturn coordinate;\r\n\t\t} else {\r\n\t\t\tconst scalar = coordinate;\r\n\t\t\treturn ( parent: number, self: number, padding: number, current: number ): number => {\r\n\t\t\t\treturn scalar.calculate( parent, self, padding, current );\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n}\r\n"]}