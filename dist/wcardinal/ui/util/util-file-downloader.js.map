{"version":3,"file":"util-file-downloader.js","sourceRoot":"","sources":["../../../../src/main/typescript/wcardinal/ui/util/util-file-downloader.ts"],"names":[],"mappings":"AAAA;;;GAGG;AAEH;IAAA;IA8BA,CAAC;IA7BO,8BAAW,GAAlB,UAAoB,QAAgB,EAAE,GAAW;QAChD,IAAM,CAAC,GAAG,QAAQ,CAAC,aAAa,CAAE,GAAG,CAAE,CAAC;QACxC,IAAI,UAAU,IAAI,CAAC,EAAG;YACrB,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC;YACb,CAAC,CAAC,YAAY,CAAE,UAAU,EAAE,QAAQ,CAAE,CAAC;YACvC,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;YACzB,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAE,CAAC,CAAE,CAAC;YAC/B,CAAC,CAAC,KAAK,EAAE,CAAC;YACV,UAAU,CAAC;gBACV,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAE,CAAC,CAAE,CAAC;YAChC,CAAC,EAAE,EAAE,CAAC,CAAC;SACP;aAAM;YACN,IAAI,CAAE,MAAM,CAAC,IAAI,CAAE,GAAG,CAAE,EAAG;gBAC1B,QAAQ,CAAC,IAAI,GAAG,GAAG,CAAC;aACpB;SACD;IACF,CAAC;IAEM,2BAAQ,GAAf,UAAiB,QAAgB,EAAE,QAAgB;QAClD,IAAM,IAAI,GAAG,IAAI,IAAI,CACpB,CAAE,QAAQ,CAAE,EACZ,EAAE,IAAI,EAAE,YAAY,EAAE,CACtB,CAAC;QACF,IAAI,MAAM,CAAC,SAAS,CAAC,UAAU,EAAG;YACjC,MAAM,CAAC,SAAS,CAAC,UAAU,CAAE,IAAI,EAAE,QAAQ,CAAE,CAAC;SAC9C;aAAM;YACN,IAAI,CAAC,WAAW,CAAE,QAAQ,EAAE,GAAG,CAAC,eAAe,CAAE,IAAI,CAAE,CAAE,CAAC;SAC1D;IACF,CAAC;IACF,yBAAC;AAAD,CAAC,AA9BD,IA8BC","sourcesContent":["/*\r\n * Copyright (C) 2019 Toshiba Corporation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\r\n\r\nexport class UtilFileDownloader {\r\n\tstatic downloadUrl( filename: string, url: string ): void {\r\n\t\tconst a = document.createElement( \"a\" );\r\n\t\tif( \"download\" in a ) {\r\n\t\t\ta.href = url;\r\n\t\t\ta.setAttribute( \"download\", filename );\r\n\t\t\ta.style.display = \"none\";\r\n\t\t\tdocument.body.appendChild( a );\r\n\t\t\ta.click();\r\n\t\t\tsetTimeout((): void => {\r\n\t\t\t\tdocument.body.removeChild( a );\r\n\t\t\t}, 66);\r\n\t\t} else {\r\n\t\t\tif( ! window.open( url ) ) {\r\n\t\t\t\tlocation.href = url;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic download( filename: string, contents: string ): void {\r\n\t\tconst blob = new Blob(\r\n\t\t\t[ contents ],\r\n\t\t\t{ type: \"text/plain\" }\r\n\t\t);\r\n\t\tif( window.navigator.msSaveBlob ) {\r\n\t\t\twindow.navigator.msSaveBlob( blob, filename );\r\n\t\t} else {\r\n\t\t\tthis.downloadUrl( filename, URL.createObjectURL( blob ) );\r\n\t\t}\r\n\t}\r\n}\r\n"]}