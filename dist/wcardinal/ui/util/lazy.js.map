{"version":3,"file":"lazy.js","sourceRoot":"","sources":["../../../../src/main/typescript/wcardinal/ui/util/lazy.ts"],"names":[],"mappings":"AAAA;;;GAGG;AAIH;IAKC,cAAa,WAAiD,EAAE,OAAgB,EAAE,IAAY;QAA9F,iBAgBC;QAfA,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QAEvB,IAAI,IAAI,IAAI,IAAI,EAAG;YAClB,IAAI,IAAI,CAAC,QAAQ,EAAE,EAAG;gBACrB,UAAU,CAAC;oBACV,KAAI,CAAC,GAAG,EAAE,CAAC;gBACZ,CAAC,EAAE,CAAC,CAAC,CAAC;aACN;YAED,IAAI,CAAC,EAAE,CAAE,QAAQ,EAAE;gBAClB,KAAI,CAAC,GAAG,EAAE,CAAC;YACZ,CAAC,CAAC,CAAC;SACH;IACF,CAAC;IAED,kBAAG,GAAH;QACC,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC7B,IAAI,QAAQ,IAAI,IAAI,EAAG;YACtB,QAAQ,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAE,IAAI,CAAC,OAAO,CAAE,CAAC;SAClE;QACD,OAAO,QAAQ,CAAC;IACjB,CAAC;IACF,WAAC;AAAD,CAAC,AA9BD,IA8BC","sourcesContent":["/*\r\n * Copyright (C) 2019 Toshiba Corporation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\r\n\r\nimport { DBase } from \"../d-base\";\r\n\r\nexport class Lazy<INSTANCE, OPTIONS> {\r\n\tinstance: INSTANCE | null;\r\n\tnewInstance: new ( options: OPTIONS ) => INSTANCE;\r\n\toptions: OPTIONS;\r\n\r\n\tconstructor( newInstance: new ( options: OPTIONS ) => INSTANCE, options: OPTIONS, base?: DBase ) {\r\n\t\tthis.instance = null;\r\n\t\tthis.newInstance = newInstance;\r\n\t\tthis.options = options;\r\n\r\n\t\tif( base != null ) {\r\n\t\t\tif( base.isActive() ) {\r\n\t\t\t\tsetTimeout((): void => {\r\n\t\t\t\t\tthis.get();\r\n\t\t\t\t}, 0);\r\n\t\t\t}\r\n\r\n\t\t\tbase.on( \"active\", (): void => {\r\n\t\t\t\tthis.get();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tget(): INSTANCE {\r\n\t\tlet instance = this.instance;\r\n\t\tif( instance == null ) {\r\n\t\t\tinstance = this.instance = new (this.newInstance)( this.options );\r\n\t\t}\r\n\t\treturn instance;\r\n\t}\r\n}\r\n"]}