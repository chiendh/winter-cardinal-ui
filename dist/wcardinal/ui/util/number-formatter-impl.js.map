{"version":3,"file":"number-formatter-impl.js","sourceRoot":"","sources":["../../../../src/main/typescript/wcardinal/ui/util/number-formatter-impl.ts"],"names":[],"mappings":"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","sourcesContent":["/*\r\n * Copyright (C) 2019 Toshiba Corporation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\r\n\r\nimport { FormatNode } from \"./format-node/format-node\";\r\nimport { FormatNodeA } from \"./format-node/format-node-a-large\";\r\nimport { FormatNodea } from \"./format-node/format-node-a-small\";\r\nimport { FormatNodeD } from \"./format-node/format-node-d-large\";\r\nimport { FormatNoded } from \"./format-node/format-node-d-small\";\r\nimport { FormatNodee } from \"./format-node/format-node-e\";\r\nimport { FormatNodef } from \"./format-node/format-node-f\";\r\nimport { FormatNodefsi } from \"./format-node/format-node-fsi\";\r\nimport { FormatNodeg } from \"./format-node/format-node-g\";\r\nimport { FormatNodeH } from \"./format-node/format-node-h-large\";\r\nimport { FormatNodeh } from \"./format-node/format-node-h-small\";\r\nimport { FormatNodeM } from \"./format-node/format-node-m-large\";\r\nimport { FormatNodem } from \"./format-node/format-node-m-small\";\r\nimport { FormatNodemi } from \"./format-node/format-node-mi\";\r\nimport { FormatNodeP } from \"./format-node/format-node-p-large\";\r\nimport { FormatNodep } from \"./format-node/format-node-p-small\";\r\nimport { FormatNodePadding } from \"./format-node/format-node-padding\";\r\nimport { FormatNodeParenthesis } from \"./format-node/format-node-parenthesis\";\r\nimport { FormatNodePlus } from \"./format-node/format-node-plus\";\r\nimport { FormatNodeRP } from \"./format-node/format-node-rp-large\";\r\nimport { FormatNoderp } from \"./format-node/format-node-rp-small\";\r\nimport { FormatNodesdt } from \"./format-node/format-node-sdt\";\r\nimport { FormatNodeSpace } from \"./format-node/format-node-space\";\r\nimport { FormatNodessi } from \"./format-node/format-node-ssi\";\r\nimport { FormatNodeString } from \"./format-node/format-node-string\";\r\nimport { FormatNodeY } from \"./format-node/format-node-y-large\";\r\nimport { FormatNodey } from \"./format-node/format-node-y-small\";\r\nimport { FormatNodez } from \"./format-node/format-node-z\";\r\nimport { FormatNoderd } from \"./format-node/format-noder-d\";\r\nimport { FormatNodes } from \"./format-node/format-nodes\";\r\nimport { NumberFormatter } from \"./number-formatter\";\r\n\r\n// tslint:disable-next-line: max-line-length\r\nconst REGEXP = /%(0|_|-|\\+|\\()?(\\.\\d+)?(Y(?:MD?)?|y(?:MD?)?|MD?|D|H(?:ms?)?|h(?:ms?)?|m(?:i|s)?|a|A|s(?:s?i|dt)?|z|%|f(?:si)?|e|g|d|r(?:d|p)|p|P|RP)/g;\r\n\r\n/**\r\n * A NumberFormatter implementation class.\r\n */\r\nexport class NumberFormatterImpl implements NumberFormatter {\r\n\tprotected isDateRequired: boolean;\r\n\tprotected nodes: FormatNode[];\r\n\tprotected date: Date;\r\n\r\n\tconstructor( format: string ) {\r\n\t\tlet previousIndex = 0;\r\n\t\tlet isDateRequired = false;\r\n\t\tconst nodes: FormatNode[] = [];\r\n\t\tREGEXP.lastIndex = 0;\r\n\t\twhile( true ) {\r\n\t\t\tconst matched = REGEXP.exec( format );\r\n\t\t\tif( matched != null ) {\r\n\t\t\t\tconst index = matched.index;\r\n\t\t\t\tif( previousIndex < index ) {\r\n\t\t\t\t\tnodes.push( new FormatNodeString( format.substring( previousIndex, index ) ) );\r\n\t\t\t\t}\r\n\t\t\t\tpreviousIndex = index + matched[ 0 ].length;\r\n\r\n\t\t\t\tconst all = matched[ 0 ];\r\n\t\t\t\tconst modifier = matched[ 1 ];\r\n\t\t\t\tconst precision = matched[ 2 ];\r\n\t\t\t\tconst specifier = matched[ 3 ];\r\n\r\n\t\t\t\tswitch( specifier ) {\r\n\t\t\t\tcase \"Y\": // full year\r\n\t\t\t\t\tisDateRequired = true;\r\n\t\t\t\t\tnodes.push( new FormatNodeY() );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"YM\":\r\n\t\t\t\t\tisDateRequired = true;\r\n\t\t\t\t\tnodes.push(\r\n\t\t\t\t\t\tnew FormatNodeY(),\r\n\t\t\t\t\t\tnew FormatNodeString( \"/\" ),\r\n\t\t\t\t\t\tthis.toModifiedNodeDatetime2( modifier, new FormatNodeM() )\r\n\t\t\t\t\t);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"YMD\":\r\n\t\t\t\t\tisDateRequired = true;\r\n\t\t\t\t\tnodes.push(\r\n\t\t\t\t\t\tnew FormatNodeY(),\r\n\t\t\t\t\t\tnew FormatNodeString( \"/\" ),\r\n\t\t\t\t\t\tthis.toModifiedNodeDatetime2( modifier, new FormatNodeM() ),\r\n\t\t\t\t\t\tnew FormatNodeString( \"/\" ),\r\n\t\t\t\t\t\tthis.toModifiedNodeDatetime2( modifier, new FormatNodeD() )\r\n\t\t\t\t\t);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"y\": // short year: [0, 99]\r\n\t\t\t\t\tisDateRequired = true;\r\n\t\t\t\t\tnodes.push( this.toModifiedNodeDatetime2( modifier, new FormatNodey() ) );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"yM\":\r\n\t\t\t\t\tisDateRequired = true;\r\n\t\t\t\t\tnodes.push(\r\n\t\t\t\t\t\tthis.toModifiedNodeDatetime2( modifier, new FormatNodey() ),\r\n\t\t\t\t\t\tnew FormatNodeString( \"/\" ),\r\n\t\t\t\t\t\tthis.toModifiedNodeDatetime2( modifier, new FormatNodeM() )\r\n\t\t\t\t\t);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"yMD\":\r\n\t\t\t\t\tnodes.push(\r\n\t\t\t\t\t\tthis.toModifiedNodeDatetime2( modifier, new FormatNodey() ),\r\n\t\t\t\t\t\tnew FormatNodeString( \"/\" ),\r\n\t\t\t\t\t\tthis.toModifiedNodeDatetime2( modifier, new FormatNodeM() ),\r\n\t\t\t\t\t\tnew FormatNodeString( \"/\" ),\r\n\t\t\t\t\t\tthis.toModifiedNodeDatetime2( modifier, new FormatNodeD() )\r\n\t\t\t\t\t);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"M\": // month: [1, 12]\r\n\t\t\t\t\tisDateRequired = true;\r\n\t\t\t\t\tnodes.push( this.toModifiedNodeDatetime2( modifier, new FormatNodeM() ) );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"MD\":\r\n\t\t\t\t\tisDateRequired = true;\r\n\t\t\t\t\tnodes.push(\r\n\t\t\t\t\t\tthis.toModifiedNodeDatetime2( modifier, new FormatNodeM() ),\r\n\t\t\t\t\t\tnew FormatNodeString( \"/\" ),\r\n\t\t\t\t\t\tthis.toModifiedNodeDatetime2( modifier, new FormatNodeD() )\r\n\t\t\t\t\t);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"D\": // day of the month: [1, 31]\r\n\t\t\t\t\tisDateRequired = true;\r\n\t\t\t\t\tnodes.push( this.toModifiedNodeDatetime2( modifier, new FormatNodeD() ) );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"H\": // 24-hour clock: [0, 23]\r\n\t\t\t\t\tisDateRequired = true;\r\n\t\t\t\t\tnodes.push( this.toModifiedNodeDatetime2( modifier, new FormatNodeH() ) );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"Hm\":\r\n\t\t\t\t\tisDateRequired = true;\r\n\t\t\t\t\tnodes.push(\r\n\t\t\t\t\t\tthis.toModifiedNodeDatetime2( modifier, new FormatNodeH() ),\r\n\t\t\t\t\t\tnew FormatNodeString( \":\" ),\r\n\t\t\t\t\t\tthis.toModifiedNodeDatetime2( modifier, new FormatNodem() )\r\n\t\t\t\t\t);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"Hms\":\r\n\t\t\t\t\tisDateRequired = true;\r\n\t\t\t\t\tnodes.push(\r\n\t\t\t\t\t\tthis.toModifiedNodeDatetime2( modifier, new FormatNodeH() ),\r\n\t\t\t\t\t\tnew FormatNodeString( \":\" ),\r\n\t\t\t\t\t\tthis.toModifiedNodeDatetime2( modifier, new FormatNodem() ),\r\n\t\t\t\t\t\tnew FormatNodeString( \":\" ),\r\n\t\t\t\t\t\tthis.toModifiedNodeDatetime2( modifier, new FormatNodes() )\r\n\t\t\t\t\t);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"h\": // 12-hour clock: [1, 12]\r\n\t\t\t\t\tisDateRequired = true;\r\n\t\t\t\t\tnodes.push( this.toModifiedNodeDatetime2( modifier, new FormatNodeh() ) );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"hm\":\r\n\t\t\t\t\tisDateRequired = true;\r\n\t\t\t\t\tnodes.push(\r\n\t\t\t\t\t\tthis.toModifiedNodeDatetime2( modifier, new FormatNodeh() ),\r\n\t\t\t\t\t\tnew FormatNodeString( \":\" ),\r\n\t\t\t\t\t\tthis.toModifiedNodeDatetime2( modifier, new FormatNodem() )\r\n\t\t\t\t\t);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"hms\":\r\n\t\t\t\t\tisDateRequired = true;\r\n\t\t\t\t\tnodes.push(\r\n\t\t\t\t\t\tthis.toModifiedNodeDatetime2( modifier, new FormatNodeh() ),\r\n\t\t\t\t\t\tnew FormatNodeString( \":\" ),\r\n\t\t\t\t\t\tthis.toModifiedNodeDatetime2( modifier, new FormatNodem() ),\r\n\t\t\t\t\t\tnew FormatNodeString( \":\" ),\r\n\t\t\t\t\t\tthis.toModifiedNodeDatetime2( modifier, new FormatNodes() )\r\n\t\t\t\t\t);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"m\": // minute [0, 59]\r\n\t\t\t\t\tisDateRequired = true;\r\n\t\t\t\t\tnodes.push( this.toModifiedNodeDatetime2( modifier, new FormatNodem() ) );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"ms\":\r\n\t\t\t\t\tisDateRequired = true;\r\n\t\t\t\t\tnodes.push(\r\n\t\t\t\t\t\tthis.toModifiedNodeDatetime2( modifier, new FormatNodem() ),\r\n\t\t\t\t\t\tnew FormatNodeString( \":\" ),\r\n\t\t\t\t\t\tthis.toModifiedNodeDatetime2( modifier, new FormatNodes() )\r\n\t\t\t\t\t);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"mi\": // milliseconds [0, 999]\r\n\t\t\t\t\tisDateRequired = true;\r\n\t\t\t\t\tnodes.push( this.toModifiedNodeDatetime3( modifier, new FormatNodemi() ) );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"a\": // am or pm\r\n\t\t\t\t\tisDateRequired = true;\r\n\t\t\t\t\tnodes.push( new FormatNodea() );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"A\": // AM or PM\r\n\t\t\t\t\tisDateRequired = true;\r\n\t\t\t\t\tnodes.push( new FormatNodeA() );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"s\": // seconds: [0, 61]\r\n\t\t\t\t\tisDateRequired = true;\r\n\t\t\t\t\tnodes.push( this.toModifiedNodeDatetime2( modifier, new FormatNodes() ) );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"sdt\":\r\n\t\t\t\t\tisDateRequired = true;\r\n\t\t\t\t\tnodes.push(new FormatNodesdt(\r\n\t\t\t\t\t\tnew FormatNodeY(),\r\n\t\t\t\t\t\tthis.toModifiedNodeDatetime2( modifier, new FormatNodeM() ),\r\n\t\t\t\t\t\tthis.toModifiedNodeDatetime2( modifier, new FormatNodeD() ),\r\n\t\t\t\t\t\tthis.toModifiedNodeDatetime2( modifier, new FormatNodeH() ),\r\n\t\t\t\t\t\tthis.toModifiedNodeDatetime2( modifier, new FormatNodem() ),\r\n\t\t\t\t\t\tthis.toModifiedNodeDatetime2( modifier, new FormatNodes() ),\r\n\t\t\t\t\t\tthis.toModifiedNodeDatetime3( modifier, new FormatNodemi() )\r\n\t\t\t\t\t));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"z\": // time zone\r\n\t\t\t\t\tisDateRequired = true;\r\n\t\t\t\t\tnodes.push( new FormatNodez() );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%\": // a % literal\r\n\t\t\t\t\tnodes.push( new FormatNodeString( \"%\" ) );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"f\": // fixed point notation\r\n\t\t\t\t\tnodes.push( this.toModifiedNodeNumber( modifier, new FormatNodef( precision ) ) );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"e\": // exponent notation\r\n\t\t\t\t\tnodes.push( this.toModifiedNodeNumber( modifier, new FormatNodee( precision ) ) );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"g\": // %f or %e\r\n\t\t\t\t\tnodes.push( this.toModifiedNodeNumber( modifier, new FormatNodeg( precision ) ) );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"rd\": // rounded decimal notation\r\n\t\t\t\t\tnodes.push( this.toModifiedNodeNumber( modifier, new FormatNoderd() ) );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"d\": // decimal notation\r\n\t\t\t\t\tnodes.push( this.toModifiedNodeNumber( modifier, new FormatNoded() ) );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"P\": // percent notation (Multiplied by 100)\r\n\t\t\t\t\tnodes.push( this.toModifiedNodeNumber( modifier, new FormatNodeP() ) );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"p\": // percent notation (Not multiplied by 100)\r\n\t\t\t\t\tnodes.push( this.toModifiedNodeNumber( modifier, new FormatNodep() ) );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"RP\": // percent notation (Multiplied by 100)\r\n\t\t\t\t\tnodes.push( this.toModifiedNodeNumber( modifier, new FormatNodeRP() ) );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"rp\": // percent notation (Not multiplied by 100)\r\n\t\t\t\t\tnodes.push( this.toModifiedNodeNumber( modifier, new FormatNoderp() ) );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"fsi\": // fixed point notation with a SI prefix\r\n\t\t\t\t\tnodes.push( this.toModifiedNodeNumber( modifier, new FormatNodefsi( precision ) ) );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"ssi\": // Step-based fixed point notation with a SI prefix\r\n\t\t\t\t\tnodes.push( this.toModifiedNodeNumber( modifier, new FormatNodessi( precision ) ) );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tnodes.push( new FormatNodeString( all ) );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif( previousIndex < format.length ) {\r\n\t\t\t\t\tnodes.push( new FormatNodeString( format.substring( previousIndex, format.length ) ) );\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.isDateRequired = isDateRequired;\r\n\t\tthis.nodes = nodes;\r\n\t\tthis.date = new Date();\r\n\t}\r\n\r\n\tprotected toModifiedNodeDatetime2( modifier: string, node: FormatNode ): FormatNode {\r\n\t\tswitch( modifier ) {\r\n\t\tcase \"_\":\r\n\t\t\treturn new FormatNodePadding( 2, \" \", node );\r\n\t\tcase \"-\":\r\n\t\t\treturn node;\r\n\t\tdefault:\r\n\t\t\treturn new FormatNodePadding( 2, \"0\", node );\r\n\t\t}\r\n\t}\r\n\r\n\tprotected toModifiedNodeDatetime3( modifier: string, node: FormatNode ): FormatNode {\r\n\t\tswitch( modifier ) {\r\n\t\tcase \"_\":\r\n\t\t\treturn new FormatNodePadding( 3, \" \", node );\r\n\t\tcase \"-\":\r\n\t\t\treturn node;\r\n\t\tdefault:\r\n\t\t\treturn new FormatNodePadding( 3, \"0\", node );\r\n\t\t}\r\n\t}\r\n\r\n\tprotected toModifiedNodeNumber( modifier: string, node: FormatNode ): FormatNode {\r\n\t\tswitch( modifier ) {\r\n\t\tcase \"_\": // space for non-negative numbers\r\n\t\t\treturn new FormatNodeSpace( node );\r\n\t\tcase \"+\": // plus sign for non-negative numbers\r\n\t\t\treturn new FormatNodePlus( node );\r\n\t\tcase \"(\": // parenthesis for the negative numbers\r\n\t\t\treturn new FormatNodeParenthesis( node );\r\n\t\tdefault:\r\n\t\t\treturn node;\r\n\t\t}\r\n\t}\r\n\r\n\tformat( target: number, step: number ): string {\r\n\t\tconst nodes = this.nodes;\r\n\t\tconst date = this.date;\r\n\t\tif( this.isDateRequired ) {\r\n\t\t\tdate.setTime( target );\r\n\t\t}\r\n\t\tlet result = \"\";\r\n\t\tfor( let i = 0, imax = nodes.length; i < imax; ++i ) {\r\n\t\t\tresult += nodes[ i ].format( target, step, date );\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n}\r\n"]}