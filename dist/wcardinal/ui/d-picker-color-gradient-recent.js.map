{"version":3,"file":"d-picker-color-gradient-recent.js","sourceRoot":"","sources":["../../../src/main/typescript/wcardinal/ui/d-picker-color-gradient-recent.ts"],"names":[],"mappings":"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","sourcesContent":["/*\r\n * Copyright (C) 2019 Toshiba Corporation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\r\n\r\nimport { utils } from \"pixi.js\";\r\nimport { DPickerColorGradientDataLike } from \"./d-picker-color-gradient-data\";\r\n\r\nconst isEqual = ( a: DPickerColorGradientDataLike, b: DPickerColorGradientDataLike ) => {\r\n\tif( a.direction !== b.direction ) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tconst ap = a.points;\r\n\tconst bp = b.points;\r\n\tif( ap.length !== bp.length ) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfor( let j = 0, jmax = ap.length; j < jmax; ++j ) {\r\n\t\tconst apj = ap[ j ];\r\n\t\tconst bpj = bp[ j ];\r\n\t\tif( apj.color !== bpj.color || apj.alpha !== bpj.alpha || apj.position !== bpj.position ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\treturn true;\r\n};\r\n\r\nexport class DPickerColorGradientRecent extends utils.EventEmitter {\r\n\tprotected _recents: DPickerColorGradientDataLike[];\r\n\tprotected _capacity: number;\r\n\r\n\tconstructor( recents: DPickerColorGradientDataLike[], capacity: number ) {\r\n\t\tsuper();\r\n\r\n\t\tthis._recents = recents;\r\n\t\tthis._capacity = capacity;\r\n\t}\r\n\r\n\tgetCapacity(): number {\r\n\t\treturn this._capacity;\r\n\t}\r\n\r\n\tget( index: number ): DPickerColorGradientDataLike | null {\r\n\t\tconst recents = this._recents;\r\n\t\tif( 0 <= index && index < recents.length ) {\r\n\t\t\treturn recents[ recents.length - 1 - index ];\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tset( index: number, points: DPickerColorGradientDataLike ): DPickerColorGradientDataLike | null {\r\n\t\tconst recents = this._recents;\r\n\t\tif( 0 <= index && index < recents.length ) {\r\n\t\t\tconst result = recents[ recents.length - 1 - index ];\r\n\t\t\trecents[ recents.length - 1 - index ] = points;\r\n\t\t\tthis.emit( \"change\", this );\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tcontains( points: DPickerColorGradientDataLike ): boolean {\r\n\t\tconst recents = this._recents;\r\n\t\tfor( let i = 0, imax = recents.length; i < imax; ++i ) {\r\n\t\t\tif( isEqual( recents[ i ], points ) ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tadd( points: DPickerColorGradientDataLike ): this {\r\n\t\tconst recents = this._recents;\r\n\t\trecents.push( points );\r\n\t\tif( this._capacity < recents.length ) {\r\n\t\t\trecents.shift();\r\n\t\t}\r\n\t\tthis.emit( \"change\", this );\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpop(): DPickerColorGradientDataLike | null {\r\n\t\tconst recents = this._recents;\r\n\t\tconst result = recents.shift();\r\n\t\tif( result != null ) {\r\n\t\t\tthis.emit( \"change\", this );\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tsize(): number {\r\n\t\treturn this._recents.length;\r\n\t}\r\n}\r\n"]}