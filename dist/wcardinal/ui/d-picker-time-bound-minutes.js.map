{"version":3,"file":"d-picker-time-bound-minutes.js","sourceRoot":"","sources":["../../../src/main/typescript/wcardinal/ui/d-picker-time-bound-minutes.ts"],"names":[],"mappings":"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","sourcesContent":["/*\r\n * Copyright (C) 2019 Toshiba Corporation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\r\n\r\nimport { DPickerDatetimeMask } from \"./d-picker-datetime-mask\";\r\nimport { DPickerTimeBound } from \"./d-picker-time-bound\";\r\nimport { DPickerTimeBoundConstant } from \"./d-picker-time-bound-constant\";\r\n\r\nexport interface DPickerTimeBoundMinutesParent {\r\n\tlower: DPickerTimeBound;\r\n\tupper: DPickerTimeBound;\r\n\tmask: DPickerDatetimeMask;\r\n\tconstant: DPickerTimeBoundConstant;\r\n}\r\n\r\nexport class DPickerTimeBoundMinutes {\r\n\tprotected _parent: DPickerTimeBoundMinutesParent;\r\n\r\n\tconstructor( parent: DPickerTimeBoundMinutesParent ) {\r\n\t\tthis._parent = parent;\r\n\t}\r\n\r\n\tmin( date: Date ): number {\r\n\t\tconst parent = this._parent;\r\n\t\tconst lower = parent.lower;\r\n\t\tconst lowerDate = lower.date;\r\n\t\tconst constant = parent.constant;\r\n\t\tif( lowerDate != null ) {\r\n\t\t\tconst mask = parent.mask;\r\n\t\t\tif( mask & DPickerDatetimeMask.DATE ) {\r\n\t\t\t\tif( lowerDate.getFullYear() < date.getFullYear() ) {\r\n\t\t\t\t\treturn constant.minute.min;\r\n\t\t\t\t}\r\n\t\t\t\tif( lowerDate.getMonth() < date.getMonth() ) {\r\n\t\t\t\t\treturn constant.minute.min;\r\n\t\t\t\t}\r\n\t\t\t\tif( lowerDate.getDate() < date.getDate() ) {\r\n\t\t\t\t\treturn constant.minute.min;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif( mask & DPickerDatetimeMask.HOURS ) {\r\n\t\t\t\tif( lowerDate.getHours() < date.getHours() ) {\r\n\t\t\t\t\treturn constant.minute.min;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconst lowerDateMinutes = lowerDate.getMinutes();\r\n\t\t\tif( lower.inclusive ) {\r\n\t\t\t\treturn lowerDateMinutes;\r\n\t\t\t} else {\r\n\t\t\t\tif( mask & DPickerDatetimeMask.SECONDS ) {\r\n\t\t\t\t\tif( lowerDate.getSeconds() < constant.second.max ) {\r\n\t\t\t\t\t\treturn lowerDateMinutes;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn lowerDateMinutes + 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn constant.minute.min;\r\n\t}\r\n\r\n\tmax( date: Date ): number {\r\n\t\tconst parent = this._parent;\r\n\t\tconst upper = parent.upper;\r\n\t\tconst upperDate = upper.date;\r\n\t\tconst constant = parent.constant;\r\n\t\tif( upperDate != null ) {\r\n\t\t\tconst mask = parent.mask;\r\n\t\t\tif( mask & DPickerDatetimeMask.DATE ) {\r\n\t\t\t\tif( date.getFullYear() < upperDate.getFullYear() ) {\r\n\t\t\t\t\treturn constant.minute.max;\r\n\t\t\t\t}\r\n\t\t\t\tif( date.getMonth() < upperDate.getMonth() ) {\r\n\t\t\t\t\treturn constant.minute.max;\r\n\t\t\t\t}\r\n\t\t\t\tif( date.getDate() < upperDate.getDate() ) {\r\n\t\t\t\t\treturn constant.minute.max;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif( mask & DPickerDatetimeMask.HOURS ) {\r\n\t\t\t\tif( date.getHours() < upperDate.getHours() ) {\r\n\t\t\t\t\treturn constant.minute.max;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconst upperDateMinutes = upperDate.getMinutes();\r\n\t\t\tif( upper.inclusive ) {\r\n\t\t\t\treturn upperDateMinutes;\r\n\t\t\t} else {\r\n\t\t\t\tif( mask & DPickerDatetimeMask.SECONDS ) {\r\n\t\t\t\t\tif( constant.second.min < upperDate.getSeconds() ) {\r\n\t\t\t\t\t\treturn upperDateMinutes;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn upperDateMinutes - 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn constant.minute.max;\r\n\t}\r\n}\r\n"]}