{"version":3,"file":"d-diagram-canvas-mapping-impl.js","sourceRoot":"","sources":["../../../src/main/typescript/wcardinal/ui/d-diagram-canvas-mapping-impl.ts"],"names":[],"mappings":"AAAA;;;GAGG;AAGH,OAAO,EAAE,kCAAkC,EAAE,MAAM,uCAAuC,CAAC;AAG3F;IAQC,uCACC,EAAc,EACd,eAAqD,EACrD,IAAa,EACb,IAAa,EACb,IAAa,EACb,IAAa;QAEb,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC;QACd,IAAI,eAAe,KAAK,IAAI,IAAI,eAAe,KAAK,KAAK,EAAG;YAC3D,IAAI,CAAC,OAAO,GAAG,eAAe,CAAC;YAC/B,IAAI,CAAC,KAAK,GAAG,IAAI,kCAAkC,CAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAE,CAAC;YAC5E,IAAI,CAAC,GAAG,GAAG,IAAI,kCAAkC,CAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAE,CAAC;SAC1E;aAAM,IAAI,eAAe,IAAI,IAAI,EAAG;YACpC,IAAI,CAAC,OAAO,GAAG,eAAe,CAAC,MAAM,CAAC;YACtC,IAAI,CAAC,KAAK,GAAG,IAAI,kCAAkC,CAAE,EAAE,EAAE,IAAI,EAAE,eAAe,CAAC,IAAI,CAAC,GAAG,EAAE,eAAe,CAAC,IAAI,CAAC,GAAG,CAAE,CAAC;YACpH,IAAI,CAAC,GAAG,GAAG,IAAI,kCAAkC,CAAE,EAAE,EAAE,IAAI,EAAE,eAAe,CAAC,EAAE,CAAC,GAAG,EAAE,eAAe,CAAC,EAAE,CAAC,GAAG,CAAE,CAAC;SAC9G;aAAM;YACN,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,CAAC,KAAK,GAAG,IAAI,kCAAkC,CAAE,EAAE,EAAE,IAAI,EAAE,CAAC,GAAG,EAAE,CAAC,iBAAiB,CAAE,CAAC;YAC1F,IAAI,CAAC,GAAG,GAAG,IAAI,kCAAkC,CAAE,EAAE,EAAE,IAAI,EAAE,CAAC,GAAG,EAAE,CAAC,iBAAiB,CAAE,CAAC;SACxF;IACF,CAAC;IAED,sBAAI,iDAAM;aAAV;YACC,OAAO,IAAI,CAAC,OAAO,CAAC;QACrB,CAAC;aAED,UAAY,MAAe;YAC1B,IAAI,IAAI,CAAC,OAAO,KAAK,MAAM,EAAG;gBAC7B,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;gBACtB,IAAI,CAAC,GAAG,EAAE,CAAC;aACX;QACF,CAAC;;;OAPA;IASD,sBAAI,+CAAI;aAAR;YACC,OAAO,IAAI,CAAC,KAAK,CAAC;QACnB,CAAC;;;OAAA;IAED,sBAAI,6CAAE;aAAN;YACC,OAAO,IAAI,CAAC,GAAG,CAAC;QACjB,CAAC;;;OAAA;IAED,iDAAS,GAAT;QACC,OAAO;YACN,MAAM,EAAE,IAAI,CAAC,OAAO;YACpB,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;YAC3B,EAAE,EAAE,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE;SACvB,CAAC;IACH,CAAC;IACF,oCAAC;AAAD,CAAC,AA1DD,IA0DC","sourcesContent":["/*\r\n * Copyright (C) 2019 Toshiba Corporation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\r\n\r\nimport { DDiagramCanvasTileMapping } from \"./d-diagram-canvas-mapping\";\r\nimport { DDiagramCanvasTileMappingPointImpl } from \"./d-diagram-canvas-mapping-point-impl\";\r\nimport { DMapTileMappingPoint } from \"./d-map-tile-mapping\";\r\n\r\nexport class DDiagramCanvasTileMappingImpl implements DDiagramCanvasTileMapping {\r\n\tprotected _enable: boolean;\r\n\tprotected _from: DDiagramCanvasTileMappingPointImpl;\r\n\tprotected _to: DDiagramCanvasTileMappingPointImpl;\r\n\tprotected _cb: () => void;\r\n\r\n\tconstructor( cb: () => void, mapping?: DDiagramCanvasTileMapping );\r\n\tconstructor( cb: () => void, enable: boolean, lon0: number, lat0: number, lon1: number, lat1: number );\r\n\tconstructor(\r\n\t\tcb: () => void,\r\n\t\tmappingOrEnable?: DDiagramCanvasTileMapping | boolean,\r\n\t\tlon0?: number,\r\n\t\tlat0?: number,\r\n\t\tlon1?: number,\r\n\t\tlat1?: number\r\n\t) {\r\n\t\tthis._cb = cb;\r\n\t\tif( mappingOrEnable === true || mappingOrEnable === false ) {\r\n\t\t\tthis._enable = mappingOrEnable;\r\n\t\t\tthis._from = new DDiagramCanvasTileMappingPointImpl( cb, null, lon0, lat0 );\r\n\t\t\tthis._to = new DDiagramCanvasTileMappingPointImpl( cb, null, lon1, lat1 );\r\n\t\t} else if( mappingOrEnable != null ) {\r\n\t\t\tthis._enable = mappingOrEnable.enable;\r\n\t\t\tthis._from = new DDiagramCanvasTileMappingPointImpl( cb, null, mappingOrEnable.from.lon, mappingOrEnable.from.lat );\r\n\t\t\tthis._to = new DDiagramCanvasTileMappingPointImpl( cb, null, mappingOrEnable.to.lon, mappingOrEnable.to.lat );\r\n\t\t} else {\r\n\t\t\tthis._enable = false;\r\n\t\t\tthis._from = new DDiagramCanvasTileMappingPointImpl( cb, null, -180, +85.05112877980659 );\r\n\t\t\tthis._to = new DDiagramCanvasTileMappingPointImpl( cb, null, +180, -85.05112877980659 );\r\n\t\t}\r\n\t}\r\n\r\n\tget enable(): boolean {\r\n\t\treturn this._enable;\r\n\t}\r\n\r\n\tset enable( enable: boolean ) {\r\n\t\tif( this._enable !== enable ) {\r\n\t\t\tthis._enable = enable;\r\n\t\t\tthis._cb();\r\n\t\t}\r\n\t}\r\n\r\n\tget from(): DMapTileMappingPoint {\r\n\t\treturn this._from;\r\n\t}\r\n\r\n\tget to(): DMapTileMappingPoint {\r\n\t\treturn this._to;\r\n\t}\r\n\r\n\tserialize(): DDiagramCanvasTileMapping {\r\n\t\treturn {\r\n\t\t\tenable: this._enable,\r\n\t\t\tfrom: this._from.toObject(),\r\n\t\t\tto: this._to.toObject()\r\n\t\t};\r\n\t}\r\n}\r\n"]}