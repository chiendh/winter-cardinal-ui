{"version":3,"file":"d-pagination-dynamic-buttons.js","sourceRoot":"","sources":["../../../src/main/typescript/wcardinal/ui/d-pagination-dynamic-buttons.ts"],"names":[],"mappings":"AAAA;;;GAGG;;AAEH,OAAO,EAAE,OAAO,EAAE,MAAM,YAAY,CAAC;AACrC,OAAO,EAAE,iBAAiB,EAAoD,MAAM,uBAAuB,CAAC;AAC5G,OAAO,EAAE,qBAAqB,EAAE,MAAM,4BAA4B,CAAC;AAiBnE;IAGU,6CAAiC;IAH3C;;IAsEA,CAAC;IA/DU,wCAAI,GAAd,UAAgB,OAAgB;QAC/B,iBAAM,IAAI,YAAE,OAAO,CAAE,CAAC;QACtB,IAAI,CAAC,YAAY,GAAG,IAAI,qBAAqB,CAAC;YAC7C,KAAK,EAAE,OAAO,CAAC,MAAM,CAAC,KAAK;YAC3B,OAAO,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,QAAQ;SAClC,CAAC,CAAC;QACH,IAAI,CAAC,aAAa,GAAG,IAAI,qBAAqB,CAAC;YAC9C,KAAK,EAAE,OAAO,CAAC,MAAM,CAAC,KAAK;YAC3B,OAAO,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,SAAS;SACnC,CAAC,CAAC;QACH,IAAI,CAAC,QAAQ,CAAE,IAAI,CAAC,YAAY,CAAE,CAAC;QACnC,IAAI,CAAC,QAAQ,CAAE,IAAI,CAAC,aAAa,CAAE,CAAC;IACrC,CAAC;IAEM,0CAAM,GAAb,UAAe,OAAgD;QAA/D,iBA6CC;QA5CA,IAAI,OAAO,CAAC,KAAK,IAAI,IAAI,IAAI,OAAO,CAAC,GAAG,IAAI,IAAI,EAAG;YAClD,OAAO;SACP;QACD,IAAM,SAAS,GAAG,OAAO,CAAC,GAAG,GAAG,OAAO,CAAC,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,GAAG,OAAO,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5F,IAAI,WAAW,GAAK,IAAI,CAAC,QAAuB,CAAC,KAAK,CAAE,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAE,CAAC;QACtF,IAAI,WAAW,CAAC,MAAM,GAAG,SAAS,EAAG;YACpC,KAAM,IAAI,CAAC,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC,GAAG,SAAS,EAAE,CAAC,EAAE,EAAG;gBACtD,IAAM,GAAG,GAAG,IAAI,OAAO,CAAC;oBACvB,KAAK,EAAE,OAAO,CAAC,MAAM,CAAC,KAAK;iBAC3B,CAAC,CAAC;gBACH,IAAI,CAAC,UAAU,CAAE,GAAG,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAE,CAAC;gBACjD,GAAG,CAAC,EAAE,CAAE,QAAQ,EAAE,UAAE,UAAmB;oBACtC,KAAI,CAAC,IAAI,CAAE,QAAQ,EAAE,UAAU,CAAE,CAAC;gBACnC,CAAC,CAAC,CAAC;aACH;YACD,6CAA6C;YAC7C,WAAW,GAAK,IAAI,CAAC,QAAsB,CAAC,KAAK,CAAE,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAE,CAAC;SAEjF;aAAM,IAAI,WAAW,CAAC,MAAM,GAAG,SAAS,EAAG;YAC3C,KAAM,IAAI,CAAC,GAAG,SAAS,EAAE,CAAC,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAG;gBACtD,WAAW,CAAE,CAAC,CAAE,CAAC,IAAI,EAAE,CAAC;aACxB;SACD;QACD,sCAAsC;QACtC,KAAM,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,EAAE,CAAC,EAAE,EAAG;YACrC,IAAM,GAAG,GAAG,WAAW,CAAE,CAAC,CAAE,CAAC;YAC7B,GAAG,CAAC,IAAI,GAAG,OAAO,CAAC,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC;YACjC,GAAG,CAAC,SAAS,CAAE,OAAO,CAAC,KAAK,GAAG,CAAC,KAAM,OAAO,CAAC,QAAQ,CAAE,CAAC;YACzD,IAAI,GAAG,CAAC,QAAQ,EAAE,EAAG;gBACpB,GAAG,CAAC,IAAI,EAAE,CAAC;aACX;SACD;QAED,uCAAuC;QACvC,IAAI,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,QAAQ,EAAG;YAC/B,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;SACzB;aAAM;YACN,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;SACzB;QACD,IAAI,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,SAAS,EAAG;YAChC,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;SAC1B;aAAM;YACN,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;SAC1B;IACF,CAAC;IACS,2CAAO,GAAjB;QACC,OAAO,2BAA2B,CAAC;IACpC,CAAC;IACF,gCAAC;AAAD,CAAC,AAtED,CAGU,iBAAiB,GAmE1B","sourcesContent":["/*\r\n * Copyright (C) 2019 Toshiba Corporation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\r\n\r\nimport { DButton } from \"./d-button\";\r\nimport { DLayoutHorizontal, DLayoutHorizontalOptions, DThemeLayoutHorizontal } from \"./d-layout-horizontal\";\r\nimport { DPaginationDotsButton } from \"./d-pagination-dots-button\";\r\n\r\nexport interface DPaginationDynamicButtonsOptions<\r\n\tTHEME extends DThemePaginationDynamicButtons> extends DLayoutHorizontalOptions<THEME> {\r\n\t\tstart?: number;\r\n\t\tend?: number;\r\n\t\tselected?: number;\r\n\t\tbutton: {\r\n\t\t\twidth: number,\r\n\t\t\tdotsLeft?: boolean,\r\n\t\t\tdotsRight?: boolean\r\n\t\t};\r\n}\r\n\r\nexport interface DThemePaginationDynamicButtons extends DThemeLayoutHorizontal {\r\n}\r\n\r\nexport class DPaginationDynamicButtons<\r\n\tTHEME extends DThemePaginationDynamicButtons = DThemePaginationDynamicButtons,\r\n\tOPTIONS extends DPaginationDynamicButtonsOptions<THEME> = DPaginationDynamicButtonsOptions<THEME>\r\n> extends DLayoutHorizontal<THEME, OPTIONS> {\r\n\tprotected _dotsBtnLeft!: DPaginationDotsButton;\r\n\tprotected _dotsBtnRight!: DPaginationDotsButton;\r\n\r\n\tprotected init( options: OPTIONS ) {\r\n\t\tsuper.init( options );\r\n\t\tthis._dotsBtnLeft = new DPaginationDotsButton({\r\n\t\t\twidth: options.button.width,\r\n\t\t\tvisible: !!options.button.dotsLeft\r\n\t\t});\r\n\t\tthis._dotsBtnRight = new DPaginationDotsButton({\r\n\t\t\twidth: options.button.width,\r\n\t\t\tvisible: !!options.button.dotsRight\r\n\t\t});\r\n\t\tthis.addChild( this._dotsBtnLeft );\r\n\t\tthis.addChild( this._dotsBtnRight );\r\n\t}\r\n\r\n\tpublic update( options: DPaginationDynamicButtonsOptions<THEME> ) {\r\n\t\tif( options.start == null || options.end == null ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst btnsCount = options.end - options.start + 1 > 0 ? options.end - options.start + 1 : 0;\r\n\t\tlet pageButtons = ( this.children as DButton[] ).slice( 1, this.children.length - 1 );\r\n\t\tif( pageButtons.length < btnsCount ) {\r\n\t\t\tfor ( let i = pageButtons.length; i < btnsCount; i++ ) {\r\n\t\t\t\tconst btn = new DButton({\r\n\t\t\t\t\twidth: options.button.width\r\n\t\t\t\t});\r\n\t\t\t\tthis.addChildAt( btn, this.children.length - 1 );\r\n\t\t\t\tbtn.on( \"active\", ( clickedBtn: DButton ) => {\r\n\t\t\t\t\tthis.emit( \"active\", clickedBtn );\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t// re-new \"pageButtons\" after add new buttons\r\n\t\t\tpageButtons = ( this.children as DButton[]).slice( 1, this.children.length - 1 );\r\n\r\n\t\t} else if( pageButtons.length > btnsCount ) {\r\n\t\t\tfor ( let i = btnsCount; i < pageButtons.length; i++ ) {\r\n\t\t\t\tpageButtons[ i ].hide();\r\n\t\t\t}\r\n\t\t}\r\n\t\t// update button text and active state\r\n\t\tfor ( let i = 0; i < btnsCount; i++ ) {\r\n\t\t\tconst btn = pageButtons[ i ];\r\n\t\t\tbtn.text = options.start + i + 1;\r\n\t\t\tbtn.setActive( options.start + i  === options.selected );\r\n\t\t\tif( btn.isHidden() ) {\r\n\t\t\t\tbtn.show();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// update visible state of dots buttons\r\n\t\tif( !!options.button.dotsLeft ) {\r\n\t\t\tthis._dotsBtnLeft.show();\r\n\t\t} else {\r\n\t\t\tthis._dotsBtnLeft.hide();\r\n\t\t}\r\n\t\tif( !!options.button.dotsRight ) {\r\n\t\t\tthis._dotsBtnRight.show();\r\n\t\t} else {\r\n\t\t\tthis._dotsBtnRight.hide();\r\n\t\t}\r\n\t}\r\n\tprotected getType(): string {\r\n\t\treturn \"DPaginationDynamicButtons\";\r\n\t}\r\n}\r\n"]}