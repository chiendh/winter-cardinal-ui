{"version":3,"file":"d-slider.js","sourceRoot":"","sources":["../../../src/main/typescript/wcardinal/ui/d-slider.ts"],"names":[],"mappings":"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","sourcesContent":["/*\r\n * Copyright (C) 2019 Toshiba Corporation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\r\n\r\nimport { interaction, Point } from \"pixi.js\";\r\nimport { DApplications } from \"./d-applications\";\r\nimport { DBase, DBaseOptions, DThemeBase } from \"./d-base\";\r\nimport { DSliderLabel, DSliderLabelOptions } from \"./d-slider-label\";\r\nimport { DSliderThumb, DSliderThumbOptions } from \"./d-slider-thumb\";\r\nimport { DSliderTrack, DSliderTrackOptions } from \"./d-slider-track\";\r\nimport { DSliderValue, DSliderValueOptions } from \"./d-slider-value\";\r\nimport { UtilPointerEvent } from \"./util/util-pointer-event\";\r\nimport InteractionEvent = interaction.InteractionEvent;\r\nimport InteractionManager = interaction.InteractionManager;\r\n\r\nexport interface DSliderOptions<THEME extends DThemeSlider> extends DBaseOptions<THEME> {\r\n\tmin?: DSliderLabelOptions;\r\n\tmax?: DSliderLabelOptions;\r\n\tvalue?: DSliderValueOptions;\r\n\ttrack?: DSliderTrackOptions;\r\n\tthumb?: DSliderThumbOptions;\r\n}\r\n\r\nexport interface DThemeSlider extends DThemeBase {\r\n\r\n}\r\n\r\nexport abstract class DSlider<\r\n\tTHEME extends DThemeSlider = DThemeSlider,\r\n\tOPTIONS extends DSliderOptions<THEME> = DSliderOptions<THEME>\r\n> extends DBase<THEME, OPTIONS> {\r\n\tprotected _track!: DSliderTrack;\r\n\tprotected _thumb!: DSliderThumb;\r\n\tprotected _trackSelected!: DSliderTrack;\r\n\tprotected _value!: DSliderValue;\r\n\tprotected _roundNumber!: number;\r\n\tprotected _offset!: number;\r\n\tprotected _yOffset!: number;\r\n\tprotected _ratioValue!: number;\r\n\tprotected _min!: DSliderLabel;\r\n\tprotected _max!: DSliderLabel;\r\n\tprotected _onThumbMoveBound!: ( e: InteractionEvent ) => void;\r\n\tprotected _onThumbUpBound!: ( e: InteractionEvent ) => void;\r\n\tprotected _onTrackUpBound!: ( e: InteractionEvent ) => void;\r\n\tprotected _onTrackSelectedUpBound!: ( e: InteractionEvent ) => void;\r\n\tprotected _interactionManager?: InteractionManager;\r\n\r\n\tprotected init( options?: OPTIONS ) {\r\n\t\tsuper.init( options );\r\n\r\n\t\tthis._ratioValue = 0;\r\n\r\n\t\tthis._track = this.newTrack( options );\r\n\t\tthis.addChild( this._track );\r\n\t\tthis._trackSelected = this.newTrackSelected( options );\r\n\t\tthis._trackSelected.setActive( true );\r\n\t\tthis.addChild( this._trackSelected );\r\n\t\tthis._thumb = this.newThumb( options );\r\n\t\tthis.addChild( this._thumb );\r\n\t\tthis._min = this.newLabelMin( options );\r\n\t\tthis.addChild( this._min );\r\n\t\tthis._max = this.newLabelMax( options );\r\n\t\tthis.addChild( this._max );\r\n\t\tthis._value = this.newValue( options );\r\n\t\tthis.addChild( this._value );\r\n\r\n\t\t// Event listeners\r\n\t\tthis._track.on( UtilPointerEvent.down, ( e: InteractionEvent) => {\r\n\t\t\tthis._value.visible = true && !this.isDisabled();\r\n\t\t\tthis.onTrackDown( e.data.global );\r\n\t\t});\r\n\r\n\t\tthis._trackSelected.on( UtilPointerEvent.down, ( e: InteractionEvent) => {\r\n\t\t\tthis._value.visible = true && !this.isDisabled();\r\n\t\t\tthis.onTrackSelectedDown( e.data.global );\r\n\t\t});\r\n\r\n\t\tthis._onTrackUpBound = ( e: InteractionEvent ): void => {\r\n\t\t\tthis.onTrackUpBound( e );\r\n\t\t\tthis._value.visible = false;\r\n\t\t};\r\n\r\n\t\tthis._onTrackSelectedUpBound = ( e: InteractionEvent ): void => {\r\n\t\t\tthis.onTrackSelectedUpBound( e );\r\n\t\t\tthis._value.visible = false;\r\n\t\t};\r\n\r\n\t\tthis._thumb.on( UtilPointerEvent.down, ( e: InteractionEvent ) => {\r\n\t\t\tthis._value.visible = true;\r\n\t\t\tthis.onThumbDown( e );\r\n\t\t});\r\n\r\n\t\tthis._onThumbMoveBound = ( e: InteractionEvent ): void => {\r\n\t\t\tthis.onThumbMove( e );\r\n\t\t};\r\n\r\n\t\tthis._onThumbUpBound = ( e: InteractionEvent ): void => {\r\n\t\t\tthis.onThumbUp( e );\r\n\t\t\tthis._value.visible = false;\r\n\t\t};\r\n\r\n\t\t//\r\n\t\tthis.onValuesChanged();\r\n\t}\r\n\r\n\tprotected newThumb( options?: OPTIONS ): DSliderThumb {\r\n\t\treturn new DSliderThumb( options && options.thumb );\r\n\t}\r\n\r\n\tprotected newValue( options?: OPTIONS ): DSliderValue {\r\n\t\treturn new DSliderValue( this.toValueOptions( options && options.value ) );\r\n\t}\r\n\r\n\tprotected toValueOptions( options?: DSliderValueOptions ): DSliderValueOptions {\r\n\t\toptions = options || {};\r\n\t\tif( options.value == null ) {\r\n\t\t\toptions.value = 0;\r\n\t\t}\r\n\t\tconst text = options.text = options.text || {};\r\n\t\tif( text.value == null ) {\r\n\t\t\ttext.value = options.value;\r\n\t\t}\r\n\t\tif( options.visible == null ) {\r\n\t\t\toptions.visible = false;\r\n\t\t}\r\n\t\treturn options;\r\n\t}\r\n\r\n\tprotected newLabelMin( options?: OPTIONS ): DSliderLabel {\r\n\t\treturn new DSliderLabel( this.toLabelMinOptions( options && options.min ) );\r\n\t}\r\n\r\n\tprotected toLabelMinOptions( options?: DSliderLabelOptions ): DSliderLabelOptions {\r\n\t\toptions = options || {};\r\n\t\tif( options.value == null ) {\r\n\t\t\toptions.value = 0;\r\n\t\t}\r\n\t\tconst text = options.text = options.text || {};\r\n\t\tif( text.value == null ) {\r\n\t\t\ttext.value = `${options.value}`;\r\n\t\t}\r\n\t\treturn options;\r\n\t}\r\n\r\n\tprotected newLabelMax( options?: OPTIONS ): DSliderLabel {\r\n\t\treturn new DSliderLabel( this.toLabelMaxOptions( options && options.max ) );\r\n\t}\r\n\r\n\tprotected toLabelMaxOptions( options?: DSliderLabelOptions ): DSliderLabelOptions {\r\n\t\toptions = options || {};\r\n\t\tif( options.value == null ) {\r\n\t\t\toptions.value = 1;\r\n\t\t}\r\n\t\tconst text = options.text = options.text || {};\r\n\t\tif( text.value == null ) {\r\n\t\t\ttext.value = `${options.value}`;\r\n\t\t}\r\n\t\treturn options;\r\n\t}\r\n\r\n\tprotected abstract newTrack( options?: OPTIONS ): DSliderTrack;\r\n\tprotected abstract newTrackSelected( options?: OPTIONS ): DSliderTrack;\r\n\r\n\tprotected abstract onPick( global: Point ): void;\r\n\tprotected abstract onValuesChanged(): void;\r\n\tprotected abstract moveThumbPosition( thumbCoordinate: number ): void;\r\n\r\n\tprotected getValueMargin(): number {\r\n\t\treturn 14;\r\n\t}\r\n\r\n\tprotected onTrackDown( global: Point ): void {\r\n\t\tif( this.isDisabled() ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst layer = DApplications.getLayer( this );\r\n\t\tif( layer ) {\r\n\t\t\tconst interactionManager = layer.renderer.plugins.interaction;\r\n\t\t\tthis._interactionManager = interactionManager;\r\n\t\t\tinteractionManager.on( UtilPointerEvent.up, this._onTrackUpBound );\r\n\t\t}\r\n\t\tthis.onPick( global );\r\n\t}\r\n\r\n\tprotected onTrackSelectedDown( global: Point ): void {\r\n\t\tif( this.isDisabled() ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst layer = DApplications.getLayer( this );\r\n\t\tif( layer ) {\r\n\t\t\tconst interactionManager = layer.renderer.plugins.interaction;\r\n\t\t\tthis._interactionManager = interactionManager;\r\n\t\t\tinteractionManager.on( UtilPointerEvent.up, this._onTrackSelectedUpBound );\r\n\t\t}\r\n\t\tthis.onPick( global );\r\n\t}\r\n\r\n\tprotected onTrackUpBound( e: InteractionEvent ): void {\r\n\t\tconst interactionManager = this._interactionManager;\r\n\t\tif( interactionManager ) {\r\n\t\t\tthis._interactionManager = undefined;\r\n\t\t\tinteractionManager.off( UtilPointerEvent.up, this._onTrackUpBound );\r\n\t\t}\r\n\t}\r\n\r\n\tprotected onTrackSelectedUpBound( e: InteractionEvent ): void {\r\n\t\tconst interactionManager = this._interactionManager;\r\n\t\tif( interactionManager ) {\r\n\t\t\tthis._interactionManager = undefined;\r\n\t\t\tinteractionManager.off( UtilPointerEvent.up, this._onTrackSelectedUpBound );\r\n\t\t}\r\n\t}\r\n\r\n\tprotected onThumbMove( e: InteractionEvent ): void {\r\n\t\tif( this.isDisabled() ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.onPick( e.data.global );\r\n\t}\r\n\r\n\tprotected onThumbDown( e: InteractionEvent ): void {\r\n\t\tconst layer = DApplications.getLayer( this );\r\n\t\tif( layer ) {\r\n\t\t\tconst interactionManager = layer.renderer.plugins.interaction;\r\n\t\t\tthis._interactionManager = interactionManager;\r\n\t\t\tinteractionManager.on( UtilPointerEvent.move, this._onThumbMoveBound );\r\n\t\t\tinteractionManager.on( UtilPointerEvent.up, this._onThumbUpBound );\r\n\t\t}\r\n\t}\r\n\r\n\tprotected onThumbUp( e: InteractionEvent ): void {\r\n\t\tconst interactionManager = this._interactionManager;\r\n\t\tif( interactionManager ) {\r\n\t\t\tthis._interactionManager = undefined;\r\n\t\t\tinteractionManager.off( UtilPointerEvent.move, this._onThumbMoveBound );\r\n\t\t\tinteractionManager.off( UtilPointerEvent.up, this._onThumbUpBound );\r\n\t\t}\r\n\t}\r\n\r\n\tprotected updateValue(): void {\r\n\t\tconst min = this._min.value;\r\n\t\tconst max = this._max.value;\r\n\t\tconst value = this._value;\r\n\t\tvalue.value = value.rounder( min + this._ratioValue * ( max - min ) );\r\n\t\tvalue.text = value.value;\r\n\t}\r\n\r\n\tonResize( newWidth: number, newHeight: number, oldWidth: number, oldHeight: number ): void {\r\n\t\tsuper.onResize( newWidth, newHeight, oldWidth, oldHeight );\r\n\t\tthis.onValuesChanged();\r\n\t}\r\n\r\n\t/**\r\n\t * Gets current value of slider\r\n\t */\r\n\tget value(): number {\r\n\t\treturn this._value.value;\r\n\t}\r\n\r\n\t/**\r\n\t * Sets value for slider\r\n\t * - New value will be applied\r\n\t * - UI components will be changed arcording to new value\r\n\t */\r\n\tset value( value: number ) {\r\n\t\tvalue = Math.max( this._min.value, Math.min( this._max.value, value ) );\r\n\t\t// Adjust if value is new\r\n\t\tif( this._value.value !== value ) {\r\n\t\t\tthis._value.value = value;\r\n\t\t\tthis.onValuesChanged();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Gets min value of slider\r\n\t */\r\n\tget min(): number {\r\n\t\treturn this._min.value;\r\n\t}\r\n\r\n\t/**\r\n\t * Sets min value for slider\r\n\t * - New min value will be applied\r\n\t * - UI components will be changed arcording to new value\r\n\t */\r\n\tset min( newMin: number ) {\r\n\t\tconst min = this._min;\r\n\t\tnewMin = Math.min( this._max.value, newMin );\r\n\t\tif( min.value !== newMin ) {\r\n\t\t\tconst value = this._value;\r\n\t\t\tmin.text = min.value = newMin;\r\n\t\t\tvalue.value = Math.max( newMin, value.value );\r\n\t\t\tthis.onValuesChanged();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Gets max value of slider\r\n\t */\r\n\tget max(): number {\r\n\t\treturn this._max.value;\r\n\t}\r\n\r\n\t/**\r\n\t * Sets max value for slider\r\n\t * - New max value will be applied\r\n\t * - UI components will be changed arcording to new value\r\n\t */\r\n\tset max( newMax: number ) {\r\n\t\tconst max = this._max;\r\n\t\tnewMax = Math.max( this._min.value, newMax );\r\n\t\tif( max.value !== newMax ) {\r\n\t\t\tconst value = this._value;\r\n\t\t\tmax.text = max.value = newMax;\r\n\t\t\tvalue.value = Math.min( newMax, value.value );\r\n\t\t\tthis.onValuesChanged();\r\n\t\t}\r\n\t}\r\n\r\n\tprotected getType(): string {\r\n\t\treturn \"DSlider\";\r\n\t}\r\n}\r\n"]}