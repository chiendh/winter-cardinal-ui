{"version":3,"file":"d-picker-time-bound-hours.js","sourceRoot":"","sources":["../../../src/main/typescript/wcardinal/ui/d-picker-time-bound-hours.ts"],"names":[],"mappings":"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","sourcesContent":["/*\r\n * Copyright (C) 2019 Toshiba Corporation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\r\n\r\nimport { DPickerDatetimeMask } from \"./d-picker-datetime-mask\";\r\nimport { DPickerTimeBound } from \"./d-picker-time-bound\";\r\nimport { DPickerTimeBoundConstant } from \"./d-picker-time-bound-constant\";\r\n\r\nexport interface DPickerTimeBoundHoursParent {\r\n\tlower: DPickerTimeBound;\r\n\tupper: DPickerTimeBound;\r\n\tmask: DPickerDatetimeMask;\r\n\tconstant: DPickerTimeBoundConstant;\r\n}\r\n\r\nexport class DPickerTimeBoundHours {\r\n\tprotected _parent: DPickerTimeBoundHoursParent;\r\n\r\n\tconstructor( parent: DPickerTimeBoundHoursParent ) {\r\n\t\tthis._parent = parent;\r\n\t}\r\n\r\n\tmin( date: Date ): number {\r\n\t\tconst parent = this._parent;\r\n\t\tconst lower = parent.lower;\r\n\t\tconst lowerDate = lower.date;\r\n\t\tconst constant = parent.constant;\r\n\t\tif( lowerDate != null ) {\r\n\t\t\tconst mask = parent.mask;\r\n\t\t\tif( mask & DPickerDatetimeMask.DATE ) {\r\n\t\t\t\tif( lowerDate.getFullYear() < date.getFullYear() ) {\r\n\t\t\t\t\treturn constant.hour.min;\r\n\t\t\t\t}\r\n\t\t\t\tif( lowerDate.getMonth() < date.getMonth() ) {\r\n\t\t\t\t\treturn constant.hour.min;\r\n\t\t\t\t}\r\n\t\t\t\tif( lowerDate.getDate() < date.getDate() ) {\r\n\t\t\t\t\treturn constant.hour.min;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconst lowerDateHours = lowerDate.getHours();\r\n\t\t\tif( lower.inclusive ) {\r\n\t\t\t\treturn lowerDateHours;\r\n\t\t\t} else {\r\n\t\t\t\tif( mask & DPickerDatetimeMask.SECONDS ) {\r\n\t\t\t\t\tif( lowerDate.getSeconds() < constant.second.max ) {\r\n\t\t\t\t\t\treturn lowerDateHours;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif( mask & DPickerDatetimeMask.MINUTES ) {\r\n\t\t\t\t\tif( lowerDate.getMinutes() < constant.minute.max ) {\r\n\t\t\t\t\t\treturn lowerDateHours;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn lowerDateHours + 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn constant.hour.min;\r\n\t}\r\n\r\n\tmax( date: Date ): number {\r\n\t\tconst parent = this._parent;\r\n\t\tconst upper = parent.upper;\r\n\t\tconst upperDate = upper.date;\r\n\t\tconst constant = parent.constant;\r\n\t\tif( upperDate != null ) {\r\n\t\t\tconst mask = parent.mask;\r\n\t\t\tif( mask & DPickerDatetimeMask.DATE ) {\r\n\t\t\t\tif( date.getFullYear() < upperDate.getFullYear() ) {\r\n\t\t\t\t\treturn constant.hour.max;\r\n\t\t\t\t}\r\n\t\t\t\tif( date.getMonth() < upperDate.getMonth() ) {\r\n\t\t\t\t\treturn constant.hour.max;\r\n\t\t\t\t}\r\n\t\t\t\tif( date.getDate() < upperDate.getDate() ) {\r\n\t\t\t\t\treturn constant.hour.max;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconst upperDateHours = upperDate.getHours();\r\n\t\t\tif( upper.inclusive ) {\r\n\t\t\t\treturn upperDateHours;\r\n\t\t\t} else {\r\n\t\t\t\tif( mask & DPickerDatetimeMask.SECONDS ) {\r\n\t\t\t\t\tif( constant.second.min < upperDate.getSeconds() ) {\r\n\t\t\t\t\t\treturn upperDateHours;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif( mask & DPickerDatetimeMask.MINUTES ) {\r\n\t\t\t\t\tif( constant.minute.min < upperDate.getMinutes() ) {\r\n\t\t\t\t\t\treturn upperDateHours;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn upperDateHours - 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn constant.hour.max;\r\n\t}\r\n}\r\n"]}