{"version":3,"file":"d-slider-value.js","sourceRoot":"","sources":["../../../src/main/typescript/wcardinal/ui/d-slider-value.ts"],"names":[],"mappings":"AAAA;;;GAGG;;AAEH,OAAO,EAAE,UAAU,EAAE,MAAM,gBAAgB,CAAC;AAC5C,OAAO,EAAE,SAAS,EAAoC,MAAM,eAAe,CAAC;AAe5E;IAIW,gCAAgC;IAJ3C;;IA6CA,CAAC;IArCU,2BAAI,GAAd,UAAgB,OAAiB;QAEhC,iBAAM,IAAI,YAAE,OAAO,CAAE,CAAC;QACtB,IAAI,CAAC,QAAQ,CAAE,UAAU,CAAC,WAAW,EAAE,IAAI,CAAE,CAAC;QAE9C,IAAI,CAAC,MAAM,GAAG,OAAO,IAAI,OAAO,CAAC,KAAK,IAAI,CAAC,CAAC;QAC5C,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAE,OAAO,CAAE,CAAC;IAC3C,CAAC;IAED,gCAAS,GAAT,UAAW,OAAiB;QAC3B,IAAM,OAAO,GAAG,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC;QAC3C,IAAK,OAAO,EAAG;YACd,OAAO,OAAO,CAAC;SACf;QAED,IAAM,SAAS,GAAG,CAAE,OAAO,IAAI,OAAO,CAAC,SAAS,CAAE,CAAC,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;QACnG,OAAO,UAAE,KAAa;YACrB,IAAM,IAAI,GAAG,IAAI,CAAC,GAAG,CAAE,EAAE,EAAE,SAAS,CAAE,CAAC;YACvC,OAAO,IAAI,CAAC,KAAK,CAAE,KAAK,GAAG,IAAI,CAAE,GAAG,IAAI,CAAC;QAC1C,CAAC,CAAC;IACH,CAAC;IAED,sBAAI,+BAAK;aAIT;YACC,OAAO,IAAI,CAAC,MAAM,CAAC;QACpB,CAAC;aAND,UAAW,KAAa;YACvB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACrB,CAAC;;;OAAA;IAMD,sBAAI,iCAAO;aAAX;YACC,OAAO,IAAI,CAAC,QAAQ,CAAC;QACtB,CAAC;;;OAAA;IAES,8BAAO,GAAjB;QACC,OAAO,cAAc,CAAC;IACvB,CAAC;IACF,mBAAC;AAAD,CAAC,AA7CD,CAIW,SAAS,GAyCnB","sourcesContent":["/*\r\n * Copyright (C) 2019 Toshiba Corporation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\r\n\r\nimport { DBaseState } from \"./d-base-state\";\r\nimport { DTextBase, DTextBaseOptions, DThemeTextBase } from \"./d-text-base\";\r\n\r\nexport interface DSliderValueOptions<\r\n\tVALUE = number,\r\n\tTHEME extends DThemeSliderValue = DThemeSliderValue\r\n\t> extends DTextBaseOptions<VALUE, THEME> {\r\n\tvalue?: number;\r\n\tprecision?: number;\r\n\trounder?: ( value: number ) => number;\r\n}\r\n\r\nexport interface DThemeSliderValue extends DThemeTextBase {\r\n\tgetPrecision(): number;\r\n}\r\n\r\nexport class DSliderValue<\r\n\tVALUE = number,\r\n\tTHEME extends DThemeSliderValue = DThemeSliderValue,\r\n\tOPTIONS extends DSliderValueOptions<VALUE, THEME> = DSliderValueOptions<VALUE, THEME>\r\n\t> extends DTextBase<VALUE, THEME, OPTIONS> {\r\n\tprotected _value!: number;\r\n\tprotected _rounder!: ( value: number ) => number;\r\n\r\n\tprotected init( options?: OPTIONS ) {\r\n\r\n\t\tsuper.init( options );\r\n\t\tthis.setState( DBaseState.UNFOCUSABLE, true );\r\n\r\n\t\tthis._value = options && options.value || 0;\r\n\t\tthis._rounder = this.toRounder( options );\r\n\t}\r\n\r\n\ttoRounder( options?: OPTIONS ) {\r\n\t\tconst rounder = options && options.rounder;\r\n\t\tif ( rounder ) {\r\n\t\t\treturn rounder;\r\n\t\t}\r\n\r\n\t\tconst precision = ( options && options.precision ) ? options.precision : this.theme.getPrecision();\r\n\t\treturn ( value: number ) => {\r\n\t\t\tconst base = Math.pow( 10, precision );\r\n\t\t\treturn Math.round( value * base ) / base;\r\n\t\t};\r\n\t}\r\n\r\n\tset value( value: number ) {\r\n\t\tthis._value = value;\r\n\t}\r\n\r\n\tget value(): number {\r\n\t\treturn this._value;\r\n\t}\r\n\r\n\tget rounder(): ( value: number ) => number {\r\n\t\treturn this._rounder;\r\n\t}\r\n\r\n\tprotected getType(): string {\r\n\t\treturn \"DSliderValue\";\r\n\t}\r\n}\r\n"]}