{"version":3,"file":"d-menu-bar-item.js","sourceRoot":"","sources":["../../../src/main/typescript/wcardinal/ui/d-menu-bar-item.ts"],"names":[],"mappings":"AAAA;;;GAGG;;AAEH,OAAO,EAAE,OAAO,EAAgC,MAAM,YAAY,CAAC;AACnE,OAAO,EAAE,KAAK,EAAgB,MAAM,UAAU,CAAC;AAc/C;IAIU,gCAA8B;IAJxC;;IAuDA,CAAC;IAhDU,2BAAI,GAAd,UAAgB,OAAiB;QAAjC,iBAOC;QANA,iBAAM,IAAI,YAAE,OAAO,CAAE,CAAC;QAEtB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAE,IAAI,CAAC,KAAK,EAAE,OAAO,CAAE,CAAC;QAChD,IAAI,CAAC,KAAK,CAAC,EAAE,CAAE,QAAQ,EAAE,UAAE,KAAY,EAAE,IAAsB,EAAE,IAAkB;YAClF,KAAI,CAAC,QAAQ,CAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAE,CAAC;QACpC,CAAC,CAAC,CAAC;IACJ,CAAC;IAES,6BAAM,GAAhB,UAAkB,KAAY,EAAE,OAAiB;QAChD,IAAM,IAAI,GAAG,OAAO,IAAI,OAAO,CAAC,IAAI,CAAC;QACrC,IAAI,IAAI,YAAY,KAAK,EAAG;YAC3B,OAAO,IAAI,CAAC;SACZ;aAAM;YACN,OAAO,IAAI,KAAK,CAAE,IAAI,CAAC,aAAa,CAAE,KAAK,EAAE,IAAI,CAAE,CAAE,CAAC;SACtD;IACF,CAAC;IAES,8BAAO,GAAjB,UAAmB,KAAY,EAAE,OAA6B;QAC7D,OAAO,IAAI,KAAK,CAAS,IAAI,CAAC,aAAa,CAAE,KAAK,EAAE,OAAO,CAAE,CAAE,CAAC;IACjE,CAAC;IAES,oCAAa,GAAvB,UAAyB,KAAY,EAAE,OAA6B;QACnE,OAAO,GAAG,OAAO,IAAI,EAAE,CAAC;QACxB,IAAI,OAAO,CAAC,GAAG,IAAI,IAAI,EAAG;YACzB,OAAO,CAAC,GAAG,GAAG,KAAK,CAAC;SACpB;QACD,OAAO,OAAO,CAAC;IAChB,CAAC;IAED,4BAAK,GAAL;QACC,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;IACpB,CAAC;IAED,sBAAI,8BAAI;aAAR;YACC,OAAO,IAAI,CAAC,KAAK,CAAC;QACnB,CAAC;;;OAAA;IAES,+BAAQ,GAAlB,UAAoB,KAAY,EAAE,IAAsB,EAAE,IAAkB;QAC3E,IAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QAC3B,IAAI,MAAM,IAAI,IAAI,EAAG;YACpB,MAAM,CAAC,IAAI,CAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAE,CAAC;SAC3C;IACF,CAAC;IAES,8BAAO,GAAjB;QACC,OAAO,cAAc,CAAC;IACvB,CAAC;IACF,mBAAC;AAAD,CAAC,AAvDD,CAIU,OAAO,GAmDhB","sourcesContent":["/*\r\n * Copyright (C) 2019 Toshiba Corporation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\r\n\r\nimport { DButton, DButtonOptions, DThemeButton } from \"./d-button\";\r\nimport { DMenu, DMenuOptions } from \"./d-menu\";\r\nimport { DMenuItem } from \"./d-menu-item\";\r\n\r\nexport interface DMenuBarItemOptions<\r\n\tVALUE = unknown,\r\n\tTHEME extends DThemeMenuBarItem = DThemeMenuBarItem\r\n> extends DButtonOptions<VALUE, THEME> {\r\n\tmenu?: DMenuOptions<VALUE> | DMenu<VALUE>;\r\n}\r\n\r\nexport interface DThemeMenuBarItem extends DThemeButton {\r\n\r\n}\r\n\r\nexport class DMenuBarItem<\r\n\tVALUE = unknown,\r\n\tTHEME extends DThemeMenuBarItem = DThemeMenuBarItem,\r\n\tOPTIONS extends DMenuBarItemOptions<VALUE, THEME> = DMenuBarItemOptions<VALUE, THEME>\r\n> extends DButton<VALUE, THEME, OPTIONS> {\r\n\tprotected _menu!: DMenu<VALUE>;\r\n\r\n\tprotected init( options?: OPTIONS ) {\r\n\t\tsuper.init( options );\r\n\r\n\t\tthis._menu = this.toMenu( this.theme, options );\r\n\t\tthis._menu.on( \"select\", ( value: VALUE, item: DMenuItem<VALUE>, menu: DMenu<VALUE> ): void => {\r\n\t\t\tthis.onSelect( value, item, menu );\r\n\t\t});\r\n\t}\r\n\r\n\tprotected toMenu( theme: THEME, options?: OPTIONS ): DMenu<VALUE> {\r\n\t\tconst menu = options && options.menu;\r\n\t\tif( menu instanceof DMenu ) {\r\n\t\t\treturn menu;\r\n\t\t} else {\r\n\t\t\treturn new DMenu( this.toMenuOptions( theme, menu ) );\r\n\t\t}\r\n\t}\r\n\r\n\tprotected newMenu( theme: THEME, options?: DMenuOptions<VALUE> ): DMenu<VALUE> {\r\n\t\treturn new DMenu<VALUE>( this.toMenuOptions( theme, options ) );\r\n\t}\r\n\r\n\tprotected toMenuOptions( theme: THEME, options?: DMenuOptions<VALUE> ): DMenuOptions<VALUE> | undefined {\r\n\t\toptions = options || {};\r\n\t\tif( options.fit == null ) {\r\n\t\t\toptions.fit = false;\r\n\t\t}\r\n\t\treturn options;\r\n\t}\r\n\r\n\tclose(): void {\r\n\t\tthis._menu.close();\r\n\t}\r\n\r\n\tget menu() {\r\n\t\treturn this._menu;\r\n\t}\r\n\r\n\tprotected onSelect( value: VALUE, item: DMenuItem<VALUE>, menu: DMenu<VALUE> ): void {\r\n\t\tconst parent = this.parent;\r\n\t\tif( parent != null ) {\r\n\t\t\tparent.emit( \"select\", value, item, menu );\r\n\t\t}\r\n\t}\r\n\r\n\tprotected getType(): string {\r\n\t\treturn \"DMenuBarItem\";\r\n\t}\r\n}\r\n"]}