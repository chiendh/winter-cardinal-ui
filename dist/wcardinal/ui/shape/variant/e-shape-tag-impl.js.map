{"version":3,"file":"e-shape-tag-impl.js","sourceRoot":"","sources":["../../../../../src/main/typescript/wcardinal/ui/shape/variant/e-shape-tag-impl.ts"],"names":[],"mappings":"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","sourcesContent":["/*\r\n * Copyright (C) 2019 Toshiba Corporation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\r\n\r\nimport { EShapeResourceManagerDeserialization } from \"../e-shape-resource-manager-deserialization\";\r\nimport { EShapeResourceManagerSerialization } from \"../e-shape-resource-manager-serialization\";\r\nimport { EShapeTag } from \"../e-shape-tag\";\r\nimport { EShapeTagValue } from \"../e-shape-tag-value\";\r\nimport { EShapeTagValueRange } from \"../e-shape-tag-value-range\";\r\nimport { EShapeTagValueImpl } from \"./e-shape-tag-value-impl\";\r\nimport { EShapeTagValueRangeImpl } from \"./e-shape-tag-value-range-impl\";\r\n\r\nexport class EShapeTagImpl implements EShapeTag {\r\n\tstatic RANGE_DUMMY = new EShapeTagValueRangeImpl();\r\n\tstatic EMPTY_ARRAY = [];\r\n\r\n\tprotected _values: EShapeTagValue[];\r\n\tisChanged: boolean;\r\n\tinherited?: EShapeTagValue;\r\n\r\n\tconstructor() {\r\n\t\tthis._values = [];\r\n\t\tthis.isChanged = true;\r\n\t}\r\n\r\n\tget id(): string {\r\n\t\tconst values = this._values;\r\n\t\tif( 0 < values.length ) {\r\n\t\t\treturn values[ 0 ].id;\r\n\t\t} else {\r\n\t\t\tconst inherited = this.inherited;\r\n\t\t\tif( inherited != null ) {\r\n\t\t\t\treturn inherited.id;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn \"\";\r\n\t}\r\n\r\n\tget initial(): string {\r\n\t\tconst values = this._values;\r\n\t\tif( 0 < values.length ) {\r\n\t\t\treturn values[ 0 ].initial;\r\n\t\t} else {\r\n\t\t\tconst inherited = this.inherited;\r\n\t\t\tif( inherited != null ) {\r\n\t\t\t\treturn inherited.initial;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn \"\";\r\n\t}\r\n\r\n\tget format(): string {\r\n\t\tconst values = this._values;\r\n\t\tif( 0 < values.length ) {\r\n\t\t\treturn values[ 0 ].format;\r\n\t\t} else {\r\n\t\t\tconst inherited = this.inherited;\r\n\t\t\tif( inherited != null ) {\r\n\t\t\t\treturn inherited.format;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn \"\";\r\n\t}\r\n\r\n\tget range(): EShapeTagValueRange {\r\n\t\tconst values = this._values;\r\n\t\tif( 0 < values.length ) {\r\n\t\t\treturn values[ 0 ].range;\r\n\t\t} else {\r\n\t\t\tconst inherited = this.inherited;\r\n\t\t\tif( inherited != null ) {\r\n\t\t\t\treturn inherited.range;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn EShapeTagImpl.RANGE_DUMMY;\r\n\t}\r\n\r\n\tget value(): unknown {\r\n\t\tconst values = this._values;\r\n\t\tif( 0 < values.length ) {\r\n\t\t\treturn values[ 0 ].value;\r\n\t\t} else {\r\n\t\t\tconst inherited = this.inherited;\r\n\t\t\tif( inherited != null ) {\r\n\t\t\t\treturn inherited.value;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tset value( value: unknown ) {\r\n\t\tconst values = this._values;\r\n\t\tif( 0 < values.length ) {\r\n\t\t\tvalues[ 0 ].value = value;\r\n\t\t} else {\r\n\t\t\tconst inherited = this.inherited;\r\n\t\t\tif( inherited != null ) {\r\n\t\t\t\tinherited.value = value;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tget nvalue(): number {\r\n\t\tconst values = this._values;\r\n\t\tif( 0 < values.length ) {\r\n\t\t\treturn values[ 0 ].nvalue;\r\n\t\t} else {\r\n\t\t\tconst inherited = this.inherited;\r\n\t\t\tif( inherited != null ) {\r\n\t\t\t\treturn inherited.nvalue;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tget time(): number {\r\n\t\tconst values = this._values;\r\n\t\tif( 0 < values.length ) {\r\n\t\t\treturn values[ 0 ].time;\r\n\t\t} else {\r\n\t\t\tconst inherited = this.inherited;\r\n\t\t\tif( inherited != null ) {\r\n\t\t\t\treturn inherited.time;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tset time( time: number ) {\r\n\t\tconst values = this._values;\r\n\t\tif( 0 < values.length ) {\r\n\t\t\tvalues[ 0 ].time = time;\r\n\t\t} else {\r\n\t\t\tconst inherited = this.inherited;\r\n\t\t\tif( inherited != null ) {\r\n\t\t\t\tinherited.time = time;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tget values(): unknown[] {\r\n\t\tconst values = this._values;\r\n\t\tif( 0 < values.length ) {\r\n\t\t\treturn values[ 0 ].values;\r\n\t\t} else {\r\n\t\t\tconst inherited = this.inherited;\r\n\t\t\tif( inherited != null ) {\r\n\t\t\t\treturn inherited.values;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn EShapeTagImpl.EMPTY_ARRAY;\r\n\t}\r\n\r\n\tset values( newValues: unknown[] ) {\r\n\t\tconst values = this._values;\r\n\t\tif( 0 < values.length ) {\r\n\t\t\tvalues[ 0 ].values = newValues;\r\n\t\t} else {\r\n\t\t\tconst inherited = this.inherited;\r\n\t\t\tif( inherited != null ) {\r\n\t\t\t\tinherited.values = newValues;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tget times(): number[] {\r\n\t\tconst values = this._values;\r\n\t\tif( 0 < values.length ) {\r\n\t\t\treturn values[ 0 ].times;\r\n\t\t} else {\r\n\t\t\tconst inherited = this.inherited;\r\n\t\t\tif( inherited != null ) {\r\n\t\t\t\treturn inherited.times;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn EShapeTagImpl.EMPTY_ARRAY;\r\n\t}\r\n\r\n\tset times( newTimes: number[] ) {\r\n\t\tconst values = this._values;\r\n\t\tif( 0 < values.length ) {\r\n\t\t\tvalues[ 0 ].times = newTimes;\r\n\t\t} else {\r\n\t\t\tconst inherited = this.inherited;\r\n\t\t\tif( inherited != null ) {\r\n\t\t\t\tinherited.times = newTimes;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tget capacity(): number {\r\n\t\tconst values = this._values;\r\n\t\tif( 0 < values.length ) {\r\n\t\t\treturn values[ 0 ].capacity;\r\n\t\t} else {\r\n\t\t\tconst inherited = this.inherited;\r\n\t\t\tif( inherited != null ) {\r\n\t\t\t\treturn inherited.capacity;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tset capacity( capacity: number ) {\r\n\t\tconst values = this._values;\r\n\t\tif( 0 < values.length ) {\r\n\t\t\tvalues[ 0 ].capacity = capacity;\r\n\t\t} else {\r\n\t\t\tconst inherited = this.inherited;\r\n\t\t\tif( inherited != null ) {\r\n\t\t\t\tinherited.capacity = capacity;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tadd( value: EShapeTagValue, index?: number ): void {\r\n\t\tconst values = this._values;\r\n\t\tvalue.parent = this;\r\n\t\tif( index === undefined ) {\r\n\t\t\tvalues.push( value );\r\n\t\t} else {\r\n\t\t\tvalues.splice( index, 0, value );\r\n\t\t}\r\n\t}\r\n\r\n\tset( index: number, value: EShapeTagValue ): EShapeTagValue | null {\r\n\t\tconst values = this._values;\r\n\t\tif( 0 <= index && index < values.length ) {\r\n\t\t\tconst result = values[ index ];\r\n\t\t\tvalue.parent = this;\r\n\t\t\tvalues[ index ] = value;\r\n\t\t\tresult.parent = undefined;\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tremove( index: number ): void {\r\n\t\tconst values = this._values;\r\n\t\tif( 0 <= index && index < values.length ) {\r\n\t\t\tvalues.splice( index, 1 )[ 0 ].parent = undefined;\r\n\t\t}\r\n\t}\r\n\r\n\tindexOf( target: EShapeTagValue ): number {\r\n\t\tconst values = this._values;\r\n\r\n\t\t// Instance-based matching\r\n\t\tfor( let i = 0, imax = values.length; i < imax; ++i ) {\r\n\t\t\tconst value = values[ i ];\r\n\t\t\tif( value === target ) {\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Data-based matching\r\n\t\tfor( let i = 0, imax = values.length; i < imax; ++i ) {\r\n\t\t\tconst value = values[ i ];\r\n\t\t\tif(\r\n\t\t\t\tvalue.id === target.id &&\r\n\t\t\t\tvalue.initial === target.initial &&\r\n\t\t\t\tvalue.formatter === target.formatter &&\r\n\t\t\t\tvalue.range.isEquals( target.range )\r\n\t\t\t) {\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// ID-based matching\r\n\t\tfor( let i = 0, imax = values.length; i < imax; ++i ) {\r\n\t\t\tconst value = values[ i ];\r\n\t\t\tif( value.id === target.id ) {\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn -1;\r\n\t}\r\n\r\n\tget( index: number ): EShapeTagValue | null {\r\n\t\tconst values = this._values;\r\n\t\tif( 0 <= index && index < values.length ) {\r\n\t\t\treturn values[ index ];\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tsize(): number {\r\n\t\treturn this._values.length;\r\n\t}\r\n\r\n\tswap( indexA: number, indexB: number ): void {\r\n\t\tconst values = this._values;\r\n\t\tconst tmp = values[ indexB ];\r\n\t\tvalues[ indexB ] = values[ indexA ];\r\n\t\tvalues[ indexA ] = tmp;\r\n\t}\r\n\r\n\tcopy( target: EShapeTag ): this {\r\n\t\tconst values = this._values;\r\n\t\tvalues.length = 0;\r\n\r\n\t\tfor( let i = 0, imax = target.size(); i < imax; ++i ) {\r\n\t\t\tconst value = target.get( i );\r\n\t\t\tif( value != null ) {\r\n\t\t\t\tconst newValue = new EShapeTagValueImpl().copy( value );\r\n\t\t\t\tnewValue.parent = this;\r\n\t\t\t\tvalues.push( newValue );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\tserialize( manager: EShapeResourceManagerSerialization ): number {\r\n\t\tconst values = this._values;\r\n\t\tif( values.length <= 0 ) {\r\n\t\t\treturn manager.add( \"[]\" );\r\n\t\t} else {\r\n\t\t\tlet serialized = `[${values[ 0 ].serialize( manager )}`;\r\n\t\t\tfor( let i = 1, imax = values.length; i < imax; ++i ) {\r\n\t\t\t\tserialized += `,${values[ i ].serialize( manager )}`;\r\n\t\t\t}\r\n\t\t\tserialized += \"]\";\r\n\t\t\treturn manager.add( serialized );\r\n\t\t}\r\n\t}\r\n\r\n\tdeserialize( target: number, manager: EShapeResourceManagerDeserialization ): void {\r\n\t\tif( 0 <= target && target < manager.resources.length ) {\r\n\t\t\tlet deserialized: number[] | undefined = manager.tags.get( target );\r\n\t\t\tif( deserialized == null ) {\r\n\t\t\t\tdeserialized = JSON.parse( manager.resources[ target ] ) as number[];\r\n\t\t\t\tmanager.tags.set( target, deserialized );\r\n\t\t\t}\r\n\r\n\t\t\tconst values = this._values;\r\n\t\t\tvalues.length = 0;\r\n\t\t\tfor( let i = 0, imax = deserialized.length; i < imax; ++i ) {\r\n\t\t\t\tconst index = deserialized[ i ];\r\n\t\t\t\tconst value = new EShapeTagValueImpl();\r\n\t\t\t\tvalue.parent = this;\r\n\t\t\t\tvalue.deserialize( index, manager );\r\n\t\t\t\tvalues.push( value );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n"]}