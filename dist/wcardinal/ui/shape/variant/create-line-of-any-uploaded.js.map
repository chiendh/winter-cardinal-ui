{"version":3,"file":"create-line-of-any-uploaded.js","sourceRoot":"","sources":["../../../../../src/main/typescript/wcardinal/ui/shape/variant/create-line-of-any-uploaded.ts"],"names":[],"mappings":"AAAA;;;GAGG;AAIH,OAAO,EAAE,qBAAqB,EAAE,MAAM,qBAAqB,CAAC;AAC5D,OAAO,EAAE,gBAAgB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,MAAM,cAAc,CAAC;AAetF,MAAM,CAAC,IAAM,uBAAuB,GAAG,UACtC,MAAoB,EAAE,KAAa,EACnC,OAAe,EACf,cAAsB,EACtB,OAAe,EACf,cAAsB,EACtB,eAAuB,EACvB,WAAkD;IAElD,IAAM,MAAM,GAAG,iBAAiB,CAAE,KAAK,CAAE,CAAC;IAC1C,IAAM,OAAO,GAAG,MAAM,GAAG,iBAAiB,CAAC;IAC3C,IAAM,OAAO,GAAG,MAAM,GAAG,gBAAgB,CAAC;IAC1C,IAAM,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;IAC5B,IAAM,UAAU,GAAG,qBAAqB,CAAE,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAE,CAAC;IACvE,IAAM,MAAM,GAAG,UAAU,GAAG,cAAc,GAAG,OAAO,CAAC;IACrD,IAAM,MAAM,GAAG,UAAU,GAAG,cAAc,GAAG,OAAO,CAAC;IACrD,IAAI,MAAM,CAAC,KAAK,CAAE,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,CAAE,EAAG;QACtD,OAAO,IAAI,WAAW,CACrB,MAAM,EACN,OAAO,EAAE,OAAO,EAChB,OAAO,EAAE,OAAO,EAChB,MAAM,EAAE,MAAM,EACd,eAAe,EACf,UAAU,CACV,CAAC,IAAI,CAAE,KAAK,CAAE,CAAC;KAChB;IACD,OAAO,IAAI,CAAC;AACb,CAAC,CAAC","sourcesContent":["/*\r\n * Copyright (C) 2019 Toshiba Corporation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\r\n\r\nimport { EShape } from \"../e-shape\";\r\nimport { EShapeBuffer } from \"../e-shape-buffer\";\r\nimport { toLineOfAnyPointCount } from \"./build-line-of-any\";\r\nimport { TEXT_INDEX_COUNT, TEXT_VERTEX_COUNT, toTextBufferCount } from \"./build-text\";\r\n\r\ninterface Initializable {\r\n\tinit( shape: EShape ): this;\r\n}\r\n\r\nexport type EShapeLineOfAnyUploadedConstructor<T extends Initializable> = new (\r\n\tbuffer: EShapeBuffer,\r\n\tvoffset: number, ioffset: number,\r\n\ttvcount: number, ticount: number,\r\n\tvcount: number, icount: number,\r\n\tantialiasWeight: number,\r\n\tpointCount: number\r\n) => T;\r\n\r\nexport const createLineOfAnyUploaded = <T extends Initializable>(\r\n\tbuffer: EShapeBuffer, shape: EShape,\r\n\tvoffset: number,\r\n\tvcountPerPoint: number,\r\n\tioffset: number,\r\n\ticountPerPoint: number,\r\n\tantialiasWeight: number,\r\n\tconstructor: EShapeLineOfAnyUploadedConstructor<T>\r\n): T | null => {\r\n\tconst tcount = toTextBufferCount( shape );\r\n\tconst tvcount = tcount * TEXT_VERTEX_COUNT;\r\n\tconst ticount = tcount * TEXT_INDEX_COUNT;\r\n\tconst points = shape.points;\r\n\tconst pointCount = toLineOfAnyPointCount( points ? points.length : 0 );\r\n\tconst vcount = pointCount * vcountPerPoint + tvcount;\r\n\tconst icount = pointCount * icountPerPoint + ticount;\r\n\tif( buffer.check( voffset, ioffset, vcount, icount ) ) {\r\n\t\treturn new constructor(\r\n\t\t\tbuffer,\r\n\t\t\tvoffset, ioffset,\r\n\t\t\ttvcount, ticount,\r\n\t\t\tvcount, icount,\r\n\t\t\tantialiasWeight,\r\n\t\t\tpointCount\r\n\t\t).init( shape );\r\n\t}\r\n\treturn null;\r\n};\r\n"]}