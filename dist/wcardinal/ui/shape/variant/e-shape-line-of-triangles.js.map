{"version":3,"file":"e-shape-line-of-triangles.js","sourceRoot":"","sources":["../../../../../src/main/typescript/wcardinal/ui/shape/variant/e-shape-line-of-triangles.ts"],"names":[],"mappings":"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","sourcesContent":["/*\r\n * Copyright (C) 2019 Toshiba Corporation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\r\n\r\nimport { IPoint } from \"pixi.js\";\r\nimport { EShapeType } from \"../e-shape-type\";\r\nimport { EShapeBase } from \"./e-shape-base\";\r\nimport { EShapeLineOfAny } from \"./e-shape-line-of-any\";\r\nimport {\r\n\tEShapeLineOfAnyPoints, EShapeLineOfAnyPointsHitTester,\r\n\tEShapeLineOfAnyPointsTestRange, EShapeLineOfAnyPointsToHitThreshold\r\n} from \"./e-shape-line-of-any-points\";\r\nimport { EShapeLineOfAnyPointsImpl } from \"./e-shape-line-of-any-points-impl\";\r\nimport { EShapeTriangle } from \"./e-shape-triangle\";\r\nimport { toHitThreshold } from \"./to-hit-threshold\";\r\n\r\nexport class EShapeLineOfTriangles extends EShapeTriangle implements EShapeLineOfAny {\r\n\tpoints!: EShapeLineOfAnyPoints;\r\n\tprotected _tester: EShapeLineOfAnyPointsHitTester<unknown>;\r\n\tprotected _testerBBox: EShapeLineOfAnyPointsHitTester<unknown>;\r\n\r\n\tconstructor( other?: EShapeLineOfTriangles ) {\r\n\t\tsuper( EShapeType.LINE_OF_TRIANGLES );\r\n\t\tif( other ) {\r\n\t\t\tthis.copy( other );\r\n\t\t} else {\r\n\t\t\tthis.points = new EShapeLineOfAnyPointsImpl( this );\r\n\t\t}\r\n\r\n\t\tthis._tester = ( x, y, ax, ay, ox, oy, px, py ): boolean => {\r\n\t\t\treturn this.containsPointAbs( x, y, ax, ay, ox, oy, px, py );\r\n\t\t};\r\n\r\n\t\tthis._testerBBox = ( x, y, ax, ay, ox, oy, px, py ): boolean => {\r\n\t\t\treturn this.containsPointAbsBBox( x, y, ax, ay, ox, oy, px, py );\r\n\t\t};\r\n\t}\r\n\r\n\tclone(): EShapeLineOfTriangles {\r\n\t\treturn new EShapeLineOfTriangles( this );\r\n\t}\r\n\r\n\tcontainsAbs( x: number, y: number, ax: number, ay: number ): boolean {\r\n\t\tconst threshold = toHitThreshold( this, null );\r\n\t\tif( this.containsAbsBBox( x, y, ax + threshold, ay + threshold ) ) {\r\n\t\t\treturn this.points.calcHitPointAbs(\r\n\t\t\t\tx, y,\r\n\t\t\t\tthreshold,\r\n\t\t\t\tnull,\r\n\t\t\t\tthis._tester,\r\n\t\t\t\tnull\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tcontainsPointAbs(\r\n\t\tx: number, y: number,\r\n\t\tax: number, ay: number,\r\n\t\tox: number, oy: number,\r\n\t\tpx: number, py: number\r\n\t): boolean {\r\n\t\treturn super.containsAbs( x - px - ox, y - py - oy, ax, ay );\r\n\t}\r\n\r\n\tcontainsPointAbsBBox(\r\n\t\tx: number, y: number,\r\n\t\tax: number, ay: number,\r\n\t\tox: number, oy: number,\r\n\t\tpx: number, py: number\r\n\t): boolean {\r\n\t\treturn super.containsAbsBBox( x - px - ox, y - py - oy, ax, ay );\r\n\t}\r\n\r\n\tcalcHitPoint<RESULT>(\r\n\t\tpoint: IPoint,\r\n\t\ttoThreshold: EShapeLineOfAnyPointsToHitThreshold | null,\r\n\t\trange: EShapeLineOfAnyPointsTestRange | null,\r\n\t\ttester: EShapeLineOfAnyPointsHitTester<RESULT> | null,\r\n\t\tresult: RESULT\r\n\t): boolean {\r\n\t\tconst rect = this.toLocalRect( point, EShapeBase.WORK_RECT );\r\n\t\tconst threshold = toHitThreshold( this, toThreshold );\r\n\t\tif( this.containsAbsBBox( rect.x, rect.y, rect.width + threshold, rect.height + threshold ) ) {\r\n\t\t\treturn this.points.calcHitPointAbs(\r\n\t\t\t\trect.x, rect.y,\r\n\t\t\t\tthreshold,\r\n\t\t\t\trange,\r\n\t\t\t\ttester || this._tester,\r\n\t\t\t\tresult\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n}\r\n"]}