{"version":3,"file":"build-text.js","sourceRoot":"","sources":["../../../../../src/main/typescript/wcardinal/ui/shape/variant/build-text.ts"],"names":[],"mappings":"AAAA,OAAO,EAAU,KAAK,EAAc,MAAM,SAAS,CAAC;AACpD,OAAO,EAAE,qBAAqB,EAAE,MAAM,oCAAoC,CAAC;AAE3E,OAAO,EAA6C,eAAe,EAAE,gBAAgB,EAAE,MAAM,iBAAiB,CAAC;AAC/G,OAAO,EAAE,yBAAyB,EAAE,MAAM,kCAAkC,CAAC;AAC7E,OAAO,EAAE,uBAAuB,EAAE,MAAM,gCAAgC,CAAC;AACzE,OAAO,EAAE,mBAAmB,EAAE,MAAM,2BAA2B,CAAC;AAChE,OAAO,EAAE,QAAQ,EAAE,MAAM,aAAa,CAAC;AAEvC,MAAM,CAAC,IAAM,iBAAiB,GAAG,CAAC,CAAC;AACnC,MAAM,CAAC,IAAM,gBAAgB,GAAG,CAAC,CAAC;AAClC,IAAM,eAAe,GAAG,EAAE,CAAC;AAC3B,IAAM,SAAS,GAAW,OAAO,CAAC;AAClC,IAAM,eAAe,GAAU,IAAI,KAAK,EAAE,CAAC;AAE3C,MAAM,CAAC,IAAM,iBAAiB,GAAG,UAAE,KAAa;IAC/C,OAAO,IAAI,CAAC,IAAI,CAAE,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,EAAE,CAAE,GAAG,EAAE,CAAC;AACvD,CAAC,CAAC;AAEF,MAAM,CAAC,IAAM,iBAAiB,GAAG,UAChC,SAAuB,EACvB,OAAe,EACf,MAAc;IAEd,KAAK,IAAI,CAAC,GAAG,OAAO,GAAG,CAAC,EAAE,IAAI,GAAG,CAAC,GAAG,MAAM,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,IAAI,CAAC,EAAG;QACnE,SAAS,CAAE,CAAC,GAAG,CAAC,CAAE,GAAG,CAAC,CAAC;QACvB,SAAS,CAAE,CAAC,GAAG,CAAC,CAAE,GAAG,CAAC,CAAC;QACvB,SAAS,CAAE,CAAC,GAAG,CAAC,CAAE,GAAG,CAAC,CAAC;KACvB;AACF,CAAC,CAAC;AAEF,MAAM,CAAC,IAAM,cAAc,GAAG,UAC7B,OAAkC,EAClC,OAAe,EACf,OAAe,EACf,MAAc;IAEd,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,OAAO,GAAG,CAAC,EAAE,IAAI,GAAG,CAAC,MAAM,IAAI,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAG;QACnF,IAAM,CAAC,GAAG,OAAO,GAAG,CAAE,CAAC,IAAI,CAAC,CAAE,CAAC;QAC/B,OAAO,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,CAAC,GAAG,CAAC,CAAC;QAC1B,OAAO,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,CAAC,GAAG,CAAC,CAAC;QAC1B,OAAO,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,CAAC,GAAG,CAAC,CAAC;QAE1B,OAAO,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,CAAC,GAAG,CAAC,CAAC;QAC1B,OAAO,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,CAAC,GAAG,CAAC,CAAC;QAC1B,OAAO,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,CAAC,GAAG,CAAC,CAAC;KAC1B;AACF,CAAC,CAAC;AAEF,MAAM,CAAC,IAAM,aAAa,GAAG,UAC5B,KAAmB,EACnB,OAAe,EACf,MAAc,EACd,SAAsC,EACtC,QAAgB,EAChB,gBAAwB,EACxB,UAA4B,EAC5B,eAAuB;IAEvB,IAAI,SAAS,IAAI,IAAI,EAAG;QACvB,IAAM,SAAS,GAAG,CAAC,GAAG,GAAG,eAAe,CAAC,GAAG,eAAe,CAAC;QAC5D,IAAM,KAAK,GAAG,SAAS,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,CAAC;QAC3D,IAAM,YAAY,GAAG,gBAAgB,GAAG,GAAG,CAAC;QAC5C,IAAM,MAAM,GAAG,CAAE,UAAU,KAAK,gBAAgB,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAE,CAAC;QACvE,KAAK,IAAI,CAAC,GAAG,OAAO,GAAG,CAAC,EAAE,IAAI,GAAG,CAAC,GAAG,MAAM,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,IAAI,CAAC,EAAG;YACnE,KAAK,CAAE,CAAC,GAAG,CAAC,CAAE,GAAG,KAAK,CAAC;YACvB,KAAK,CAAE,CAAC,GAAG,CAAC,CAAE,GAAG,YAAY,CAAC;YAC9B,KAAK,CAAE,CAAC,GAAG,CAAC,CAAE,GAAG,MAAM,CAAC;YACxB,KAAK,CAAE,CAAC,GAAG,CAAC,CAAE,GAAG,SAAS,CAAC;YAC3B,KAAK,CAAE,CAAC,GAAG,CAAC,CAAE,GAAG,SAAS,CAAC;YAC3B,KAAK,CAAE,CAAC,GAAG,CAAC,CAAE,GAAG,SAAS,CAAC;SAC3B;KACD;SAAM;QACN,KAAK,IAAI,CAAC,GAAG,OAAO,GAAG,CAAC,EAAE,IAAI,GAAG,CAAC,GAAG,MAAM,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,IAAI,CAAC,EAAG;YACnE,KAAK,CAAE,CAAC,GAAG,CAAC,CAAE,GAAG,CAAC,CAAC;YACnB,KAAK,CAAE,CAAC,GAAG,CAAC,CAAE,GAAG,CAAC,CAAC;YACnB,KAAK,CAAE,CAAC,GAAG,CAAC,CAAE,GAAG,SAAS,CAAC;YAC3B,KAAK,CAAE,CAAC,GAAG,CAAC,CAAE,GAAG,SAAS,CAAC;YAC3B,KAAK,CAAE,CAAC,GAAG,CAAC,CAAE,GAAG,SAAS,CAAC;YAC3B,KAAK,CAAE,CAAC,GAAG,CAAC,CAAE,GAAG,SAAS,CAAC;SAC3B;KACD;AACF,CAAC,CAAC;AAEF,IAAM,WAAW,GAAG,UACnB,MAAiC,EACjC,MAA+B,EAC/B,OAAe,EACf,OAAe,EACf,QAAgB,EAChB,QAAgB,EAChB,KAAa,EAAE,MAAc,EAC7B,EAAU,EAAE,EAAU,EACtB,EAAU,EAAE,EAAU,EACtB,EAAU,EAAE,EAAU,EACtB,EAAU,EAAE,EAAU,EACtB,GAAW,EAAE,GAAW,EACxB,GAAW,EAAE,GAAW,EACxB,MAAa;IAEb,QAAQ,MAAM,EAAG;QACjB,KAAK,yBAAyB,CAAC,IAAI;YAClC,QAAQ,MAAM,EAAG;gBACjB,KAAK,uBAAuB,CAAC,GAAG;oBAC/B,MAAM,CAAC,CAAC,GAAG,EAAE;0BACV,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE;0BAC5B,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE,CAAC;oBAChC,MAAM,CAAC,CAAC,GAAG,EAAE;0BACV,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE;0BAC5B,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE,CAAC;oBAChC,MAAM;gBACP,KAAK,uBAAuB,CAAC,MAAM;oBAClC,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,CAAE,EAAE,GAAG,EAAE,CAAE;0BACzB,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE;0BAC5B,GAAG,GAAG,CAAE,OAAO,GAAG,GAAG,GAAG,MAAM,CAAE,CAAC;oBACpC,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,CAAE,EAAE,GAAG,EAAE,CAAE;0BACzB,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE;0BAC5B,GAAG,GAAG,CAAE,OAAO,GAAG,GAAG,GAAG,MAAM,CAAE,CAAC;oBACpC,MAAM;gBACP,KAAK,uBAAuB,CAAC,MAAM;oBAClC,MAAM,CAAC,CAAC,GAAG,EAAE;0BACV,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE;0BAC5B,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,MAAM,CAAE,CAAC;oBACzC,MAAM,CAAC,CAAC,GAAG,EAAE;0BACV,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE;0BAC5B,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,MAAM,CAAE,CAAC;oBACzC,MAAM;gBACP,KAAK,uBAAuB,CAAC,WAAW;oBACvC,MAAM,CAAC,CAAC,GAAG,EAAE;0BACV,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE;0BAC5B,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,MAAM,CAAE,CAAC;oBACzC,MAAM,CAAC,CAAC,GAAG,EAAE;0BACV,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE;0BAC5B,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,MAAM,CAAE,CAAC;oBACzC,MAAM;gBACP,KAAK,uBAAuB,CAAC,cAAc;oBAC1C,MAAM,CAAC,CAAC,GAAG,EAAE;0BACV,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE;0BAC5B,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE,CAAC;oBAChC,MAAM,CAAC,CAAC,GAAG,EAAE;0BACV,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE;0BAC5B,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE,CAAC;oBAChC,MAAM;aACN;YACD,MAAM;QACP,KAAK,yBAAyB,CAAC,MAAM;YACpC,QAAQ,MAAM,EAAG;gBACjB,KAAK,uBAAuB,CAAC,GAAG;oBAC/B,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,CAAE,EAAE,GAAG,EAAE,CAAE;0BACzB,GAAG,GAAG,CAAE,OAAO,GAAG,GAAG,GAAG,KAAK,CAAE;0BAC/B,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE,CAAC;oBAChC,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,CAAE,EAAE,GAAG,EAAE,CAAE;0BACzB,GAAG,GAAG,CAAE,OAAO,GAAG,GAAG,GAAG,KAAK,CAAE;0BAC/B,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE,CAAC;oBAChC,MAAM;gBACP,KAAK,uBAAuB,CAAC,MAAM;oBAClC,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,CAAE,EAAE,GAAG,EAAE,CAAE;0BACzB,GAAG,GAAG,CAAE,OAAO,GAAG,GAAG,GAAG,KAAK,CAAE;0BAC/B,GAAG,GAAG,CAAE,OAAO,GAAG,GAAG,GAAG,MAAM,CAAE,CAAC;oBACpC,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,CAAE,EAAE,GAAG,EAAE,CAAE;0BACzB,GAAG,GAAG,CAAE,OAAO,GAAG,GAAG,GAAG,KAAK,CAAE;0BAC/B,GAAG,GAAG,CAAE,OAAO,GAAG,GAAG,GAAG,MAAM,CAAE,CAAC;oBACpC,MAAM;gBACP,KAAK,uBAAuB,CAAC,MAAM;oBAClC,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,CAAE,EAAE,GAAG,EAAE,CAAE;0BACzB,GAAG,GAAG,CAAE,OAAO,GAAG,GAAG,GAAG,KAAK,CAAE;0BAC/B,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,MAAM,CAAE,CAAC;oBACzC,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,CAAE,EAAE,GAAG,EAAE,CAAE;0BACzB,GAAG,GAAG,CAAE,OAAO,GAAG,GAAG,GAAG,KAAK,CAAE;0BAC/B,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,MAAM,CAAE,CAAC;oBACzC,MAAM;gBACP,KAAK,uBAAuB,CAAC,WAAW;oBACvC,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,CAAE,EAAE,GAAG,EAAE,CAAE;0BACzB,GAAG,GAAG,CAAE,OAAO,GAAG,GAAG,GAAG,KAAK,CAAE;0BAC/B,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,MAAM,CAAE,CAAC;oBACzC,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,CAAE,EAAE,GAAG,EAAE,CAAE;0BACzB,GAAG,GAAG,CAAE,OAAO,GAAG,GAAG,GAAG,KAAK,CAAE;0BAC/B,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,MAAM,CAAE,CAAC;oBACzC,MAAM;gBACP,KAAK,uBAAuB,CAAC,cAAc;oBAC1C,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,CAAE,EAAE,GAAG,EAAE,CAAE;0BACzB,GAAG,GAAG,CAAE,OAAO,GAAG,GAAG,GAAG,KAAK,CAAE;0BAC/B,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE,CAAC;oBAChC,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,CAAE,EAAE,GAAG,EAAE,CAAE;0BACzB,GAAG,GAAG,CAAE,OAAO,GAAG,GAAG,GAAG,KAAK,CAAE;0BAC/B,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE,CAAC;oBAChC,MAAM;aACN;YACD,MAAM;QACP,KAAK,yBAAyB,CAAC,KAAK;YACnC,QAAQ,MAAM,EAAG;gBACjB,KAAK,uBAAuB,CAAC,GAAG;oBAC/B,MAAM,CAAC,CAAC,GAAG,EAAE;0BACV,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,KAAK,CAAE;0BACpC,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE,CAAC;oBAChC,MAAM,CAAC,CAAC,GAAG,EAAE;0BACV,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,KAAK,CAAE;0BACpC,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE,CAAC;oBAChC,MAAM;gBACP,KAAK,uBAAuB,CAAC,MAAM;oBAClC,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,CAAE,EAAE,GAAG,EAAE,CAAE;0BACzB,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,KAAK,CAAE;0BACpC,GAAG,GAAG,CAAE,OAAO,GAAG,GAAG,GAAG,MAAM,CAAE,CAAC;oBACpC,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,CAAE,EAAE,GAAG,EAAE,CAAE;0BACzB,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,KAAK,CAAE;0BACpC,GAAG,GAAG,CAAE,OAAO,GAAG,GAAG,GAAG,MAAM,CAAE,CAAC;oBACpC,MAAM;gBACP,KAAK,uBAAuB,CAAC,MAAM;oBAClC,MAAM,CAAC,CAAC,GAAG,EAAE;0BACV,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,KAAK,CAAE;0BACpC,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,MAAM,CAAE,CAAC;oBACzC,MAAM,CAAC,CAAC,GAAG,EAAE;0BACV,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,KAAK,CAAE;0BACpC,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,MAAM,CAAE,CAAC;oBACzC,MAAM;gBACP,KAAK,uBAAuB,CAAC,WAAW;oBACvC,MAAM,CAAC,CAAC,GAAG,EAAE;0BACV,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,KAAK,CAAE;0BACpC,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,MAAM,CAAE,CAAC;oBACzC,MAAM,CAAC,CAAC,GAAG,EAAE;0BACV,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,KAAK,CAAE;0BACpC,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,MAAM,CAAE,CAAC;oBACzC,MAAM;gBACP,KAAK,uBAAuB,CAAC,cAAc;oBAC1C,MAAM,CAAC,CAAC,GAAG,EAAE;0BACV,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,KAAK,CAAE;0BACpC,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE,CAAC;oBAChC,MAAM,CAAC,CAAC,GAAG,EAAE;0BACV,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,KAAK,CAAE;0BACpC,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE,CAAC;oBAChC,MAAM;aACN;YACD,MAAM;QACP,KAAK,yBAAyB,CAAC,YAAY;YAC1C,QAAQ,MAAM,EAAG;gBACjB,KAAK,uBAAuB,CAAC,GAAG;oBAC/B,MAAM,CAAC,CAAC,GAAG,EAAE;0BACV,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,KAAK,CAAE;0BACpC,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE,CAAC;oBAChC,MAAM,CAAC,CAAC,GAAG,EAAE;0BACV,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,KAAK,CAAE;0BACpC,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE,CAAC;oBAChC,MAAM;gBACP,KAAK,uBAAuB,CAAC,MAAM;oBAClC,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,CAAE,EAAE,GAAG,EAAE,CAAE;0BACzB,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,KAAK,CAAE;0BACpC,GAAG,GAAG,CAAE,OAAO,GAAG,GAAG,GAAG,MAAM,CAAE,CAAC;oBACpC,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,CAAE,EAAE,GAAG,EAAE,CAAE;0BACzB,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,KAAK,CAAE;0BACpC,GAAG,GAAG,CAAE,OAAO,GAAG,GAAG,GAAG,MAAM,CAAE,CAAC;oBACpC,MAAM;gBACP,KAAK,uBAAuB,CAAC,MAAM;oBAClC,MAAM,CAAC,CAAC,GAAG,EAAE;0BACV,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,KAAK,CAAE;0BACpC,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,MAAM,CAAE,CAAC;oBACzC,MAAM,CAAC,CAAC,GAAG,EAAE;0BACV,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,KAAK,CAAE;0BACpC,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,MAAM,CAAE,CAAC;oBACzC,MAAM;gBACP,KAAK,uBAAuB,CAAC,WAAW;oBACvC,MAAM,CAAC,CAAC,GAAG,EAAE;0BACV,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,KAAK,CAAE;0BACpC,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,MAAM,CAAE,CAAC;oBACzC,MAAM,CAAC,CAAC,GAAG,EAAE;0BACV,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,KAAK,CAAE;0BACpC,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,MAAM,CAAE,CAAC;oBACzC,MAAM;gBACP,KAAK,uBAAuB,CAAC,cAAc;oBAC1C,MAAM,CAAC,CAAC,GAAG,EAAE;0BACV,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,KAAK,CAAE;0BACpC,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE,CAAC;oBAChC,MAAM,CAAC,CAAC,GAAG,EAAE;0BACV,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,KAAK,CAAE;0BACpC,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE,CAAC;oBAChC,MAAM;aACN;YACD,MAAM;QACP,KAAK,yBAAyB,CAAC,aAAa;YAC3C,QAAQ,MAAM,EAAG;gBACjB,KAAK,uBAAuB,CAAC,GAAG;oBAC/B,MAAM,CAAC,CAAC,GAAG,EAAE;0BACV,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE;0BAC5B,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE,CAAC;oBAChC,MAAM,CAAC,CAAC,GAAG,EAAE;0BACV,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE;0BAC5B,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE,CAAC;oBAChC,MAAM;gBACP,KAAK,uBAAuB,CAAC,MAAM;oBAClC,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,CAAE,EAAE,GAAG,EAAE,CAAE;0BACzB,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE;0BAC5B,GAAG,GAAG,CAAE,OAAO,GAAG,GAAG,GAAG,MAAM,CAAE,CAAC;oBACpC,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,CAAE,EAAE,GAAG,EAAE,CAAE;0BACzB,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE;0BAC5B,GAAG,GAAG,CAAE,OAAO,GAAG,GAAG,GAAG,MAAM,CAAE,CAAC;oBACpC,MAAM;gBACP,KAAK,uBAAuB,CAAC,MAAM;oBAClC,MAAM,CAAC,CAAC,GAAG,EAAE;0BACV,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE;0BAC5B,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,MAAM,CAAE,CAAC;oBACzC,MAAM,CAAC,CAAC,GAAG,EAAE;0BACV,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE;0BAC5B,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,MAAM,CAAE,CAAC;oBACzC,MAAM;gBACP,KAAK,uBAAuB,CAAC,WAAW;oBACvC,MAAM,CAAC,CAAC,GAAG,EAAE;0BACV,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE;0BAC5B,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,MAAM,CAAE,CAAC;oBACzC,MAAM,CAAC,CAAC,GAAG,EAAE;0BACV,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE;0BAC5B,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,GAAG,MAAM,CAAE,CAAC;oBACzC,MAAM;gBACP,KAAK,uBAAuB,CAAC,cAAc;oBAC1C,MAAM,CAAC,CAAC,GAAG,EAAE;0BACV,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE;0BAC5B,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE,CAAC;oBAChC,MAAM,CAAC,CAAC,GAAG,EAAE;0BACV,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE;0BAC5B,GAAG,GAAG,CAAE,OAAO,GAAG,QAAQ,CAAE,CAAC;oBAChC,MAAM;aACN;YACD,MAAM;KACN;AACF,CAAC,CAAC;AAEF,IAAM,YAAY,GAAG,UAAE,EAAU,EAAE,EAAU,EAAE,IAAY,EAAE,IAAY,EAAE,MAAa;IACvF,IAAM,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;IAC5B,IAAI,SAAS,GAAG,CAAC,EAAG;QACnB,IAAM,CAAC,GAAG,IAAI,CAAC,IAAI,CAAE,CAAC,CAAE,CAAC;QACzB,IAAM,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;QACjB,MAAM,CAAC,GAAG,CAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,CAAE,CAAC;QAC/B,OAAO,CAAC,CAAC;KACT;SAAM;QACN,MAAM,CAAC,GAAG,CAAE,IAAI,EAAE,IAAI,CAAE,CAAC;QACzB,OAAO,CAAC,CAAC;KACT;AACF,CAAC,CAAC;AAEF,IAAM,0BAA0B,GAAG,UAAE,KAAgC;IACpE,QAAQ,KAAK,EAAG;QAChB,KAAK,yBAAyB,CAAC,IAAI;YAClC,OAAO,uBAAuB,CAAC,MAAM,CAAC;QACvC,KAAK,yBAAyB,CAAC,MAAM;YACpC,OAAO,uBAAuB,CAAC,MAAM,CAAC;QACvC,KAAK,yBAAyB,CAAC,KAAK;YACnC,OAAO,uBAAuB,CAAC,GAAG,CAAC;QACpC,KAAK,yBAAyB,CAAC,YAAY;YAC1C,OAAO,uBAAuB,CAAC,cAAc,CAAC;QAC/C,KAAK,yBAAyB,CAAC,aAAa;YAC3C,OAAO,uBAAuB,CAAC,WAAW,CAAC;KAC3C;AACF,CAAC,CAAC;AAEF,IAAM,wBAAwB,GAAG,UAAE,KAA8B;IAChE,QAAQ,KAAK,EAAG;QAChB,KAAK,uBAAuB,CAAC,GAAG;YAC/B,OAAO,yBAAyB,CAAC,IAAI,CAAC;QACvC,KAAK,uBAAuB,CAAC,MAAM;YAClC,OAAO,yBAAyB,CAAC,MAAM,CAAC;QACzC,KAAK,uBAAuB,CAAC,MAAM;YAClC,OAAO,yBAAyB,CAAC,KAAK,CAAC;QACxC,KAAK,uBAAuB,CAAC,WAAW;YACvC,OAAO,yBAAyB,CAAC,YAAY,CAAC;QAC/C,KAAK,uBAAuB,CAAC,cAAc;YAC1C,OAAO,yBAAyB,CAAC,aAAa,CAAC;KAC/C;AACF,CAAC,CAAC;AAEF,IAAM,yBAAyB,GAAG,UAAE,KAAgC;IACnE,QAAQ,KAAK,EAAG;QAChB,KAAK,yBAAyB,CAAC,IAAI;YAClC,OAAO,uBAAuB,CAAC,GAAG,CAAC;QACpC,KAAK,yBAAyB,CAAC,MAAM;YACpC,OAAO,uBAAuB,CAAC,MAAM,CAAC;QACvC,KAAK,yBAAyB,CAAC,KAAK;YACnC,OAAO,uBAAuB,CAAC,MAAM,CAAC;QACvC,KAAK,yBAAyB,CAAC,YAAY;YAC1C,OAAO,uBAAuB,CAAC,WAAW,CAAC;QAC5C,KAAK,yBAAyB,CAAC,aAAa;YAC3C,OAAO,uBAAuB,CAAC,cAAc,CAAC;KAC9C;AACF,CAAC,CAAC;AAEF,IAAM,uBAAuB,GAAG,UAAE,KAA8B;IAC/D,QAAQ,KAAK,EAAG;QAChB,KAAK,uBAAuB,CAAC,GAAG;YAC/B,OAAO,yBAAyB,CAAC,KAAK,CAAC;QACxC,KAAK,uBAAuB,CAAC,MAAM;YAClC,OAAO,yBAAyB,CAAC,MAAM,CAAC;QACzC,KAAK,uBAAuB,CAAC,MAAM;YAClC,OAAO,yBAAyB,CAAC,IAAI,CAAC;QACvC,KAAK,uBAAuB,CAAC,WAAW;YACvC,OAAO,yBAAyB,CAAC,aAAa,CAAC;QAChD,KAAK,uBAAuB,CAAC,cAAc;YAC1C,OAAO,yBAAyB,CAAC,YAAY,CAAC;KAC9C;AACF,CAAC,CAAC;AAEF,MAAM,CAAC,IAAM,eAAe,GAAG,UAC9B,QAAsB,EACtB,GAAiB,EACjB,OAAe,EACf,MAAc,EACd,OAAe,EACf,OAAe,EACf,KAAa,EACb,KAAa,EACb,SAA0B,EAC1B,QAAgB,EAChB,SAAiB,EACjB,SAA0B,EAC1B,mBAA8C,EAC9C,iBAA0C,EAC1C,oBAA4B,EAC5B,kBAA0B,EAC1B,qBAA6B,EAC7B,mBAA2B,EAC3B,aAAkC,EAClC,qBAA6B,EAC7B,mBAA2B,EAC3B,YAAqB,EACrB,SAAuB,EACvB,UAAsB,EACtB,iBAAyB;IAEzB,sCAAsC;IACtC,EAAE;IACF,qBAAqB;IACrB,oBAAoB;IACpB,oBAAoB;IACpB,qBAAqB;IACrB,oBAAoB;IACpB,EAAE;IACF,IAAM,EAAE,GAAG,KAAK,GAAG,GAAG,CAAC;IACvB,IAAM,EAAE,GAAG,KAAK,GAAG,GAAG,CAAC;IACvB,IAAM,IAAI,GAAG,eAAe,CAAC;IAC7B,IAAI,CAAC,GAAG,CAAE,OAAO,GAAG,EAAE,EAAE,OAAO,GAAG,EAAE,CAAE,CAAC;IACvC,iBAAiB,CAAC,KAAK,CAAE,IAAI,EAAE,IAAI,CAAE,CAAC;IACtC,IAAM,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC;IAClB,IAAM,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC;IAClB,IAAI,CAAC,GAAG,CAAE,OAAO,GAAG,EAAE,EAAE,OAAO,GAAG,EAAE,CAAE,CAAC;IACvC,iBAAiB,CAAC,KAAK,CAAE,IAAI,EAAE,IAAI,CAAE,CAAC;IACtC,IAAM,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC;IAClB,IAAM,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC;IAClB,IAAI,CAAC,GAAG,CAAE,OAAO,GAAG,EAAE,EAAE,OAAO,GAAG,EAAE,CAAE,CAAC;IACvC,iBAAiB,CAAC,KAAK,CAAE,IAAI,EAAE,IAAI,CAAE,CAAC;IACtC,IAAM,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC;IAClB,IAAM,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC;IAClB,IAAM,EAAE,GAAG,EAAE,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC;IAC1B,IAAM,EAAE,GAAG,EAAE,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC;IAE1B,oBAAoB;IACpB,IAAM,EAAE,GAAG,QAAQ,CAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAE,CAAC;IACtC,YAAY,CAAE,iBAAiB,CAAC,CAAC,EAAE,iBAAiB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAE,CAAC;IACrE,IAAI,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC;IACjB,IAAI,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC;IAEjB,kBAAkB;IAClB,IAAM,EAAE,GAAG,QAAQ,CAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAE,CAAC;IACtC,YAAY,CAAE,iBAAiB,CAAC,CAAC,EAAE,iBAAiB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAE,CAAC;IACrE,IAAI,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC;IACjB,IAAI,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC;IAEjB,+BAA+B;IAC/B,IAAI,KAAK,GAAG,CAAC,CAAC;IACd,IAAI,MAAM,GAAG,CAAC,CAAC;IACf,IAAI,UAAU,GAAG,CAAC,CAAC;IACnB,IAAM,UAAU,GAAG,IAAI,CAAC,GAAG,CAAE,CAAC,EAAE,QAAQ,GAAG,mBAAmB,CAAE,CAAC;IACjE,IAAI,SAAS,GAAG,CAAC,CAAC;IAClB,IAAM,mBAAmB,GAAG,SAAS,CAAC,UAAU,CAAC;IACjD,IAAM,QAAQ,GAAG,qBAAqB,CAAC,IAAI,CAAE,SAAS,CAAE,CAAC;IACzD,IAAI,eAAe,GAAG,CAAC,CAAC;IACxB,OAAO,QAAQ,CAAC,OAAO,EAAE,EAAG;QAC3B,IAAM,SAAS,GAAG,QAAQ,CAAC,IAAI,EAAE,CAAC;QAClC,IAAI,SAAS,KAAK,IAAI,EAAG;YACxB,IAAI,CAAC,GAAG,eAAe,EAAG;gBACzB,SAAS,IAAI,IAAI,CAAC,GAAG,CAAE,CAAC,EAAE,eAAe,GAAG,qBAAqB,CAAE,CAAC;aACpE;YACD,IAAM,IAAI,GAAG,mBAAmB,CAAE,SAAS,CAAE,CAAC;YAC9C,IAAI,IAAI,EAAG;gBACV,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC;gBAC/B,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC;aACzB;iBAAM;gBACN,eAAe,GAAG,CAAC,CAAC;aACpB;SACD;aAAM;YACN,SAAS,IAAI,eAAe,CAAC;YAC7B,eAAe,GAAG,CAAC,CAAC;YACpB,KAAK,GAAG,IAAI,CAAC,GAAG,CAAE,KAAK,EAAE,SAAS,CAAE,CAAC;YACrC,SAAS,GAAG,CAAC,CAAC;YACd,MAAM,IAAI,UAAU,CAAC;SACrB;KACD;IAED,IAAM,KAAK,GAAG,QAAQ,GAAG,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC;IAC7C,SAAS,IAAI,eAAe,CAAC;IAC7B,KAAK,GAAG,IAAI,CAAC,GAAG,CAAE,KAAK,EAAE,SAAS,CAAE,GAAG,KAAK,CAAC;IAC7C,SAAS,GAAG,CAAC,CAAC;IACd,UAAU,IAAI,KAAK,CAAC;IACpB,MAAM,IAAI,QAAQ,CAAC;IAEnB,EAAE;IACF,IAAI,GAAG,GAAG,CAAC,CAAC;IACZ,IAAI,GAAG,GAAG,CAAC,CAAC;IACZ,IAAI,gBAAgB,GAAG,GAAG,CAAC;IAC3B,QAAQ,aAAa,EAAG;QACxB,KAAK,mBAAmB,CAAC,aAAa;YACrC,WAAW,CACV,mBAAmB,EACnB,iBAAiB,EACjB,oBAAoB,EACpB,kBAAkB,EAClB,qBAAqB,EACrB,mBAAmB,EACnB,KAAK,EAAE,MAAM,EACb,EAAE,EAAE,EAAE,EACN,EAAE,EAAE,EAAE,EACN,EAAE,EAAE,EAAE,EACN,EAAE,EAAE,EAAE,EACN,GAAG,EAAE,GAAG,EACR,GAAG,EAAE,GAAG,EACR,IAAI,CACJ,CAAC;YACF,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC;YACb,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC;YACb,IAAI,YAAY,EAAG;gBAClB,QAAQ,mBAAmB,EAAG;oBAC9B,KAAK,yBAAyB,CAAC,IAAI,CAAC;oBACpC,KAAK,yBAAyB,CAAC,MAAM,CAAC;oBACtC,KAAK,yBAAyB,CAAC,KAAK;wBACnC,QAAQ,iBAAiB,EAAG;4BAC5B,KAAK,uBAAuB,CAAC,GAAG,CAAC;4BACjC,KAAK,uBAAuB,CAAC,MAAM,CAAC;4BACpC,KAAK,uBAAuB,CAAC,MAAM;gCAClC,gBAAgB,GAAG,EAAE,GAAG,qBAAqB,GAAG,CAAC,CAAC;gCAClD,MAAM;yBACN;wBACD,MAAM;iBACN;aACD;YACD,MAAM;QACP,KAAK,mBAAmB,CAAC,aAAa;YACrC,eAAe;YACf,IAAI,CAAC,GAAG,CAAE,GAAG,EAAE,GAAG,CAAE,CAAC;YACrB,GAAG,GAAG,CAAC,GAAG,CAAC;YACX,GAAG,GAAG,CAAC,GAAG,CAAC;YACX,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC;YACb,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC;YAEb,gBAAgB;YAChB,WAAW,CACV,wBAAwB,CAAE,iBAAiB,CAAE,EAC7C,0BAA0B,CAAE,mBAAmB,CAAE,EACjD,kBAAkB,EAClB,oBAAoB,EACpB,mBAAmB,EACnB,qBAAqB,EACrB,KAAK,EAAE,MAAM,EACb,EAAE,EAAE,EAAE,EACN,EAAE,EAAE,EAAE,EACN,EAAE,EAAE,EAAE,EACN,EAAE,EAAE,EAAE,EACN,GAAG,EAAE,GAAG,EACR,GAAG,EAAE,GAAG,EACR,IAAI,CACJ,CAAC;YACF,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC;YACb,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC;YACb,IAAI,YAAY,EAAG;gBAClB,QAAQ,iBAAiB,EAAG;oBAC5B,KAAK,uBAAuB,CAAC,GAAG,CAAC;oBACjC,KAAK,uBAAuB,CAAC,MAAM,CAAC;oBACpC,KAAK,uBAAuB,CAAC,MAAM;wBAClC,QAAQ,mBAAmB,EAAG;4BAC9B,KAAK,yBAAyB,CAAC,IAAI,CAAC;4BACpC,KAAK,yBAAyB,CAAC,MAAM,CAAC;4BACtC,KAAK,yBAAyB,CAAC,KAAK;gCACnC,gBAAgB,GAAG,EAAE,GAAG,mBAAmB,GAAG,CAAC,CAAC;gCAChD,MAAM;yBACN;wBACD,MAAM;iBACN;aACD;YACD,MAAM;QACP,KAAK,mBAAmB,CAAC,aAAa;YACrC,eAAe;YACf,IAAI,CAAC,GAAG,CAAE,GAAG,EAAE,GAAG,CAAE,CAAC;YACrB,GAAG,GAAG,GAAG,CAAC;YACV,GAAG,GAAG,GAAG,CAAC;YACV,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;YACd,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;YAEd,gBAAgB;YAChB,WAAW,CACV,uBAAuB,CAAE,iBAAiB,CAAE,EAC5C,yBAAyB,CAAE,mBAAmB,CAAE,EAChD,kBAAkB,EAClB,oBAAoB,EACpB,mBAAmB,EACnB,qBAAqB,EACrB,KAAK,EAAE,MAAM,EACb,EAAE,EAAE,EAAE,EACN,EAAE,EAAE,EAAE,EACN,EAAE,EAAE,EAAE,EACN,EAAE,EAAE,EAAE,EACN,GAAG,EAAE,GAAG,EACR,GAAG,EAAE,GAAG,EACR,IAAI,CACJ,CAAC;YACF,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC;YACb,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC;YACb,IAAI,YAAY,EAAG;gBAClB,QAAQ,iBAAiB,EAAG;oBAC5B,KAAK,uBAAuB,CAAC,GAAG,CAAC;oBACjC,KAAK,uBAAuB,CAAC,MAAM,CAAC;oBACpC,KAAK,uBAAuB,CAAC,MAAM;wBAClC,QAAQ,mBAAmB,EAAG;4BAC9B,KAAK,yBAAyB,CAAC,IAAI,CAAC;4BACpC,KAAK,yBAAyB,CAAC,MAAM,CAAC;4BACtC,KAAK,yBAAyB,CAAC,KAAK;gCACnC,gBAAgB,GAAG,EAAE,GAAG,mBAAmB,GAAG,CAAC,CAAC;gCAChD,MAAM;yBACN;wBACD,MAAM;iBACN;aACD;YACD,MAAM;KACN;IAED,EAAE;IACF,IAAI,gBAAgB,GAAG,KAAK,EAAG;QAC9B,IAAM,MAAM,GAAG,CAAE,KAAK,GAAG,gBAAgB,CAAE,GAAG,GAAG,CAAC;QAClD,SAAS,CAAE,CAAC,CAAE,GAAG,GAAG,GAAG,GAAG,GAAG,MAAM,CAAC;QACpC,SAAS,CAAE,CAAC,CAAE,GAAG,GAAG,GAAG,GAAG,GAAG,MAAM,CAAC;QACpC,SAAS,CAAE,CAAC,CAAE,GAAG,GAAG,CAAC;QACrB,SAAS,CAAE,CAAC,CAAE,GAAG,GAAG,CAAC;QACrB,SAAS,CAAE,CAAC,CAAE,GAAG,GAAG,CAAC;QACrB,SAAS,CAAE,CAAC,CAAE,GAAG,GAAG,CAAC;QACrB,SAAS,CAAE,CAAC,CAAE,GAAG,gBAAgB,CAAC;QAClC,SAAS,CAAE,CAAC,CAAE,GAAG,MAAM,CAAC;KACxB;SAAM;QACN,SAAS,CAAE,CAAC,CAAE,GAAG,GAAG,CAAC;QACrB,SAAS,CAAE,CAAC,CAAE,GAAG,GAAG,CAAC;QACrB,SAAS,CAAE,CAAC,CAAE,GAAG,GAAG,CAAC;QACrB,SAAS,CAAE,CAAC,CAAE,GAAG,GAAG,CAAC;QACrB,SAAS,CAAE,CAAC,CAAE,GAAG,GAAG,CAAC;QACrB,SAAS,CAAE,CAAC,CAAE,GAAG,GAAG,CAAC;QACrB,SAAS,CAAE,CAAC,CAAE,GAAG,KAAK,CAAC;QACvB,SAAS,CAAE,CAAC,CAAE,GAAG,MAAM,CAAC;KACxB;IAED,UAAU;IACV,IAAM,IAAI,GAAG,UAAU,CAAC,EAAE,CAAC;IAC3B,IAAM,IAAI,GAAG,UAAU,CAAC,EAAE,CAAC;IAC3B,IAAM,IAAI,GAAG,UAAU,CAAC,EAAE,CAAC;IAC3B,IAAM,IAAI,GAAG,UAAU,CAAC,EAAE,CAAC;IAC3B,IAAM,IAAI,GAAG,UAAU,CAAC,EAAE,CAAC;IAC3B,IAAM,IAAI,GAAG,UAAU,CAAC,EAAE,CAAC;IAE3B,IAAM,MAAM,GAAG,CAAE,IAAI,GAAG,IAAI,CAAE,CAAC;IAC/B,IAAM,MAAM,GAAG,CAAE,IAAI,GAAG,IAAI,CAAE,CAAC;IAC/B,IAAM,MAAM,GAAG,CAAE,IAAI,GAAG,IAAI,CAAE,CAAC;IAC/B,IAAM,MAAM,GAAG,CAAE,IAAI,GAAG,IAAI,CAAE,CAAC;IAE/B,iBAAiB;IACjB,IAAM,GAAG,GAAG,UAAU,GAAG,GAAG,CAAC;IAC7B,IAAM,GAAG,GAAG,UAAU,GAAG,GAAG,CAAC;IAE7B,IAAM,GAAG,GAAG,KAAK,GAAG,GAAG,CAAC;IACxB,IAAM,GAAG,GAAG,KAAK,GAAG,GAAG,CAAC;IAExB,IAAM,OAAO,GAAG,CAAC,UAAU,GAAG,QAAQ,CAAC,GAAG,GAAG,CAAC;IAC9C,IAAM,GAAG,GAAG,OAAO,GAAG,GAAG,CAAC;IAC1B,IAAM,GAAG,GAAG,OAAO,GAAG,GAAG,CAAC;IAE1B,IAAM,YAAY,GAAG,CAAE,SAAS,KAAK,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAE,CAAC;IACpF,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,YAAY,GAAG,GAAG,CAAC;IACzC,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,YAAY,GAAG,GAAG,CAAC;IACzC,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,QAAQ,GAAG,GAAG,CAAC;IACrC,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,QAAQ,GAAG,GAAG,CAAC;IACrC,IAAI,GAAG,GAAG,GAAG,CAAC;IACd,IAAI,GAAG,GAAG,GAAG,CAAC;IACd,IAAI,GAAG,GAAG,GAAG,CAAC;IACd,IAAI,GAAG,GAAG,GAAG,CAAC;IAEd,SAAS,GAAG,CAAC,CAAC;IACd,eAAe,GAAG,CAAC,CAAC;IACpB,QAAQ,CAAC,QAAQ,GAAG,CAAC,CAAC;IACtB,IAAI,SAAS,GAAG,CAAC,CAAC;IAClB,IAAI,EAAE,GAAG,OAAO,GAAG,CAAC,CAAC;IACrB,OAAO,QAAQ,CAAC,OAAO,EAAE,EAAE,EAAE,IAAI,CAAC,EAAG;QACpC,IAAM,SAAS,GAAG,QAAQ,CAAC,IAAI,EAAE,CAAC;QAClC,IAAI,SAAS,KAAK,IAAI,EAAG;YACxB,IAAM,iBAAiB,GAAG,SAAS,CAAC;YACpC,IAAI,CAAC,GAAG,eAAe,EAAG;gBACzB,SAAS,IAAI,IAAI,CAAC,GAAG,CAAE,CAAC,EAAE,eAAe,GAAG,qBAAqB,CAAE,CAAC;aACpE;YAED,IAAM,EAAE,GAAG,SAAS,GAAG,GAAG,CAAC;YAC3B,IAAM,EAAE,GAAG,SAAS,GAAG,GAAG,CAAC;YAC3B,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC;YACf,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC;YACf,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC;YACf,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC;YAEf,IAAM,IAAI,GAAG,mBAAmB,CAAE,SAAS,CAAE,CAAC;YAC9C,SAAS,IAAI,CAAC,CAAC;YACf,IAAI,IAAI,EAAG;gBACV,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;gBAC7B,IAAI,gBAAgB,GAAG,CAAC,SAAS,GAAG,OAAO,CAAC,GAAG,KAAK,EAAG;oBACtD,IAAM,IAAI,GAAG,mBAAmB,CAAE,KAAK,CAAE,CAAC;oBAC1C,IAAI,IAAI,EAAG;wBACV,IAAI,CAAC,GAAG,SAAS,IAAI,gBAAgB,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,KAAK,EAAG;4BAC5E,SAAS,GAAG,iBAAiB,CAAC;4BAC9B,EAAE,IAAI,CAAC,CAAC;4BACR,SAAS,IAAI,CAAC,CAAC;4BACf,IAAM,EAAE,GAAG,SAAS,GAAG,GAAG,CAAC;4BAC3B,IAAM,EAAE,GAAG,SAAS,GAAG,GAAG,CAAC;4BAC3B,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC;4BACf,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC;4BACf,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC;4BACf,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC;yBACf;wBAED,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC;wBAE/B,cAAc,CACb,QAAQ,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,SAAS,EAClC,GAAG,EAAE,GAAG,EACR,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAClB,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAC9B,IAAI,EAAE,IAAI,CACV,CAAC;wBAEF,KAAK,EAAE,IAAI,CAAC,EAAE,IAAI,EAAE,EAAE,IAAI,CAAC,EAAG;4BAC7B,IAAI,QAAQ,CAAC,OAAO,EAAE,IAAI,QAAQ,CAAC,OAAO,CAAE,IAAI,CAAE,EAAG;gCACpD,mBAAmB,CAClB,QAAQ,EAAE,GAAG,EAAE,EAAE,EACjB,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAClB,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CACtB,CAAC;gCACF,SAAS,IAAI,CAAC,CAAC;6BACf;iCAAM;gCACN,EAAE,IAAI,CAAC,CAAC;gCACR,MAAM;6BACN;yBACD;qBACD;yBAAM;wBACN,eAAe,GAAG,OAAO,CAAC;wBAE1B,mBAAmB,CAClB,QAAQ,EAAE,GAAG,EAAE,EAAE,EACjB,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAClB,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CACtB,CAAC;qBACF;iBACD;qBAAM;oBACN,eAAe,GAAG,OAAO,CAAC;oBAE1B,cAAc,CACb,QAAQ,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,SAAS,EAClC,GAAG,EAAE,GAAG,EACR,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAClB,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAC9B,IAAI,EAAE,IAAI,CACV,CAAC;iBACF;aACD;iBAAM;gBACN,eAAe,GAAG,CAAC,CAAC;gBAEpB,mBAAmB,CAClB,QAAQ,EAAE,GAAG,EAAE,EAAE,EACjB,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAClB,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CACtB,CAAC;aACF;SACD;aAAM;YACN,SAAS,IAAI,eAAe,CAAC;YAC7B,eAAe,GAAG,CAAC,CAAC;YAEpB,GAAG,IAAI,GAAG,CAAC;YACX,GAAG,IAAI,GAAG,CAAC;YACX,GAAG,IAAI,GAAG,CAAC;YACX,GAAG,IAAI,GAAG,CAAC;YACX,GAAG,GAAG,GAAG,CAAC;YACV,GAAG,GAAG,GAAG,CAAC;YACV,GAAG,GAAG,GAAG,CAAC;YACV,GAAG,GAAG,GAAG,CAAC;YAEV,mBAAmB,CAClB,QAAQ,EAAE,GAAG,EAAE,EAAE,EACjB,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAClB,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CACtB,CAAC;YAEF,mBAAmB,CAClB,QAAQ,EACR,GAAG,EAAE,GAAG,EACR,SAAS,EACT,EAAE,EACF,KAAK,GAAG,SAAS,GAAG,KAAK,EACzB,aAAa,EACb,mBAAmB,EACnB,iBAAiB,CACjB,CAAC;YACF,SAAS,GAAG,CAAC,CAAC;YACd,SAAS,GAAG,CAAC,CAAC;SACd;KACD;IAED,SAAS,IAAI,eAAe,CAAC;IAC7B,mBAAmB,CAClB,QAAQ,EACR,GAAG,EAAE,GAAG,EACR,SAAS,EACT,EAAE,EACF,KAAK,GAAG,SAAS,GAAG,KAAK,EACzB,aAAa,EACb,mBAAmB,EACnB,iBAAiB,CACjB,CAAC;IAEF,KAAK,IAAM,KAAK,GAAG,CAAC,OAAO,GAAG,MAAM,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,KAAK,EAAE,EAAE,IAAI,CAAC,EAAG;QAChE,QAAQ,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,GAAG,CAAC;QACzB,QAAQ,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,GAAG,CAAC;QACzB,GAAG,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,IAAI,CAAC;QACrB,GAAG,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,IAAI,CAAC;KACrB;AACF,CAAC,CAAC;AAEF,IAAM,mBAAmB,GAAG,UAC3B,QAAsB,EAAE,GAAiB,EAAE,EAAU,EACrD,GAAW,EAAE,GAAW,EACxB,GAAW,EAAE,GAAW,EACxB,IAAY,EAAE,IAAY,EAC1B,IAAY,EAAE,IAAY;IAE1B,QAAQ,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,GAAG,CAAC;IACzB,QAAQ,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,GAAG,CAAC;IACzB,QAAQ,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,GAAG,CAAC;IACzB,QAAQ,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,GAAG,CAAC;IACzB,QAAQ,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,GAAG,CAAC;IACzB,QAAQ,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,GAAG,CAAC;IACzB,QAAQ,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,GAAG,CAAC;IACzB,QAAQ,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,GAAG,CAAC;IAEzB,GAAG,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,IAAI,CAAC;IACrB,GAAG,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,IAAI,CAAC;IACrB,GAAG,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,IAAI,CAAC;IACrB,GAAG,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,IAAI,CAAC;IACrB,GAAG,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,IAAI,CAAC;IACrB,GAAG,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,IAAI,CAAC;IACrB,GAAG,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,IAAI,CAAC;IACrB,GAAG,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,IAAI,CAAC;AACtB,CAAC,CAAC;AAEF,IAAM,cAAc,GAAG,UACtB,QAAsB,EAAE,GAAiB,EAAE,EAAU,EACrD,IAA8B,EAAE,KAAsB,EACtD,GAAW,EAAE,GAAW,EACxB,GAAW,EAAE,GAAW,EACxB,GAAW,EAAE,GAAW,EACxB,MAAc,EAAE,MAAc,EAC9B,MAAc,EAAE,MAAc,EAC9B,IAAY,EAAE,IAAY;IAE1B,WAAW;IACX,IAAM,WAAW,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;IAC3C,IAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC;IAC7B,IAAM,GAAG,GAAG,WAAW,GAAG,GAAG,CAAC;IAC9B,IAAM,GAAG,GAAG,WAAW,GAAG,GAAG,CAAC;IAC9B,IAAM,GAAG,GAAG,CAAC,WAAW,GAAG,SAAS,CAAC,GAAG,GAAG,CAAC;IAC5C,IAAM,GAAG,GAAG,CAAC,WAAW,GAAG,SAAS,CAAC,GAAG,GAAG,CAAC;IAC5C,QAAQ,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,GAAG,GAAG,GAAG,CAAC;IAC/B,QAAQ,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,GAAG,GAAG,GAAG,CAAC;IAC/B,QAAQ,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,GAAG,GAAG,GAAG,CAAC;IAC/B,QAAQ,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,GAAG,GAAG,GAAG,CAAC;IAC/B,QAAQ,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,GAAG,GAAG,GAAG,CAAC;IAC/B,QAAQ,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,GAAG,GAAG,GAAG,CAAC;IAC/B,QAAQ,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,GAAG,GAAG,GAAG,CAAC;IAC/B,QAAQ,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,GAAG,GAAG,GAAG,CAAC;IAE/B,MAAM;IACN,IAAM,GAAG,GAAG,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC;IACjC,IAAM,GAAG,GAAG,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC;IAClC,IAAM,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC;IAChD,IAAM,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC;IAElD,IAAM,IAAI,GAAG,MAAM,GAAG,GAAG,CAAC;IAC1B,IAAM,IAAI,GAAG,MAAM,GAAG,GAAG,CAAC;IAC1B,IAAM,IAAI,GAAG,MAAM,GAAG,GAAG,CAAC;IAC1B,IAAM,IAAI,GAAG,MAAM,GAAG,GAAG,CAAC;IAE1B,IAAM,IAAI,GAAG,MAAM,GAAG,GAAG,CAAC;IAC1B,IAAM,IAAI,GAAG,MAAM,GAAG,GAAG,CAAC;IAC1B,IAAM,IAAI,GAAG,MAAM,GAAG,GAAG,CAAC;IAC1B,IAAM,IAAI,GAAG,MAAM,GAAG,GAAG,CAAC;IAC1B,GAAG,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC;IACnC,GAAG,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC;IACnC,GAAG,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC;IACnC,GAAG,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC;IACnC,GAAG,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC;IACnC,GAAG,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC;IACnC,GAAG,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC;IACnC,GAAG,CAAE,EAAE,GAAG,CAAC,CAAE,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC;AACpC,CAAC,CAAC;AAEF,IAAM,QAAQ,GAAG,UAAE,QAAsB,EAAE,WAAmB,EAAE,SAAiB,EAAE,EAAU,EAAE,EAAU;IACxG,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,WAAW,GAAG,CAAC,GAAG,SAAS,EAAE,CAAC,GAAG,SAAS,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAG;QAClF,QAAQ,CAAE,EAAE,GAAG,CAAC,CAAE,IAAI,EAAE,CAAC;QACzB,QAAQ,CAAE,EAAE,GAAG,CAAC,CAAE,IAAI,EAAE,CAAC;QACzB,QAAQ,CAAE,EAAE,GAAG,CAAC,CAAE,IAAI,EAAE,CAAC;QACzB,QAAQ,CAAE,EAAE,GAAG,CAAC,CAAE,IAAI,EAAE,CAAC;QACzB,QAAQ,CAAE,EAAE,GAAG,CAAC,CAAE,IAAI,EAAE,CAAC;QACzB,QAAQ,CAAE,EAAE,GAAG,CAAC,CAAE,IAAI,EAAE,CAAC;QACzB,QAAQ,CAAE,EAAE,GAAG,CAAC,CAAE,IAAI,EAAE,CAAC;QACzB,QAAQ,CAAE,EAAE,GAAG,CAAC,CAAE,IAAI,EAAE,CAAC;KACzB;AACF,CAAC,CAAC;AAEF,IAAM,YAAY,GAAG,UACpB,QAAsB,EAAE,WAAmB,EAAE,SAAiB,EAC9D,MAAc,EAAE,EAAU,EAAE,EAAU;IAEtC,MAAM,IAAI,GAAG,CAAC;IACd,QAAQ,CAAE,QAAQ,EAAE,WAAW,EAAE,SAAS,EAAE,MAAM,GAAG,EAAE,EAAE,MAAM,GAAG,EAAE,CAAE,CAAC;AACxE,CAAC,CAAC;AAEF,IAAM,YAAY,GAAG,UACpB,QAAsB,EAAE,WAAmB,EAAE,SAAiB,EAC9D,MAAc,EAAE,EAAU,EAAE,EAAU;IAEtC,QAAQ,CAAE,QAAQ,EAAE,WAAW,EAAE,SAAS,EAAE,MAAM,GAAG,EAAE,EAAE,MAAM,GAAG,EAAE,CAAE,CAAC;AACxE,CAAC,CAAC;AAEF,IAAM,mBAAmB,GAAG,UAC3B,QAAsB,EACtB,EAAU,EAAE,EAAU,EACtB,SAAiB,EAAE,WAAmB,EACtC,MAAc,EACd,aAAkC,EAClC,mBAA8C,EAC9C,iBAA0C;IAE1C,IAAI,SAAS,GAAG,MAAM,EAAG;QACxB,QAAQ,aAAa,EAAG;YACxB,KAAK,mBAAmB,CAAC,aAAa;gBACrC,QAAQ,mBAAmB,EAAG;oBAC9B,KAAK,yBAAyB,CAAC,aAAa,CAAC;oBAC7C,KAAK,yBAAyB,CAAC,IAAI;wBAClC,aAAa;wBACb,MAAM;oBACP,KAAK,yBAAyB,CAAC,MAAM;wBACpC,YAAY,CAAE,QAAQ,EAAE,WAAW,EAAE,SAAS,EAAE,MAAM,EAAE,EAAE,EAAE,EAAE,CAAE,CAAC;wBACjE,MAAM;oBACP,KAAK,yBAAyB,CAAC,YAAY,CAAC;oBAC5C,KAAK,yBAAyB,CAAC,KAAK;wBACnC,YAAY,CAAE,QAAQ,EAAE,WAAW,EAAE,SAAS,EAAE,MAAM,EAAE,EAAE,EAAE,EAAE,CAAE,CAAC;wBACjE,MAAM;iBACN;gBACD,MAAM;YACP,KAAK,mBAAmB,CAAC,aAAa;gBACrC,QAAQ,iBAAiB,EAAG;oBAC5B,KAAK,uBAAuB,CAAC,cAAc,CAAC;oBAC5C,KAAK,uBAAuB,CAAC,GAAG;wBAC/B,aAAa;wBACb,MAAM;oBACP,KAAK,uBAAuB,CAAC,MAAM;wBAClC,YAAY,CAAE,QAAQ,EAAE,WAAW,EAAE,SAAS,EAAE,MAAM,EAAE,EAAE,EAAE,EAAE,CAAE,CAAC;wBACjE,MAAM;oBACP,KAAK,uBAAuB,CAAC,WAAW,CAAC;oBACzC,KAAK,uBAAuB,CAAC,MAAM;wBAClC,YAAY,CAAE,QAAQ,EAAE,WAAW,EAAE,SAAS,EAAE,MAAM,EAAE,EAAE,EAAE,EAAE,CAAE,CAAC;wBACjE,MAAM;iBACN;gBACD,MAAM;YACP,KAAK,mBAAmB,CAAC,aAAa;gBACrC,QAAQ,iBAAiB,EAAG;oBAC5B,KAAK,uBAAuB,CAAC,cAAc,CAAC;oBAC5C,KAAK,uBAAuB,CAAC,GAAG;wBAC/B,YAAY,CAAE,QAAQ,EAAE,WAAW,EAAE,SAAS,EAAE,MAAM,EAAE,EAAE,EAAE,EAAE,CAAE,CAAC;wBACjE,MAAM;oBACP,KAAK,uBAAuB,CAAC,MAAM;wBAClC,YAAY,CAAE,QAAQ,EAAE,WAAW,EAAE,SAAS,EAAE,MAAM,EAAE,EAAE,EAAE,EAAE,CAAE,CAAC;wBACjE,MAAM;oBACP,KAAK,uBAAuB,CAAC,WAAW,CAAC;oBACzC,KAAK,uBAAuB,CAAC,MAAM;wBAClC,aAAa;wBACb,MAAM;iBACN;gBACD,MAAM;SACN;KACD;AACF,CAAC,CAAC","sourcesContent":["import { Matrix, Point, TextureUvs } from \"pixi.js\";\r\nimport { UtilCharacterIterator } from \"../../util/util-character-iterator\";\r\nimport { EShape } from \"../e-shape\";\r\nimport { EShapeTextAtlas, EShapeTextAtlasCharacter, EShapeTextStyle, EShapeTextWeight } from \"../e-shape-text\";\r\nimport { EShapeTextAlignHorizontal } from \"../e-shape-text-align-horizontal\";\r\nimport { EShapeTextAlignVertical } from \"../e-shape-text-align-vertical\";\r\nimport { EShapeTextDirection } from \"../e-shape-text-direction\";\r\nimport { toLength } from \"./to-length\";\r\n\r\nexport const TEXT_VERTEX_COUNT = 4;\r\nexport const TEXT_INDEX_COUNT = 2;\r\nconst TEXT_SDF_WINDOW = 12;\r\nconst TEXT_FMIN: number = 0.00001;\r\nconst TEXT_WORK_POINT: Point = new Point();\r\n\r\nexport const toTextBufferCount = ( shape: EShape ): number => {\r\n\treturn Math.ceil( shape.text.value.length / 12 ) * 12;\r\n};\r\n\r\nexport const buildTextClipping = (\r\n\tclippings: Float32Array,\r\n\tvoffset: number,\r\n\tvcount: number\r\n): void => {\r\n\tfor( let i = voffset * 3, imax = i + vcount * 3; i < imax; i += 3 ) {\r\n\t\tclippings[ i + 0 ] = 0;\r\n\t\tclippings[ i + 1 ] = 0;\r\n\t\tclippings[ i + 2 ] = 2;\r\n\t}\r\n};\r\n\r\nexport const buildTextIndex = (\r\n\tindices: Uint16Array | Uint32Array,\r\n\tvoffset: number,\r\n\tioffset: number,\r\n\ticount: number\r\n): void => {\r\n\tfor( let i = 0, ii = ioffset * 3, imax = (icount >> 1); i < imax; i += 1, ii += 6 ) {\r\n\t\tconst j = voffset + ( i << 2 );\r\n\t\tindices[ ii + 0 ] = j + 0;\r\n\t\tindices[ ii + 1 ] = j + 1;\r\n\t\tindices[ ii + 2 ] = j + 3;\r\n\r\n\t\tindices[ ii + 3 ] = j + 1;\r\n\t\tindices[ ii + 4 ] = j + 2;\r\n\t\tindices[ ii + 5 ] = j + 3;\r\n\t}\r\n};\r\n\r\nexport const buildTextStep = (\r\n\tsteps: Float32Array,\r\n\tvoffset: number,\r\n\tvcount: number,\r\n\ttextAtlas: EShapeTextAtlas | undefined,\r\n\ttextSize: number,\r\n\ttextOutlineWidth: number,\r\n\ttextWeight: EShapeTextWeight,\r\n\tantialiasWeight: number\r\n): void => {\r\n\tif( textAtlas != null ) {\r\n\t\tconst scaleBase = (0.4 / TEXT_SDF_WINDOW) * antialiasWeight;\r\n\t\tconst scale = scaleBase * (textAtlas.font.size / textSize);\r\n\t\tconst outlineWidth = textOutlineWidth * 0.4;\r\n\t\tconst weight = ( textWeight === EShapeTextWeight.NORMAL ? 0.0 : 0.05 );\r\n\t\tfor( let i = voffset * 6, imax = i + vcount * 6; i < imax; i += 6 ) {\r\n\t\t\tsteps[ i + 0 ] = scale;\r\n\t\t\tsteps[ i + 1 ] = outlineWidth;\r\n\t\t\tsteps[ i + 2 ] = weight;\r\n\t\t\tsteps[ i + 3 ] = TEXT_FMIN;\r\n\t\t\tsteps[ i + 4 ] = TEXT_FMIN;\r\n\t\t\tsteps[ i + 5 ] = TEXT_FMIN;\r\n\t\t}\r\n\t} else {\r\n\t\tfor( let i = voffset * 6, imax = i + vcount * 6; i < imax; i += 6 ) {\r\n\t\t\tsteps[ i + 0 ] = 0;\r\n\t\t\tsteps[ i + 1 ] = 0;\r\n\t\t\tsteps[ i + 2 ] = TEXT_FMIN;\r\n\t\t\tsteps[ i + 3 ] = TEXT_FMIN;\r\n\t\t\tsteps[ i + 4 ] = TEXT_FMIN;\r\n\t\t\tsteps[ i + 5 ] = TEXT_FMIN;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nconst getTextBBox = (\r\n\thalign: EShapeTextAlignHorizontal,\r\n\tvalign: EShapeTextAlignVertical,\r\n\thoffset: number,\r\n\tvoffset: number,\r\n\thpadding: number,\r\n\tvpadding: number,\r\n\twidth: number, height: number,\r\n\tx0: number, y0: number,\r\n\tx1: number, y1: number,\r\n\tx2: number, y2: number,\r\n\tx3: number, y3: number,\r\n\thnx: number, hny: number,\r\n\tvnx: number, vny: number,\r\n\tresult: Point\r\n): void => {\r\n\tswitch( halign ) {\r\n\tcase EShapeTextAlignHorizontal.LEFT:\r\n\t\tswitch( valign ) {\r\n\t\tcase EShapeTextAlignVertical.TOP:\r\n\t\t\tresult.x = x0\r\n\t\t\t\t+ hnx * ( hoffset + hpadding )\r\n\t\t\t\t+ vnx * ( voffset + vpadding );\r\n\t\t\tresult.y = y0\r\n\t\t\t\t+ hny * ( hoffset + hpadding )\r\n\t\t\t\t+ vny * ( voffset + vpadding );\r\n\t\t\tbreak;\r\n\t\tcase EShapeTextAlignVertical.MIDDLE:\r\n\t\t\tresult.x = 0.5 * ( x0 + x3 )\r\n\t\t\t\t+ hnx * ( hoffset + hpadding )\r\n\t\t\t\t+ vnx * ( voffset - 0.5 * height );\r\n\t\t\tresult.y = 0.5 * ( y0 + y3 )\r\n\t\t\t\t+ hny * ( hoffset + hpadding )\r\n\t\t\t\t+ vny * ( voffset - 0.5 * height );\r\n\t\t\tbreak;\r\n\t\tcase EShapeTextAlignVertical.BOTTOM:\r\n\t\t\tresult.x = x3\r\n\t\t\t\t+ hnx * ( hoffset + hpadding )\r\n\t\t\t\t+ vnx * ( voffset - vpadding - height );\r\n\t\t\tresult.y = y3\r\n\t\t\t\t+ hny * ( hoffset + hpadding )\r\n\t\t\t\t+ vny * ( voffset - vpadding - height );\r\n\t\t\tbreak;\r\n\t\tcase EShapeTextAlignVertical.OUTSIDE_TOP:\r\n\t\t\tresult.x = x0\r\n\t\t\t\t+ hnx * ( hoffset + hpadding )\r\n\t\t\t\t+ vnx * ( voffset - vpadding - height );\r\n\t\t\tresult.y = y0\r\n\t\t\t\t+ hny * ( hoffset + hpadding )\r\n\t\t\t\t+ vny * ( voffset - vpadding - height );\r\n\t\t\tbreak;\r\n\t\tcase EShapeTextAlignVertical.OUTSIDE_BOTTOM:\r\n\t\t\tresult.x = x3\r\n\t\t\t\t+ hnx * ( hoffset + hpadding )\r\n\t\t\t\t+ vnx * ( voffset + vpadding );\r\n\t\t\tresult.y = y3\r\n\t\t\t\t+ hny * ( hoffset + hpadding )\r\n\t\t\t\t+ vny * ( voffset + vpadding );\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tbreak;\r\n\tcase EShapeTextAlignHorizontal.CENTER:\r\n\t\tswitch( valign ) {\r\n\t\tcase EShapeTextAlignVertical.TOP:\r\n\t\t\tresult.x = 0.5 * ( x0 + x1 )\r\n\t\t\t\t+ hnx * ( hoffset - 0.5 * width )\r\n\t\t\t\t+ vnx * ( voffset + vpadding );\r\n\t\t\tresult.y = 0.5 * ( y0 + y1 )\r\n\t\t\t\t+ hny * ( hoffset - 0.5 * width )\r\n\t\t\t\t+ vny * ( voffset + vpadding );\r\n\t\t\tbreak;\r\n\t\tcase EShapeTextAlignVertical.MIDDLE:\r\n\t\t\tresult.x = 0.5 * ( x0 + x2 )\r\n\t\t\t\t+ hnx * ( hoffset - 0.5 * width )\r\n\t\t\t\t+ vnx * ( voffset - 0.5 * height );\r\n\t\t\tresult.y = 0.5 * ( y0 + y2 )\r\n\t\t\t\t+ hny * ( hoffset - 0.5 * width )\r\n\t\t\t\t+ vny * ( voffset - 0.5 * height );\r\n\t\t\tbreak;\r\n\t\tcase EShapeTextAlignVertical.BOTTOM:\r\n\t\t\tresult.x = 0.5 * ( x3 + x2 )\r\n\t\t\t\t+ hnx * ( hoffset - 0.5 * width )\r\n\t\t\t\t+ vnx * ( voffset - vpadding - height );\r\n\t\t\tresult.y = 0.5 * ( y3 + y2 )\r\n\t\t\t\t+ hny * ( hoffset - 0.5 * width )\r\n\t\t\t\t+ vny * ( voffset - vpadding - height );\r\n\t\t\tbreak;\r\n\t\tcase EShapeTextAlignVertical.OUTSIDE_TOP:\r\n\t\t\tresult.x = 0.5 * ( x0 + x1 )\r\n\t\t\t\t+ hnx * ( hoffset - 0.5 * width )\r\n\t\t\t\t+ vnx * ( voffset - vpadding - height );\r\n\t\t\tresult.y = 0.5 * ( y0 + y1 )\r\n\t\t\t\t+ hny * ( hoffset - 0.5 * width )\r\n\t\t\t\t+ vny * ( voffset - vpadding - height );\r\n\t\t\tbreak;\r\n\t\tcase EShapeTextAlignVertical.OUTSIDE_BOTTOM:\r\n\t\t\tresult.x = 0.5 * ( x3 + x2 )\r\n\t\t\t\t+ hnx * ( hoffset - 0.5 * width )\r\n\t\t\t\t+ vnx * ( voffset + vpadding );\r\n\t\t\tresult.y = 0.5 * ( y3 + y2 )\r\n\t\t\t\t+ hny * ( hoffset - 0.5 * width )\r\n\t\t\t\t+ vny * ( voffset + vpadding );\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tbreak;\r\n\tcase EShapeTextAlignHorizontal.RIGHT:\r\n\t\tswitch( valign ) {\r\n\t\tcase EShapeTextAlignVertical.TOP:\r\n\t\t\tresult.x = x1\r\n\t\t\t\t+ hnx * ( hoffset - hpadding - width )\r\n\t\t\t\t+ vnx * ( voffset + vpadding );\r\n\t\t\tresult.y = y1\r\n\t\t\t\t+ hny * ( hoffset - hpadding - width )\r\n\t\t\t\t+ vny * ( voffset + vpadding );\r\n\t\t\tbreak;\r\n\t\tcase EShapeTextAlignVertical.MIDDLE:\r\n\t\t\tresult.x = 0.5 * ( x1 + x2 )\r\n\t\t\t\t+ hnx * ( hoffset - hpadding - width )\r\n\t\t\t\t+ vnx * ( voffset - 0.5 * height );\r\n\t\t\tresult.y = 0.5 * ( y1 + y2 )\r\n\t\t\t\t+ hny * ( hoffset - hpadding - width )\r\n\t\t\t\t+ vny * ( voffset - 0.5 * height );\r\n\t\t\tbreak;\r\n\t\tcase EShapeTextAlignVertical.BOTTOM:\r\n\t\t\tresult.x = x2\r\n\t\t\t\t+ hnx * ( hoffset - hpadding - width )\r\n\t\t\t\t+ vnx * ( voffset - vpadding - height );\r\n\t\t\tresult.y = y2\r\n\t\t\t\t+ hny * ( hoffset - hpadding - width )\r\n\t\t\t\t+ vny * ( voffset - vpadding - height );\r\n\t\t\tbreak;\r\n\t\tcase EShapeTextAlignVertical.OUTSIDE_TOP:\r\n\t\t\tresult.x = x1\r\n\t\t\t\t+ hnx * ( hoffset - hpadding - width )\r\n\t\t\t\t+ vnx * ( voffset - vpadding - height );\r\n\t\t\tresult.y = y1\r\n\t\t\t\t+ hny * ( hoffset - hpadding - width )\r\n\t\t\t\t+ vny * ( voffset - vpadding - height );\r\n\t\t\tbreak;\r\n\t\tcase EShapeTextAlignVertical.OUTSIDE_BOTTOM:\r\n\t\t\tresult.x = x2\r\n\t\t\t\t+ hnx * ( hoffset - hpadding - width )\r\n\t\t\t\t+ vnx * ( voffset + vpadding );\r\n\t\t\tresult.y = y2\r\n\t\t\t\t+ hny * ( hoffset - hpadding - width )\r\n\t\t\t\t+ vny * ( voffset + vpadding );\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tbreak;\r\n\tcase EShapeTextAlignHorizontal.OUTSIDE_LEFT:\r\n\t\tswitch( valign ) {\r\n\t\tcase EShapeTextAlignVertical.TOP:\r\n\t\t\tresult.x = x0\r\n\t\t\t\t+ hnx * ( hoffset - hpadding - width )\r\n\t\t\t\t+ vnx * ( voffset + vpadding );\r\n\t\t\tresult.y = y0\r\n\t\t\t\t+ hny * ( hoffset - hpadding - width )\r\n\t\t\t\t+ vny * ( voffset + vpadding );\r\n\t\t\tbreak;\r\n\t\tcase EShapeTextAlignVertical.MIDDLE:\r\n\t\t\tresult.x = 0.5 * ( x0 + x3 )\r\n\t\t\t\t+ hnx * ( hoffset - hpadding - width )\r\n\t\t\t\t+ vnx * ( voffset - 0.5 * height );\r\n\t\t\tresult.y = 0.5 * ( y0 + y3 )\r\n\t\t\t\t+ hny * ( hoffset - hpadding - width )\r\n\t\t\t\t+ vny * ( voffset - 0.5 * height );\r\n\t\t\tbreak;\r\n\t\tcase EShapeTextAlignVertical.BOTTOM:\r\n\t\t\tresult.x = x3\r\n\t\t\t\t+ hnx * ( hoffset - hpadding - width )\r\n\t\t\t\t+ vnx * ( voffset - vpadding - height );\r\n\t\t\tresult.y = y3\r\n\t\t\t\t+ hny * ( hoffset - hpadding - width )\r\n\t\t\t\t+ vny * ( voffset - vpadding - height );\r\n\t\t\tbreak;\r\n\t\tcase EShapeTextAlignVertical.OUTSIDE_TOP:\r\n\t\t\tresult.x = x0\r\n\t\t\t\t+ hnx * ( hoffset - hpadding - width )\r\n\t\t\t\t+ vnx * ( voffset - vpadding - height );\r\n\t\t\tresult.y = y0\r\n\t\t\t\t+ hny * ( hoffset - hpadding - width )\r\n\t\t\t\t+ vny * ( voffset - vpadding - height );\r\n\t\t\tbreak;\r\n\t\tcase EShapeTextAlignVertical.OUTSIDE_BOTTOM:\r\n\t\t\tresult.x = x3\r\n\t\t\t\t+ hnx * ( hoffset - hpadding - width )\r\n\t\t\t\t+ vnx * ( voffset + vpadding );\r\n\t\t\tresult.y = y3\r\n\t\t\t\t+ hny * ( hoffset - hpadding - width )\r\n\t\t\t\t+ vny * ( voffset + vpadding );\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tbreak;\r\n\tcase EShapeTextAlignHorizontal.OUTSIDE_RIGHT:\r\n\t\tswitch( valign ) {\r\n\t\tcase EShapeTextAlignVertical.TOP:\r\n\t\t\tresult.x = x1\r\n\t\t\t\t+ hnx * ( hoffset + hpadding )\r\n\t\t\t\t+ vnx * ( voffset + vpadding );\r\n\t\t\tresult.y = y1\r\n\t\t\t\t+ hny * ( hoffset + hpadding )\r\n\t\t\t\t+ vny * ( voffset + vpadding );\r\n\t\t\tbreak;\r\n\t\tcase EShapeTextAlignVertical.MIDDLE:\r\n\t\t\tresult.x = 0.5 * ( x1 + x2 )\r\n\t\t\t\t+ hnx * ( hoffset + hpadding )\r\n\t\t\t\t+ vnx * ( voffset - 0.5 * height );\r\n\t\t\tresult.y = 0.5 * ( y1 + y2 )\r\n\t\t\t\t+ hny * ( hoffset + hpadding )\r\n\t\t\t\t+ vny * ( voffset - 0.5 * height );\r\n\t\t\tbreak;\r\n\t\tcase EShapeTextAlignVertical.BOTTOM:\r\n\t\t\tresult.x = x2\r\n\t\t\t\t+ hnx * ( hoffset + hpadding )\r\n\t\t\t\t+ vnx * ( voffset - vpadding - height );\r\n\t\t\tresult.y = y2\r\n\t\t\t\t+ hny * ( hoffset + hpadding )\r\n\t\t\t\t+ vny * ( voffset - vpadding - height );\r\n\t\t\tbreak;\r\n\t\tcase EShapeTextAlignVertical.OUTSIDE_TOP:\r\n\t\t\tresult.x = x1\r\n\t\t\t\t+ hnx * ( hoffset + hpadding )\r\n\t\t\t\t+ vnx * ( voffset - vpadding - height );\r\n\t\t\tresult.y = y1\r\n\t\t\t\t+ hny * ( hoffset + hpadding )\r\n\t\t\t\t+ vny * ( voffset - vpadding - height );\r\n\t\t\tbreak;\r\n\t\tcase EShapeTextAlignVertical.OUTSIDE_BOTTOM:\r\n\t\t\tresult.x = x2\r\n\t\t\t\t+ hnx * ( hoffset + hpadding )\r\n\t\t\t\t+ vnx * ( voffset + vpadding );\r\n\t\t\tresult.y = y2\r\n\t\t\t\t+ hny * ( hoffset + hpadding )\r\n\t\t\t\t+ vny * ( voffset + vpadding );\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tbreak;\r\n\t}\r\n};\r\n\r\nconst toNormalized = ( dx: number, dy: number, defx: number, defy: number, result: Point ): number => {\r\n\tconst d = dx * dx + dy * dy;\r\n\tif( TEXT_FMIN < d ) {\r\n\t\tconst l = Math.sqrt( d );\r\n\t\tconst li = 1 / l;\r\n\t\tresult.set( dx * li, dy * li );\r\n\t\treturn l;\r\n\t} else {\r\n\t\tresult.set( defx, defy );\r\n\t\treturn 0;\r\n\t}\r\n};\r\n\r\nconst rotateAlignHorizontalRight = ( align: EShapeTextAlignHorizontal ): EShapeTextAlignVertical => {\r\n\tswitch( align ) {\r\n\tcase EShapeTextAlignHorizontal.LEFT:\r\n\t\treturn EShapeTextAlignVertical.BOTTOM;\r\n\tcase EShapeTextAlignHorizontal.CENTER:\r\n\t\treturn EShapeTextAlignVertical.MIDDLE;\r\n\tcase EShapeTextAlignHorizontal.RIGHT:\r\n\t\treturn EShapeTextAlignVertical.TOP;\r\n\tcase EShapeTextAlignHorizontal.OUTSIDE_LEFT:\r\n\t\treturn EShapeTextAlignVertical.OUTSIDE_BOTTOM;\r\n\tcase EShapeTextAlignHorizontal.OUTSIDE_RIGHT:\r\n\t\treturn EShapeTextAlignVertical.OUTSIDE_TOP;\r\n\t}\r\n};\r\n\r\nconst rotateAlignVerticalRight = ( align: EShapeTextAlignVertical ): EShapeTextAlignHorizontal => {\r\n\tswitch( align ) {\r\n\tcase EShapeTextAlignVertical.TOP:\r\n\t\treturn EShapeTextAlignHorizontal.LEFT;\r\n\tcase EShapeTextAlignVertical.MIDDLE:\r\n\t\treturn EShapeTextAlignHorizontal.CENTER;\r\n\tcase EShapeTextAlignVertical.BOTTOM:\r\n\t\treturn EShapeTextAlignHorizontal.RIGHT;\r\n\tcase EShapeTextAlignVertical.OUTSIDE_TOP:\r\n\t\treturn EShapeTextAlignHorizontal.OUTSIDE_LEFT;\r\n\tcase EShapeTextAlignVertical.OUTSIDE_BOTTOM:\r\n\t\treturn EShapeTextAlignHorizontal.OUTSIDE_RIGHT;\r\n\t}\r\n};\r\n\r\nconst rotateAlignHorizontalLeft = ( align: EShapeTextAlignHorizontal ): EShapeTextAlignVertical => {\r\n\tswitch( align ) {\r\n\tcase EShapeTextAlignHorizontal.LEFT:\r\n\t\treturn EShapeTextAlignVertical.TOP;\r\n\tcase EShapeTextAlignHorizontal.CENTER:\r\n\t\treturn EShapeTextAlignVertical.MIDDLE;\r\n\tcase EShapeTextAlignHorizontal.RIGHT:\r\n\t\treturn EShapeTextAlignVertical.BOTTOM;\r\n\tcase EShapeTextAlignHorizontal.OUTSIDE_LEFT:\r\n\t\treturn EShapeTextAlignVertical.OUTSIDE_TOP;\r\n\tcase EShapeTextAlignHorizontal.OUTSIDE_RIGHT:\r\n\t\treturn EShapeTextAlignVertical.OUTSIDE_BOTTOM;\r\n\t}\r\n};\r\n\r\nconst rotateAlignVerticalLeft = ( align: EShapeTextAlignVertical ): EShapeTextAlignHorizontal => {\r\n\tswitch( align ) {\r\n\tcase EShapeTextAlignVertical.TOP:\r\n\t\treturn EShapeTextAlignHorizontal.RIGHT;\r\n\tcase EShapeTextAlignVertical.MIDDLE:\r\n\t\treturn EShapeTextAlignHorizontal.CENTER;\r\n\tcase EShapeTextAlignVertical.BOTTOM:\r\n\t\treturn EShapeTextAlignHorizontal.LEFT;\r\n\tcase EShapeTextAlignVertical.OUTSIDE_TOP:\r\n\t\treturn EShapeTextAlignHorizontal.OUTSIDE_RIGHT;\r\n\tcase EShapeTextAlignVertical.OUTSIDE_BOTTOM:\r\n\t\treturn EShapeTextAlignHorizontal.OUTSIDE_LEFT;\r\n\t}\r\n};\r\n\r\nexport const buildTextVertex = (\r\n\tvertices: Float32Array,\r\n\tuvs: Float32Array,\r\n\tvoffset: number,\r\n\tvcount: number,\r\n\toriginX: number,\r\n\toriginY: number,\r\n\tsizeX: number,\r\n\tsizeY: number,\r\n\ttextAtlas: EShapeTextAtlas,\r\n\ttextSize: number,\r\n\ttextValue: string,\r\n\ttextStyle: EShapeTextStyle,\r\n\ttextAlignHorizontal: EShapeTextAlignHorizontal,\r\n\ttextAlignVertical: EShapeTextAlignVertical,\r\n\ttextOffsetHorizontal: number,\r\n\ttextOffsetVertical: number,\r\n\ttextSpacingHorizontal: number,\r\n\ttextSpacingVertical: number,\r\n\ttextDirection: EShapeTextDirection,\r\n\ttextPaddingHorizontal: number,\r\n\ttextPaddingVertical: number,\r\n\ttextClipping: boolean,\r\n\ttextWorld: Float32Array,\r\n\ttextureUvs: TextureUvs,\r\n\tinternalTransform: Matrix\r\n): void => {\r\n\t// Calculate the transformed positions\r\n\t//\r\n\t//  0               1\r\n\t// |---------------|\r\n\t// |               |\r\n\t// |3              |2\r\n\t// |---------------|\r\n\t//\r\n\tconst sx = sizeX * 0.5;\r\n\tconst sy = sizeY * 0.5;\r\n\tconst work = TEXT_WORK_POINT;\r\n\twork.set( originX - sx, originY - sy );\r\n\tinternalTransform.apply( work, work );\r\n\tconst x0 = work.x;\r\n\tconst y0 = work.y;\r\n\twork.set( originX + sx, originY - sy );\r\n\tinternalTransform.apply( work, work );\r\n\tconst x1 = work.x;\r\n\tconst y1 = work.y;\r\n\twork.set( originX + sx, originY + sy );\r\n\tinternalTransform.apply( work, work );\r\n\tconst x2 = work.x;\r\n\tconst y2 = work.y;\r\n\tconst x3 = x0 + (x2 - x1);\r\n\tconst y3 = y0 + (y2 - y1);\r\n\r\n\t// Horizontal normal\r\n\tconst hl = toLength( x0, y0, x1, y1 );\r\n\ttoNormalized( internalTransform.a, internalTransform.b, 1, 0, work );\r\n\tlet hnx = work.x;\r\n\tlet hny = work.y;\r\n\r\n\t// Vertical normal\r\n\tconst vl = toLength( x0, y0, x3, y3 );\r\n\ttoNormalized( internalTransform.c, internalTransform.d, 0, 1, work );\r\n\tlet vnx = work.x;\r\n\tlet vny = work.y;\r\n\r\n\t// Calculate the width / height\r\n\tlet width = 0;\r\n\tlet height = 0;\r\n\tlet heightChar = 0;\r\n\tconst lineHeight = Math.max( 0, textSize + textSpacingVertical );\r\n\tlet lineWidth = 0;\r\n\tconst textAtlasCharacters = textAtlas.characters;\r\n\tconst iterator = UtilCharacterIterator.from( textValue );\r\n\tlet advancePrevious = 0;\r\n\twhile( iterator.hasNext() ) {\r\n\t\tconst character = iterator.next();\r\n\t\tif( character !== \"\\n\" ) {\r\n\t\t\tif( 0 < advancePrevious ) {\r\n\t\t\t\tlineWidth += Math.max( 0, advancePrevious + textSpacingHorizontal );\r\n\t\t\t}\r\n\t\t\tconst data = textAtlasCharacters[ character ];\r\n\t\t\tif( data ) {\r\n\t\t\t\tadvancePrevious = data.advance;\r\n\t\t\t\theightChar = data.height;\r\n\t\t\t} else {\r\n\t\t\t\tadvancePrevious = 0;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tlineWidth += advancePrevious;\r\n\t\t\tadvancePrevious = 0;\r\n\t\t\twidth = Math.max( width, lineWidth );\r\n\t\t\tlineWidth = 0;\r\n\t\t\theight += lineHeight;\r\n\t\t}\r\n\t}\r\n\r\n\tconst scale = textSize / textAtlas.font.size;\r\n\tlineWidth += advancePrevious;\r\n\twidth = Math.max( width, lineWidth ) * scale;\r\n\tlineWidth = 0;\r\n\theightChar *= scale;\r\n\theight += textSize;\r\n\r\n\t//\r\n\tlet tx0 = 0;\r\n\tlet ty0 = 0;\r\n\tlet lineWidthMaximum = NaN;\r\n\tswitch( textDirection ) {\r\n\tcase EShapeTextDirection.LEFT_TO_RIGHT:\r\n\t\tgetTextBBox(\r\n\t\t\ttextAlignHorizontal,\r\n\t\t\ttextAlignVertical,\r\n\t\t\ttextOffsetHorizontal,\r\n\t\t\ttextOffsetVertical,\r\n\t\t\ttextPaddingHorizontal,\r\n\t\t\ttextPaddingVertical,\r\n\t\t\twidth, height,\r\n\t\t\tx0, y0,\r\n\t\t\tx1, y1,\r\n\t\t\tx2, y2,\r\n\t\t\tx3, y3,\r\n\t\t\thnx, hny,\r\n\t\t\tvnx, vny,\r\n\t\t\twork\r\n\t\t);\r\n\t\ttx0 = work.x;\r\n\t\tty0 = work.y;\r\n\t\tif( textClipping ) {\r\n\t\t\tswitch( textAlignHorizontal ) {\r\n\t\t\tcase EShapeTextAlignHorizontal.LEFT:\r\n\t\t\tcase EShapeTextAlignHorizontal.CENTER:\r\n\t\t\tcase EShapeTextAlignHorizontal.RIGHT:\r\n\t\t\t\tswitch( textAlignVertical ) {\r\n\t\t\t\tcase EShapeTextAlignVertical.TOP:\r\n\t\t\t\tcase EShapeTextAlignVertical.MIDDLE:\r\n\t\t\t\tcase EShapeTextAlignVertical.BOTTOM:\r\n\t\t\t\t\tlineWidthMaximum = hl - textPaddingHorizontal * 2;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tbreak;\r\n\tcase EShapeTextDirection.TOP_TO_BOTTOM:\r\n\t\t// Swap normals\r\n\t\twork.set( vnx, vny );\r\n\t\tvnx = -hnx;\r\n\t\tvny = -hny;\r\n\t\thnx = work.x;\r\n\t\thny = work.y;\r\n\r\n\t\t// Get text bbox\r\n\t\tgetTextBBox(\r\n\t\t\trotateAlignVerticalRight( textAlignVertical ),\r\n\t\t\trotateAlignHorizontalRight( textAlignHorizontal ),\r\n\t\t\ttextOffsetVertical,\r\n\t\t\ttextOffsetHorizontal,\r\n\t\t\ttextPaddingVertical,\r\n\t\t\ttextPaddingHorizontal,\r\n\t\t\twidth, height,\r\n\t\t\tx1, y1,\r\n\t\t\tx2, y2,\r\n\t\t\tx3, y3,\r\n\t\t\tx0, y0,\r\n\t\t\thnx, hny,\r\n\t\t\tvnx, vny,\r\n\t\t\twork\r\n\t\t);\r\n\t\ttx0 = work.x;\r\n\t\tty0 = work.y;\r\n\t\tif( textClipping ) {\r\n\t\t\tswitch( textAlignVertical ) {\r\n\t\t\tcase EShapeTextAlignVertical.TOP:\r\n\t\t\tcase EShapeTextAlignVertical.MIDDLE:\r\n\t\t\tcase EShapeTextAlignVertical.BOTTOM:\r\n\t\t\t\tswitch( textAlignHorizontal ) {\r\n\t\t\t\tcase EShapeTextAlignHorizontal.LEFT:\r\n\t\t\t\tcase EShapeTextAlignHorizontal.CENTER:\r\n\t\t\t\tcase EShapeTextAlignHorizontal.RIGHT:\r\n\t\t\t\t\tlineWidthMaximum = vl - textPaddingVertical * 2;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tbreak;\r\n\tcase EShapeTextDirection.BOTTOM_TO_TOP:\r\n\t\t// Swap normals\r\n\t\twork.set( vnx, vny );\r\n\t\tvnx = hnx;\r\n\t\tvny = hny;\r\n\t\thnx = -work.x;\r\n\t\thny = -work.y;\r\n\r\n\t\t// Get text bbox\r\n\t\tgetTextBBox(\r\n\t\t\trotateAlignVerticalLeft( textAlignVertical ),\r\n\t\t\trotateAlignHorizontalLeft( textAlignHorizontal ),\r\n\t\t\ttextOffsetVertical,\r\n\t\t\ttextOffsetHorizontal,\r\n\t\t\ttextPaddingVertical,\r\n\t\t\ttextPaddingHorizontal,\r\n\t\t\twidth, height,\r\n\t\t\tx3, y3,\r\n\t\t\tx0, y0,\r\n\t\t\tx1, y1,\r\n\t\t\tx2, y2,\r\n\t\t\thnx, hny,\r\n\t\t\tvnx, vny,\r\n\t\t\twork\r\n\t\t);\r\n\t\ttx0 = work.x;\r\n\t\tty0 = work.y;\r\n\t\tif( textClipping ) {\r\n\t\t\tswitch( textAlignVertical ) {\r\n\t\t\tcase EShapeTextAlignVertical.TOP:\r\n\t\t\tcase EShapeTextAlignVertical.MIDDLE:\r\n\t\t\tcase EShapeTextAlignVertical.BOTTOM:\r\n\t\t\t\tswitch( textAlignHorizontal ) {\r\n\t\t\t\tcase EShapeTextAlignHorizontal.LEFT:\r\n\t\t\t\tcase EShapeTextAlignHorizontal.CENTER:\r\n\t\t\t\tcase EShapeTextAlignHorizontal.RIGHT:\r\n\t\t\t\t\tlineWidthMaximum = vl - textPaddingVertical * 2;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tbreak;\r\n\t}\r\n\r\n\t//\r\n\tif( lineWidthMaximum < width ) {\r\n\t\tconst dwidth = ( width - lineWidthMaximum ) * 0.5;\r\n\t\ttextWorld[ 0 ] = tx0 + hnx * dwidth;\r\n\t\ttextWorld[ 1 ] = ty0 + hny * dwidth;\r\n\t\ttextWorld[ 2 ] = hnx;\r\n\t\ttextWorld[ 3 ] = hny;\r\n\t\ttextWorld[ 4 ] = vnx;\r\n\t\ttextWorld[ 5 ] = vny;\r\n\t\ttextWorld[ 6 ] = lineWidthMaximum;\r\n\t\ttextWorld[ 7 ] = height;\r\n\t} else {\r\n\t\ttextWorld[ 0 ] = tx0;\r\n\t\ttextWorld[ 1 ] = ty0;\r\n\t\ttextWorld[ 2 ] = hnx;\r\n\t\ttextWorld[ 3 ] = hny;\r\n\t\ttextWorld[ 4 ] = vnx;\r\n\t\ttextWorld[ 5 ] = vny;\r\n\t\ttextWorld[ 6 ] = width;\r\n\t\ttextWorld[ 7 ] = height;\r\n\t}\r\n\r\n\t// Texture\r\n\tconst uvx0 = textureUvs.x0;\r\n\tconst uvx1 = textureUvs.x1;\r\n\tconst uvx3 = textureUvs.x3;\r\n\tconst uvy0 = textureUvs.y0;\r\n\tconst uvy1 = textureUvs.y1;\r\n\tconst uvy3 = textureUvs.y3;\r\n\r\n\tconst duvx01 = ( uvx1 - uvx0 );\r\n\tconst duvy01 = ( uvy1 - uvy0 );\r\n\tconst duvx03 = ( uvx3 - uvx0 );\r\n\tconst duvy03 = ( uvy3 - uvy0 );\r\n\r\n\t// Vertices & UVs\r\n\tconst lhx = lineHeight * vnx;\r\n\tconst lhy = lineHeight * vny;\r\n\r\n\tconst snx = scale * hnx;\r\n\tconst sny = scale * hny;\r\n\r\n\tconst offsetY = (heightChar - textSize) * 0.5;\r\n\tconst oyx = offsetY * vnx;\r\n\tconst oyy = offsetY * vny;\r\n\r\n\tconst offsetItalic = ( textStyle === EShapeTextStyle.NORMAL ? 0 : textSize * 0.25 );\r\n\tlet bx0 = tx0 - oyx + offsetItalic * snx;\r\n\tlet by0 = ty0 - oyy + offsetItalic * sny;\r\n\tlet bx3 = tx0 + oyx + textSize * vnx;\r\n\tlet by3 = ty0 + oyy + textSize * vny;\r\n\tlet cx0 = bx0;\r\n\tlet cy0 = by0;\r\n\tlet cx3 = bx3;\r\n\tlet cy3 = by3;\r\n\r\n\tlineWidth = 0;\r\n\tadvancePrevious = 0;\r\n\titerator.position = 0;\r\n\tlet lineCount = 0;\r\n\tlet iv = voffset * 2;\r\n\tfor( ; iterator.hasNext(); iv += 8 ) {\r\n\t\tconst character = iterator.next();\r\n\t\tif( character !== \"\\n\" ) {\r\n\t\t\tconst lineWidthPrevious = lineWidth;\r\n\t\t\tif( 0 < advancePrevious ) {\r\n\t\t\t\tlineWidth += Math.max( 0, advancePrevious + textSpacingHorizontal );\r\n\t\t\t}\r\n\r\n\t\t\tconst ax = lineWidth * snx;\r\n\t\t\tconst ay = lineWidth * sny;\r\n\t\t\tcx0 = bx0 + ax;\r\n\t\t\tcy0 = by0 + ay;\r\n\t\t\tcx3 = bx3 + ax;\r\n\t\t\tcy3 = by3 + ay;\r\n\r\n\t\t\tconst data = textAtlasCharacters[ character ];\r\n\t\t\tlineCount += 1;\r\n\t\t\tif( data ) {\r\n\t\t\t\tconst advance = data.advance;\r\n\t\t\t\tif( lineWidthMaximum < (lineWidth + advance) * scale ) {\r\n\t\t\t\t\tconst dots = textAtlasCharacters[ \"...\" ];\r\n\t\t\t\t\tif( dots ) {\r\n\t\t\t\t\t\tif( 1 < lineCount && lineWidthMaximum < (lineWidth + dots.advance) * scale ) {\r\n\t\t\t\t\t\t\tlineWidth = lineWidthPrevious;\r\n\t\t\t\t\t\t\tiv -= 8;\r\n\t\t\t\t\t\t\tlineCount -= 1;\r\n\t\t\t\t\t\t\tconst bx = lineWidth * snx;\r\n\t\t\t\t\t\t\tconst by = lineWidth * sny;\r\n\t\t\t\t\t\t\tcx0 = bx0 + bx;\r\n\t\t\t\t\t\t\tcy0 = by0 + by;\r\n\t\t\t\t\t\t\tcx3 = bx3 + bx;\r\n\t\t\t\t\t\t\tcy3 = by3 + by;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tadvancePrevious = dots.advance;\r\n\r\n\t\t\t\t\t\twriteCharacter(\r\n\t\t\t\t\t\t\tvertices, uvs, iv, dots, textAtlas,\r\n\t\t\t\t\t\t\tsnx, sny,\r\n\t\t\t\t\t\t\tcx0, cy0, cx3, cy3,\r\n\t\t\t\t\t\t\tduvx01, duvy01, duvx03, duvy03,\r\n\t\t\t\t\t\t\tuvx0, uvy0\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tfor( iv += 8; true; iv += 8 ) {\r\n\t\t\t\t\t\t\tif( iterator.hasNext() && iterator.advance( \"\\n\" ) ) {\r\n\t\t\t\t\t\t\t\twriteCharacterEmpty(\r\n\t\t\t\t\t\t\t\t\tvertices, uvs, iv,\r\n\t\t\t\t\t\t\t\t\tcx0, cy0, cx3, cy3,\r\n\t\t\t\t\t\t\t\t\tuvx0, uvy0, uvx3, uvy3\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\tlineCount += 1;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tiv -= 8;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tadvancePrevious = advance;\r\n\r\n\t\t\t\t\t\twriteCharacterEmpty(\r\n\t\t\t\t\t\t\tvertices, uvs, iv,\r\n\t\t\t\t\t\t\tcx0, cy0, cx3, cy3,\r\n\t\t\t\t\t\t\tuvx0, uvy0, uvx3, uvy3\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tadvancePrevious = advance;\r\n\r\n\t\t\t\t\twriteCharacter(\r\n\t\t\t\t\t\tvertices, uvs, iv, data, textAtlas,\r\n\t\t\t\t\t\tsnx, sny,\r\n\t\t\t\t\t\tcx0, cy0, cx3, cy3,\r\n\t\t\t\t\t\tduvx01, duvy01, duvx03, duvy03,\r\n\t\t\t\t\t\tuvx0, uvy0\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tadvancePrevious = 0;\r\n\r\n\t\t\t\twriteCharacterEmpty(\r\n\t\t\t\t\tvertices, uvs, iv,\r\n\t\t\t\t\tcx0, cy0, cx3, cy3,\r\n\t\t\t\t\tuvx0, uvy0, uvx3, uvy3\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tlineWidth += advancePrevious;\r\n\t\t\tadvancePrevious = 0;\r\n\r\n\t\t\tbx0 += lhx;\r\n\t\t\tby0 += lhy;\r\n\t\t\tbx3 += lhx;\r\n\t\t\tby3 += lhy;\r\n\t\t\tcx0 = bx0;\r\n\t\t\tcy0 = by0;\r\n\t\t\tcx3 = bx3;\r\n\t\t\tcy3 = by3;\r\n\r\n\t\t\twriteCharacterEmpty(\r\n\t\t\t\tvertices, uvs, iv,\r\n\t\t\t\tcx0, cy0, cx3, cy3,\r\n\t\t\t\tuvx0, uvy0, uvx3, uvy3\r\n\t\t\t);\r\n\r\n\t\t\tadjustTextAlignment(\r\n\t\t\t\tvertices,\r\n\t\t\t\thnx, hny,\r\n\t\t\t\tlineCount,\r\n\t\t\t\tiv,\r\n\t\t\t\twidth - lineWidth * scale,\r\n\t\t\t\ttextDirection,\r\n\t\t\t\ttextAlignHorizontal,\r\n\t\t\t\ttextAlignVertical\r\n\t\t\t);\r\n\t\t\tlineWidth = 0;\r\n\t\t\tlineCount = 0;\r\n\t\t}\r\n\t}\r\n\r\n\tlineWidth += advancePrevious;\r\n\tadjustTextAlignment(\r\n\t\tvertices,\r\n\t\thnx, hny,\r\n\t\tlineCount,\r\n\t\tiv,\r\n\t\twidth - lineWidth * scale,\r\n\t\ttextDirection,\r\n\t\ttextAlignHorizontal,\r\n\t\ttextAlignVertical\r\n\t);\r\n\r\n\tfor( const ivmax = (voffset + vcount) * 2; iv < ivmax; iv += 2 ) {\r\n\t\tvertices[ iv + 0 ] = tx0;\r\n\t\tvertices[ iv + 1 ] = ty0;\r\n\t\tuvs[ iv + 0 ] = uvx0;\r\n\t\tuvs[ iv + 1 ] = uvy0;\r\n\t}\r\n};\r\n\r\nconst writeCharacterEmpty = (\r\n\tvertices: Float32Array, uvs: Float32Array, iv: number,\r\n\tcx0: number, cy0: number,\r\n\tcx3: number, cy3: number,\r\n\tuvx0: number, uvy0: number,\r\n\tuvx3: number, uvy3: number\r\n): void => {\r\n\tvertices[ iv + 0 ] = cx0;\r\n\tvertices[ iv + 1 ] = cy0;\r\n\tvertices[ iv + 2 ] = cx0;\r\n\tvertices[ iv + 3 ] = cy0;\r\n\tvertices[ iv + 4 ] = cx3;\r\n\tvertices[ iv + 5 ] = cy3;\r\n\tvertices[ iv + 6 ] = cx3;\r\n\tvertices[ iv + 7 ] = cy3;\r\n\r\n\tuvs[ iv + 0 ] = uvx0;\r\n\tuvs[ iv + 1 ] = uvy0;\r\n\tuvs[ iv + 2 ] = uvx0;\r\n\tuvs[ iv + 3 ] = uvy0;\r\n\tuvs[ iv + 4 ] = uvx3;\r\n\tuvs[ iv + 5 ] = uvy3;\r\n\tuvs[ iv + 6 ] = uvx3;\r\n\tuvs[ iv + 7 ] = uvy3;\r\n};\r\n\r\nconst writeCharacter = (\r\n\tvertices: Float32Array, uvs: Float32Array, iv: number,\r\n\tdata: EShapeTextAtlasCharacter, atlas: EShapeTextAtlas,\r\n\tsnx: number, sny: number,\r\n\tcx0: number, cy0: number,\r\n\tcx3: number, cy3: number,\r\n\tduvx01: number, duvy01: number,\r\n\tduvx03: number, duvy03: number,\r\n\tuvx0: number, uvy0: number\r\n): void => {\r\n\t// Vertices\r\n\tconst dataOffsetX = data.x - data.origin.x;\r\n\tconst dataWidth = data.width;\r\n\tconst dx0 = dataOffsetX * snx;\r\n\tconst dy0 = dataOffsetX * sny;\r\n\tconst dx1 = (dataOffsetX + dataWidth) * snx;\r\n\tconst dy1 = (dataOffsetX + dataWidth) * sny;\r\n\tvertices[ iv + 0 ] = cx0 + dx0;\r\n\tvertices[ iv + 1 ] = cy0 + dy0;\r\n\tvertices[ iv + 2 ] = cx0 + dx1;\r\n\tvertices[ iv + 3 ] = cy0 + dy1;\r\n\tvertices[ iv + 4 ] = cx3 + dx1;\r\n\tvertices[ iv + 5 ] = cy3 + dy1;\r\n\tvertices[ iv + 6 ] = cx3 + dx0;\r\n\tvertices[ iv + 7 ] = cy3 + dy0;\r\n\r\n\t// UVs\r\n\tconst px0 = data.x / atlas.width;\r\n\tconst py0 = data.y / atlas.height;\r\n\tconst px1 = (data.x + data.width) / atlas.width;\r\n\tconst py1 = (data.y + data.height) / atlas.height;\r\n\r\n\tconst dux0 = duvx01 * px0;\r\n\tconst duy0 = duvy01 * px0;\r\n\tconst dux1 = duvx01 * px1;\r\n\tconst duy1 = duvy01 * px1;\r\n\r\n\tconst dvx0 = duvx03 * py0;\r\n\tconst dvy0 = duvy03 * py0;\r\n\tconst dvx1 = duvx03 * py1;\r\n\tconst dvy1 = duvy03 * py1;\r\n\tuvs[ iv + 0 ] = uvx0 + dux0 + dvx0;\r\n\tuvs[ iv + 1 ] = uvy0 + duy0 + dvy0;\r\n\tuvs[ iv + 2 ] = uvx0 + dux1 + dvx0;\r\n\tuvs[ iv + 3 ] = uvy0 + duy1 + dvy0;\r\n\tuvs[ iv + 4 ] = uvx0 + dux1 + dvx1;\r\n\tuvs[ iv + 5 ] = uvy0 + duy1 + dvy1;\r\n\tuvs[ iv + 6 ] = uvx0 + dux0 + dvx1;\r\n\tuvs[ iv + 7 ] = uvy0 + duy0 + dvy1;\r\n};\r\n\r\nconst moveText = ( vertices: Float32Array, vertexIndex: number, textCount: number, dx: number, dy: number ): void => {\r\n\tfor( let i = 0, iv = vertexIndex - 8 * textCount; i < textCount; i += 1, iv += 8 ) {\r\n\t\tvertices[ iv + 0 ] += dx;\r\n\t\tvertices[ iv + 1 ] += dy;\r\n\t\tvertices[ iv + 2 ] += dx;\r\n\t\tvertices[ iv + 3 ] += dy;\r\n\t\tvertices[ iv + 4 ] += dx;\r\n\t\tvertices[ iv + 5 ] += dy;\r\n\t\tvertices[ iv + 6 ] += dx;\r\n\t\tvertices[ iv + 7 ] += dy;\r\n\t}\r\n};\r\n\r\nconst moveTextHalf = (\r\n\tvertices: Float32Array, vertexIndex: number, textCount: number,\r\n\toffset: number, nx: number, ny: number\r\n): void => {\r\n\toffset *= 0.5;\r\n\tmoveText( vertices, vertexIndex, textCount, offset * nx, offset * ny );\r\n};\r\n\r\nconst moveTextFull = (\r\n\tvertices: Float32Array, vertexIndex: number, textCount: number,\r\n\toffset: number, nx: number, ny: number\r\n): void => {\r\n\tmoveText( vertices, vertexIndex, textCount, offset * nx, offset * ny );\r\n};\r\n\r\nconst adjustTextAlignment = (\r\n\tvertices: Float32Array,\r\n\tnx: number, ny: number,\r\n\tlineCount: number, vertexIndex: number,\r\n\toffset: number,\r\n\ttextDirection: EShapeTextDirection,\r\n\ttextAlignHorizontal: EShapeTextAlignHorizontal,\r\n\ttextAlignVertical: EShapeTextAlignVertical\r\n): void => {\r\n\tif( TEXT_FMIN < offset ) {\r\n\t\tswitch( textDirection ) {\r\n\t\tcase EShapeTextDirection.LEFT_TO_RIGHT:\r\n\t\t\tswitch( textAlignHorizontal ) {\r\n\t\t\tcase EShapeTextAlignHorizontal.OUTSIDE_RIGHT:\r\n\t\t\tcase EShapeTextAlignHorizontal.LEFT:\r\n\t\t\t\t// DO NOTHING\r\n\t\t\t\tbreak;\r\n\t\t\tcase EShapeTextAlignHorizontal.CENTER:\r\n\t\t\t\tmoveTextHalf( vertices, vertexIndex, lineCount, offset, nx, ny );\r\n\t\t\t\tbreak;\r\n\t\t\tcase EShapeTextAlignHorizontal.OUTSIDE_LEFT:\r\n\t\t\tcase EShapeTextAlignHorizontal.RIGHT:\r\n\t\t\t\tmoveTextFull( vertices, vertexIndex, lineCount, offset, nx, ny );\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase EShapeTextDirection.TOP_TO_BOTTOM:\r\n\t\t\tswitch( textAlignVertical ) {\r\n\t\t\tcase EShapeTextAlignVertical.OUTSIDE_BOTTOM:\r\n\t\t\tcase EShapeTextAlignVertical.TOP:\r\n\t\t\t\t// DO NOTHING\r\n\t\t\t\tbreak;\r\n\t\t\tcase EShapeTextAlignVertical.MIDDLE:\r\n\t\t\t\tmoveTextHalf( vertices, vertexIndex, lineCount, offset, nx, ny );\r\n\t\t\t\tbreak;\r\n\t\t\tcase EShapeTextAlignVertical.OUTSIDE_TOP:\r\n\t\t\tcase EShapeTextAlignVertical.BOTTOM:\r\n\t\t\t\tmoveTextFull( vertices, vertexIndex, lineCount, offset, nx, ny );\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase EShapeTextDirection.BOTTOM_TO_TOP:\r\n\t\t\tswitch( textAlignVertical ) {\r\n\t\t\tcase EShapeTextAlignVertical.OUTSIDE_BOTTOM:\r\n\t\t\tcase EShapeTextAlignVertical.TOP:\r\n\t\t\t\tmoveTextFull( vertices, vertexIndex, lineCount, offset, nx, ny );\r\n\t\t\t\tbreak;\r\n\t\t\tcase EShapeTextAlignVertical.MIDDLE:\r\n\t\t\t\tmoveTextHalf( vertices, vertexIndex, lineCount, offset, nx, ny );\r\n\t\t\t\tbreak;\r\n\t\t\tcase EShapeTextAlignVertical.OUTSIDE_TOP:\r\n\t\t\tcase EShapeTextAlignVertical.BOTTOM:\r\n\t\t\t\t// DO NOTHING\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n};\r\n"]}