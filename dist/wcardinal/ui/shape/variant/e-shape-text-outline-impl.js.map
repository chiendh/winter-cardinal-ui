{"version":3,"file":"e-shape-text-outline-impl.js","sourceRoot":"","sources":["../../../../../src/main/typescript/wcardinal/ui/shape/variant/e-shape-text-outline-impl.ts"],"names":[],"mappings":"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","sourcesContent":["/*\r\n * Copyright (C) 2019 Toshiba Corporation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\r\n\r\nimport { EShapeResourceManagerDeserialization } from \"../e-shape-resource-manager-deserialization\";\r\nimport { EShapeResourceManagerSerialization } from \"../e-shape-resource-manager-serialization\";\r\nimport { EShapeTextOutline, EShapeTextOutlineLike } from \"../e-shape-text-outline\";\r\nimport { EShapeTextOutlineImplParent } from \"./e-shape-text-outline-impl-parent\";\r\n\r\nexport class EShapeTextOutlineImpl implements EShapeTextOutline {\r\n\tprotected _parent: EShapeTextOutlineImplParent;\r\n\tprotected _enable: boolean;\r\n\tprotected _color: number;\r\n\tprotected _alpha: number;\r\n\tprotected _width: number;\r\n\r\n\tconstructor( parent: EShapeTextOutlineImplParent, enable: boolean, color: number, alpha: number, width: number ) {\r\n\t\tthis._parent = parent;\r\n\t\tthis._enable = enable;\r\n\t\tthis._color = color;\r\n\t\tthis._alpha = alpha;\r\n\t\tthis._width = width;\r\n\t}\r\n\r\n\tget enable(): boolean {\r\n\t\treturn this._enable;\r\n\t}\r\n\r\n\tset enable( enable: boolean ) {\r\n\t\tif( this._enable !== enable ) {\r\n\t\t\tthis._enable = enable;\r\n\t\t\tthis._parent.updateUploaded();\r\n\t\t}\r\n\t}\r\n\r\n\tget color(): number {\r\n\t\treturn this._color;\r\n\t}\r\n\r\n\tset color( color: number ) {\r\n\t\tif( this._color !== color ) {\r\n\t\t\tthis._color = color;\r\n\t\t\tthis._parent.updateUploaded();\r\n\t\t}\r\n\t}\r\n\r\n\tget alpha(): number {\r\n\t\treturn this._alpha;\r\n\t}\r\n\r\n\tset alpha( alpha: number ) {\r\n\t\tif( this._alpha !== alpha ) {\r\n\t\t\tthis._alpha = alpha;\r\n\t\t\tthis._parent.updateUploaded();\r\n\t\t}\r\n\t}\r\n\r\n\tget width(): number {\r\n\t\treturn this._width;\r\n\t}\r\n\r\n\tset width( width: number ) {\r\n\t\tif( this._width !== width ) {\r\n\t\t\tthis._width = width;\r\n\t\t\tthis._parent.updateUploaded();\r\n\t\t}\r\n\t}\r\n\r\n\tcopy( target?: Partial<EShapeTextOutlineLike> ): void {\r\n\t\tif( target ) {\r\n\t\t\tthis.set( target.enable, target.color, target.alpha, target.width );\r\n\t\t}\r\n\t}\r\n\r\n\tset( enable?: boolean, color?: number, alpha?: number, width?: number ) {\r\n\t\tlet isChanged = false;\r\n\r\n\t\tif( enable !== undefined && this._enable !== enable ) {\r\n\t\t\tthis._enable = enable;\r\n\t\t\tisChanged = true;\r\n\t\t}\r\n\r\n\t\tif( color !== undefined && this._color !== color ) {\r\n\t\t\tthis._color = color;\r\n\t\t\tisChanged = true;\r\n\t\t}\r\n\r\n\t\tif( alpha !== undefined && this._alpha !== alpha ) {\r\n\t\t\tthis._alpha = alpha;\r\n\t\t\tisChanged = true;\r\n\t\t}\r\n\r\n\t\tif( width !== undefined && this._width !== width ) {\r\n\t\t\tthis._width = width;\r\n\t\t\tisChanged = true;\r\n\t\t}\r\n\r\n\t\tif( isChanged ) {\r\n\t\t\tthis._parent.updateUploaded();\r\n\t\t}\r\n\t}\r\n\r\n\tclone(): EShapeTextOutline {\r\n\t\treturn new EShapeTextOutlineImpl( this._parent, this._enable, this._color, this._alpha, this._width );\r\n\t}\r\n\r\n\ttoObject(): EShapeTextOutlineLike {\r\n\t\treturn {\r\n\t\t\tenable: this._enable,\r\n\t\t\tcolor: this._color,\r\n\t\t\talpha: this._alpha,\r\n\t\t\twidth: this._width\r\n\t\t};\r\n\t}\r\n\r\n\tserialize( manager: EShapeResourceManagerSerialization ): number {\r\n\t\tconst serialized = `[${this._enable ? 1 : 0},${this._color},${this._alpha},${this._width}]`;\r\n\t\treturn manager.add( serialized );\r\n\t}\r\n\r\n\tdeserialize( target: number, manager: EShapeResourceManagerDeserialization ) {\r\n\t\tconst resources = manager.resources;\r\n\t\tif( 0 <= target && target < resources.length ) {\r\n\t\t\tconst parsed = manager.textOutlines.get( target );\r\n\t\t\tif( parsed != null ) {\r\n\t\t\t\tthis.set(\r\n\t\t\t\t\tparsed[ 0 ] !== 0,\r\n\t\t\t\t\tparsed[ 1 ],\r\n\t\t\t\t\tparsed[ 2 ],\r\n\t\t\t\t\tparsed[ 3 ]\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tconst deserialized = JSON.parse( resources[ target ] );\r\n\t\t\t\tmanager.textOutlines.set( target, deserialized );\r\n\t\t\t\tthis.set(\r\n\t\t\t\t\tdeserialized[ 0 ] !== 0,\r\n\t\t\t\t\tdeserialized[ 1 ],\r\n\t\t\t\t\tdeserialized[ 2 ],\r\n\t\t\t\t\tdeserialized[ 3 ]\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n"]}