{"version":3,"file":"copy-vertex.js","sourceRoot":"","sources":["../../../../../src/main/typescript/wcardinal/ui/shape/variant/copy-vertex.ts"],"names":[],"mappings":"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","sourcesContent":["import { Matrix } from \"pixi.js\";\r\nimport { EShapeLineOfAnyPointsPoint } from \"./e-shape-line-of-any-points-point\";\r\n\r\nexport const copyVertex = (\r\n\tvertices: Float32Array,\r\n\tinternalTransform: Matrix,\r\n\tvoffset: number,\r\n\tvcountPerPoint: number,\r\n\tpointCount: number,\r\n\tpointsValues: number[],\r\n\tpointOffset: EShapeLineOfAnyPointsPoint\r\n): void => {\r\n\tconst a = internalTransform.a;\r\n\tconst b = internalTransform.b;\r\n\tconst c = internalTransform.c;\r\n\tconst d = internalTransform.d;\r\n\tlet i = pointCount - 1;\r\n\tlet iv = voffset + i * vcountPerPoint;\r\n\tif( pointOffset.isStaticX() && pointOffset.isStaticY() ) {\r\n\t\tconst ox = pointOffset.getX( 0 );\r\n\t\tconst oy = pointOffset.getY( 0 );\r\n\t\tfor( ; 0 <= i; --i ) {\r\n\t\t\tconst ip = i << 1;\r\n\t\t\tconst px = pointsValues[ ip     ] + ox;\r\n\t\t\tconst py = pointsValues[ ip + 1 ] + oy;\r\n\t\t\tconst dx = a * px + c * py;\r\n\t\t\tconst dy = b * px + d * py;\r\n\t\t\tlet ivd = iv << 1;\r\n\t\t\tlet ivs = voffset << 1;\r\n\t\t\tfor( let j = 0; j < vcountPerPoint; ++j ) {\r\n\t\t\t\tvertices[ ivd     ] = vertices[ ivs     ] + dx;\r\n\t\t\t\tvertices[ ivd + 1 ] = vertices[ ivs + 1 ] + dy;\r\n\t\t\t\tivd += 2;\r\n\t\t\t\tivs += 2;\r\n\t\t\t}\r\n\t\t\tiv -= vcountPerPoint;\r\n\t\t}\r\n\t} else {\r\n\t\tfor( ; 0 <= i; --i ) {\r\n\t\t\tconst ip = i << 1;\r\n\t\t\tconst px = pointsValues[ ip     ] + pointOffset.getX( i );\r\n\t\t\tconst py = pointsValues[ ip + 1 ] + pointOffset.getY( i );\r\n\t\t\tconst dx = a * px + c * py;\r\n\t\t\tconst dy = b * px + d * py;\r\n\t\t\tlet ivd = iv << 1;\r\n\t\t\tlet ivs = voffset << 1;\r\n\t\t\tfor( let j = 0; j < vcountPerPoint; ++j ) {\r\n\t\t\t\tvertices[ ivd     ] = vertices[ ivs     ] + dx;\r\n\t\t\t\tvertices[ ivd + 1 ] = vertices[ ivs + 1 ] + dy;\r\n\t\t\t\tivd += 2;\r\n\t\t\t\tivs += 2;\r\n\t\t\t}\r\n\t\t\tiv -= vcountPerPoint;\r\n\t\t}\r\n\t}\r\n};\r\n"]}