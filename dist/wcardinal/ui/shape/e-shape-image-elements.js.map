{"version":3,"file":"e-shape-image-elements.js","sourceRoot":"","sources":["../../../../src/main/typescript/wcardinal/ui/shape/e-shape-image-elements.ts"],"names":[],"mappings":"AACA;IAAA;IA4BA,CAAC;IAzBO,kCAAc,GAArB,UAAuB,OAAe;QACrC,IAAM,aAAa,GAAG,mBAAmB,CAAC,aAAa,CAAC;QACxD,IAAM,kBAAkB,GAAG,aAAa,CAAE,OAAO,CAAE,CAAC;QACpD,IAAI,kBAAkB,IAAI,IAAI,EAAG;YAChC,IAAI,kBAAkB,YAAY,gBAAgB,EAAG;gBACpD,OAAO,OAAO,CAAC,OAAO,CAAE,kBAAkB,CAAE,CAAC;aAC7C;iBAAM;gBACN,OAAO,kBAAkB,CAAC;aAC1B;SACD;aAAM;YACN,IAAM,MAAM,GAAG,IAAI,OAAO,CAAmB,UAAE,OAAO,EAAE,MAAM;gBAC7D,IAAM,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAE,KAAK,CAAE,CAAC;gBACrD,YAAY,CAAC,MAAM,GAAG;oBACrB,aAAa,CAAE,OAAO,CAAE,GAAG,YAAY,CAAC;oBACxC,OAAO,CAAE,YAAY,CAAE,CAAC;gBACzB,CAAC,CAAC;gBACF,YAAY,CAAC,OAAO,GAAG,YAAY,CAAC,OAAO,GAAG;oBAC7C,MAAM,EAAE,CAAC;gBACV,CAAC,CAAC;gBACF,YAAY,CAAC,GAAG,GAAG,OAAO,CAAC;YAC5B,CAAC,CAAC,CAAC;YACH,aAAa,CAAE,OAAO,CAAE,GAAG,MAAM,CAAC;YAClC,OAAO,MAAM,CAAC;SACd;IACF,CAAC;IA1BM,iCAAa,GAAkF,EAAE,CAAC;IA2B1G,0BAAC;CAAA,AA5BD,IA4BC;SA5BY,mBAAmB","sourcesContent":["\r\nexport class EShapeImageElements {\r\n\tstatic imageElements: { [ src: string ]: Promise<HTMLImageElement> | HTMLImageElement | undefined } = {};\r\n\r\n\tstatic toImageElement( dataUrl: string ): Promise<HTMLImageElement> {\r\n\t\tconst imageElements = EShapeImageElements.imageElements;\r\n\t\tconst cachedImageElement = imageElements[ dataUrl ];\r\n\t\tif( cachedImageElement != null ) {\r\n\t\t\tif( cachedImageElement instanceof HTMLImageElement ) {\r\n\t\t\t\treturn Promise.resolve( cachedImageElement );\r\n\t\t\t} else {\r\n\t\t\t\treturn cachedImageElement;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconst result = new Promise<HTMLImageElement>(( resolve, reject ): void => {\r\n\t\t\t\tconst imageElement = document.createElement( \"img\" );\r\n\t\t\t\timageElement.onload = () => {\r\n\t\t\t\t\timageElements[ dataUrl ] = imageElement;\r\n\t\t\t\t\tresolve( imageElement );\r\n\t\t\t\t};\r\n\t\t\t\timageElement.onabort = imageElement.onerror = () => {\r\n\t\t\t\t\treject();\r\n\t\t\t\t};\r\n\t\t\t\timageElement.src = dataUrl;\r\n\t\t\t});\r\n\t\t\timageElements[ dataUrl ] = result;\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n}\r\n"]}