{"version":3,"file":"e-shape-action-runtime-change-color-code.js","sourceRoot":"","sources":["../../../../../src/main/typescript/wcardinal/ui/shape/action/e-shape-action-runtime-change-color-code.ts"],"names":[],"mappings":"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","sourcesContent":["/*\r\n * Copyright (C) 2019 Toshiba Corporation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\r\n\r\nimport { UtilAlpha } from \"../../util/util-alpha\";\r\nimport { UtilRgb } from \"../../util/util-rgb\";\r\nimport { EShape } from \"../e-shape\";\r\nimport { EShapeFill, EShapeFillLike } from \"../e-shape-fill\";\r\nimport { EShapeRuntime, EShapeRuntimeReset } from \"../e-shape-runtime\";\r\nimport { EShapeStroke, EShapeStrokeLike } from \"../e-shape-stroke\";\r\nimport { EShapeText, EShapeTextLike } from \"../e-shape-text\";\r\nimport { EShapeTextOutline, EShapeTextOutlineLike } from \"../e-shape-text-outline\";\r\nimport { EShapeActionExpression } from \"./e-shape-action-runtime\";\r\nimport { EShapeActionRuntimeConditional } from \"./e-shape-action-runtime-conditional\";\r\nimport { EShapeActionValueChangeColorCode } from \"./e-shape-action-value-change-color-code\";\r\n\r\nconst colorDefault = (): number | null => null;\r\nconst alphaDefault = (): number | null => null;\r\nconst blendDefault = (): number | null => null;\r\n\r\nexport class EShapeActionRuntimeChangeColorCode extends EShapeActionRuntimeConditional {\r\n\tprotected readonly color: EShapeActionExpression<number | null>;\r\n\tprotected readonly alpha: EShapeActionExpression<number | null>;\r\n\tprotected readonly blend: EShapeActionExpression<number | null>;\r\n\r\n\tconstructor( value: EShapeActionValueChangeColorCode, reset: EShapeRuntimeReset ) {\r\n\t\tsuper( value, reset );\r\n\t\tthis.color = this.toExpression( value.color, colorDefault, \"null\" );\r\n\t\tthis.alpha = this.toExpression( value.alpha, alphaDefault, \"null\" );\r\n\t\tthis.blend = this.toExpression( value.blend, blendDefault, \"null\" );\r\n\t}\r\n\r\n\tprotected set(\r\n\t\tshape: EShape, runtime: EShapeRuntime, time: number,\r\n\t\ttarget: EShapeStroke | EShapeFill | EShapeText | EShapeTextOutline,\r\n\t\tbase: EShapeStrokeLike | EShapeFillLike | EShapeTextLike | EShapeTextOutlineLike\r\n\t): void {\r\n\t\tconst color = this.color( shape, time );\r\n\t\tconst alpha = this.alpha( shape, time );\r\n\t\tif( color != null ) {\r\n\t\t\tif( alpha != null ) {\r\n\t\t\t\tconst blend = this.blend( shape, time );\r\n\t\t\t\tif( blend != null ) {\r\n\t\t\t\t\ttarget.set(\r\n\t\t\t\t\t\tundefined,\r\n\t\t\t\t\t\tUtilRgb.blend( base.color, color, blend ),\r\n\t\t\t\t\t\tUtilAlpha.blend( base.alpha, alpha, blend )\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttarget.set( undefined, color, alpha );\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconst blend = this.blend( shape, time );\r\n\t\t\t\tif( blend != null ) {\r\n\t\t\t\t\ttarget.set(\r\n\t\t\t\t\t\tundefined,\r\n\t\t\t\t\t\tUtilRgb.blend( base.color, color, blend ),\r\n\t\t\t\t\t\tbase.alpha\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttarget.set( undefined, color, base.alpha );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\truntime.written |= this.reset;\r\n\t\t} else if( alpha != null ) {\r\n\t\t\tconst blend = this.blend( shape, time );\r\n\t\t\tif( blend != null ) {\r\n\t\t\t\ttarget.set(\r\n\t\t\t\t\tundefined,\r\n\t\t\t\t\tbase.color,\r\n\t\t\t\t\tUtilAlpha.blend( base.alpha, alpha, blend )\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\ttarget.set( undefined, base.color, alpha );\r\n\t\t\t}\r\n\t\t\truntime.written |= this.reset;\r\n\t\t}\r\n\t}\r\n\r\n\tprotected sets(\r\n\t\tshape: EShape, runtime: EShapeRuntime, time: number,\r\n\t\tfill: EShapeFill, stroke: EShapeStroke,\r\n\t\tbaseFill: EShapeFillLike, baseStroke: EShapeStrokeLike\r\n\t): void {\r\n\t\tconst color = this.color( shape, time );\r\n\t\tconst alpha = this.alpha( shape, time );\r\n\t\tif( color != null ) {\r\n\t\t\tif( alpha != null ) {\r\n\t\t\t\tconst blend = this.blend( shape, time );\r\n\t\t\t\tif( blend != null ) {\r\n\t\t\t\t\tfill.set(\r\n\t\t\t\t\t\tundefined,\r\n\t\t\t\t\t\tUtilRgb.blend( baseFill.color, color, blend ),\r\n\t\t\t\t\t\tUtilAlpha.blend( baseFill.alpha, alpha, blend )\r\n\t\t\t\t\t);\r\n\t\t\t\t\tstroke.set(\r\n\t\t\t\t\t\tundefined,\r\n\t\t\t\t\t\tUtilRgb.blend( baseStroke.color, color, blend ),\r\n\t\t\t\t\t\tUtilAlpha.blend( baseStroke.alpha, alpha, blend )\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfill.set( undefined, color, alpha );\r\n\t\t\t\t\tstroke.set( undefined, color, alpha );\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconst blend = this.blend( shape, time );\r\n\t\t\t\tif( blend != null ) {\r\n\t\t\t\t\tfill.set(\r\n\t\t\t\t\t\tundefined,\r\n\t\t\t\t\t\tUtilRgb.blend( baseFill.color, color, blend ),\r\n\t\t\t\t\t\tbaseFill.alpha\r\n\t\t\t\t\t);\r\n\t\t\t\t\tstroke.set(\r\n\t\t\t\t\t\tundefined,\r\n\t\t\t\t\t\tUtilRgb.blend( baseStroke.color, color, blend ),\r\n\t\t\t\t\t\tbaseStroke.alpha\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfill.set( undefined, color, baseFill.alpha );\r\n\t\t\t\t\tstroke.set( undefined, color, baseStroke.alpha );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\truntime.written |= this.reset;\r\n\t\t} else if( alpha != null ) {\r\n\t\t\tconst blend = this.blend( shape, time );\r\n\t\t\tif( blend != null ) {\r\n\t\t\t\tfill.set(\r\n\t\t\t\t\tundefined,\r\n\t\t\t\t\tbaseFill.color,\r\n\t\t\t\t\tUtilAlpha.blend( baseFill.alpha, alpha, blend )\r\n\t\t\t\t);\r\n\t\t\t\tstroke.set(\r\n\t\t\t\t\tundefined,\r\n\t\t\t\t\tbaseStroke.color,\r\n\t\t\t\t\tUtilAlpha.blend( baseStroke.alpha, alpha, blend )\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tfill.set( undefined, baseFill.color, alpha );\r\n\t\t\t\tstroke.set( undefined, baseStroke.color, alpha );\r\n\t\t\t}\r\n\t\t\truntime.written |= this.reset;\r\n\t\t}\r\n\t}\r\n\r\n\tprotected setAll(\r\n\t\tshape: EShape, runtime: EShapeRuntime, time: number,\r\n\t\tfill: EShapeFill, stroke: EShapeStroke, text: EShapeText, outline: EShapeTextOutline,\r\n\t\tbaseFill: EShapeFillLike, baseStroke: EShapeStrokeLike, baseText: EShapeTextLike, baseOutline: EShapeTextOutlineLike\r\n\t): void {\r\n\t\tconst color = this.color( shape, time );\r\n\t\tconst alpha = this.alpha( shape, time );\r\n\t\tif( color != null ) {\r\n\t\t\tif( alpha != null ) {\r\n\t\t\t\tconst blend = this.blend( shape, time );\r\n\t\t\t\tif( blend != null ) {\r\n\t\t\t\t\tfill.set(\r\n\t\t\t\t\t\tundefined,\r\n\t\t\t\t\t\tUtilRgb.blend( baseFill.color, color, blend ),\r\n\t\t\t\t\t\tUtilAlpha.blend( baseFill.alpha, alpha, blend )\r\n\t\t\t\t\t);\r\n\t\t\t\t\tstroke.set(\r\n\t\t\t\t\t\tundefined,\r\n\t\t\t\t\t\tUtilRgb.blend( baseStroke.color, color, blend ),\r\n\t\t\t\t\t\tUtilAlpha.blend( baseStroke.alpha, alpha, blend )\r\n\t\t\t\t\t);\r\n\t\t\t\t\ttext.set(\r\n\t\t\t\t\t\tundefined,\r\n\t\t\t\t\t\tUtilRgb.blend( baseText.color, color, blend ),\r\n\t\t\t\t\t\tUtilAlpha.blend( baseText.alpha, alpha, blend )\r\n\t\t\t\t\t);\r\n\t\t\t\t\toutline.set(\r\n\t\t\t\t\t\tundefined,\r\n\t\t\t\t\t\tUtilRgb.blend( baseOutline.color, color, blend ),\r\n\t\t\t\t\t\tUtilAlpha.blend( baseOutline.alpha, alpha, blend )\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfill.set( undefined, color, alpha );\r\n\t\t\t\t\tstroke.set( undefined, color, alpha );\r\n\t\t\t\t\ttext.set( undefined, color, alpha );\r\n\t\t\t\t\toutline.set( undefined, color, alpha );\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconst blend = this.blend( shape, time );\r\n\t\t\t\tif( blend != null ) {\r\n\t\t\t\t\tfill.set(\r\n\t\t\t\t\t\tundefined,\r\n\t\t\t\t\t\tUtilRgb.blend( baseFill.color, color, blend ),\r\n\t\t\t\t\t\tbaseFill.alpha\r\n\t\t\t\t\t);\r\n\t\t\t\t\tstroke.set(\r\n\t\t\t\t\t\tundefined,\r\n\t\t\t\t\t\tUtilRgb.blend( baseStroke.color, color, blend ),\r\n\t\t\t\t\t\tbaseStroke.alpha\r\n\t\t\t\t\t);\r\n\t\t\t\t\ttext.set(\r\n\t\t\t\t\t\tundefined,\r\n\t\t\t\t\t\tUtilRgb.blend( baseText.color, color, blend ),\r\n\t\t\t\t\t\tbaseText.alpha\r\n\t\t\t\t\t);\r\n\t\t\t\t\toutline.set(\r\n\t\t\t\t\t\tundefined,\r\n\t\t\t\t\t\tUtilRgb.blend( baseOutline.color, color, blend ),\r\n\t\t\t\t\t\tbaseOutline.alpha\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfill.set( undefined, color, baseFill.alpha );\r\n\t\t\t\t\tstroke.set( undefined, color, baseStroke.alpha );\r\n\t\t\t\t\ttext.set( undefined, color, baseText.alpha );\r\n\t\t\t\t\toutline.set( undefined, color, baseOutline.alpha );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\truntime.written |= this.reset;\r\n\t\t} else if( alpha != null ) {\r\n\t\t\tconst blend = this.blend( shape, time );\r\n\t\t\tif( blend != null ) {\r\n\t\t\t\tfill.set(\r\n\t\t\t\t\tundefined,\r\n\t\t\t\t\tbaseFill.color,\r\n\t\t\t\t\tUtilAlpha.blend( baseFill.alpha, alpha, blend )\r\n\t\t\t\t);\r\n\t\t\t\tstroke.set(\r\n\t\t\t\t\tundefined,\r\n\t\t\t\t\tbaseStroke.color,\r\n\t\t\t\t\tUtilAlpha.blend( baseStroke.alpha, alpha, blend )\r\n\t\t\t\t);\r\n\t\t\t\ttext.set(\r\n\t\t\t\t\tundefined,\r\n\t\t\t\t\tbaseFill.color,\r\n\t\t\t\t\tUtilAlpha.blend( baseText.alpha, alpha, blend )\r\n\t\t\t\t);\r\n\t\t\t\toutline.set(\r\n\t\t\t\t\tundefined,\r\n\t\t\t\t\tbaseStroke.color,\r\n\t\t\t\t\tUtilAlpha.blend( baseOutline.alpha, alpha, blend )\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tfill.set( undefined, baseFill.color, alpha );\r\n\t\t\t\tstroke.set( undefined, baseStroke.color, alpha );\r\n\t\t\t\ttext.set( undefined, baseText.color, alpha );\r\n\t\t\t\toutline.set( undefined, baseOutline.color, alpha );\r\n\t\t\t}\r\n\t\t\truntime.written |= this.reset;\r\n\t\t}\r\n\t}\r\n}\r\n"]}