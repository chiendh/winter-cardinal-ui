{"version":3,"file":"e-shape.js","sourceRoot":"","sources":["../../../../src/main/typescript/wcardinal/ui/shape/e-shape.ts"],"names":[],"mappings":"AAAA;;;GAGG;AAsBH,MAAM,CAAN,IAAY,cASX;AATD,WAAY,cAAc;IACzB,mDAAQ,CAAA;IACR,6DAAa,CAAA;IACb,mDAAQ,CAAA;IACR,qDAAS,CAAA;IACT,uDAAU,CAAA;IACV,wDAAW,CAAA;IACX,sDAAU,CAAA;IACV,kDAAwD,CAAA;AACzD,CAAC,EATW,cAAc,KAAd,cAAc,QASzB","sourcesContent":["/*\r\n * Copyright (C) 2019 Toshiba Corporation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\r\n\r\nimport { DisplayObject, IPoint, Point, Rectangle, Texture, utils } from \"pixi.js\";\r\nimport { DBaseState } from \"../d-base-state\";\r\nimport { DDiagramSerializedItem } from \"../d-diagram-serialized\";\r\nimport { EShapeAction } from \"./action/e-shape-action\";\r\nimport { EShapeContainer } from \"./e-shape-container\";\r\nimport { EShapeCorner } from \"./e-shape-corner\";\r\nimport { EShapeEditor } from \"./e-shape-editor\";\r\nimport { EShapeFill } from \"./e-shape-fill\";\r\nimport { EShapeGradientLike } from \"./e-shape-gradient\";\r\nimport { EShapeLayout } from \"./e-shape-layout\";\r\nimport { EShapePoints } from \"./e-shape-points\";\r\nimport { EShapeResourceManagerSerialization } from \"./e-shape-resource-manager-serialization\";\r\nimport { EShapeRuntime } from \"./e-shape-runtime\";\r\nimport { EShapeStroke } from \"./e-shape-stroke\";\r\nimport { EShapeTag } from \"./e-shape-tag\";\r\nimport { EShapeText } from \"./e-shape-text\";\r\nimport { EShapeTransform } from \"./e-shape-transform\";\r\nimport { EShapeType } from \"./e-shape-type\";\r\nimport { EShapeUploaded } from \"./e-shape-uploaded\";\r\n\r\nexport enum EShapeCopyPart {\r\n\tNONE = 0,\r\n\tTRANSFORM = 1,\r\n\tSIZE = 2,\r\n\tSTYLE = 4,\r\n\tACTION = 8,\r\n\tPOINTS = 16,\r\n\tSTATE = 32,\r\n\tALL = TRANSFORM | SIZE | STYLE | ACTION | POINTS | STATE\r\n}\r\n\r\nexport interface EShape extends utils.EventEmitter {\r\n\tid: string;\r\n\treadonly type: EShapeType;\r\n\treadonly size: IPoint;\r\n\treadonly fill: EShapeFill;\r\n\treadonly stroke: EShapeStroke;\r\n\treadonly transform: EShapeTransform;\r\n\tradius: number;\r\n\tcorner: EShapeCorner;\r\n\treadonly points?: EShapePoints;\r\n\timage?: HTMLImageElement;\r\n\timageSrc?: string;\r\n\ttexture?: Texture;\r\n\tgradient?: EShapeGradientLike;\r\n\treadonly text: EShapeText;\r\n\treadonly tag: EShapeTag;\r\n\treadonly action: EShapeAction;\r\n\tcursor: string;\r\n\tvisible: boolean;\r\n\tinteractive: boolean;\r\n\tshortcut?: string;\r\n\ttitle?: string;\r\n\r\n\t// Hierarchy\r\n\tparent: EShapeContainer | EShape | null;\r\n\troot: EShape;\r\n\tchildren: EShape[];\r\n\tlayout?: EShapeLayout;\r\n\r\n\t// Working space\r\n\tindex: number;\t\t// A work space for sorting.\r\n\tselected: boolean;\r\n\treference: number;\t// Count of references from commands\r\n\r\n\t// Working space for the viewer\r\n\truntime?: EShapeRuntime;\r\n\r\n\t// Working space for the editor\r\n\teditor?: EShapeEditor;\r\n\r\n\t// Working space for the renderer\r\n\tuploaded?: EShapeUploaded;\r\n\r\n\t//\r\n\thovered: boolean;\r\n\tactive: boolean;\r\n\treadonly: boolean;\r\n\treadonly enabled: boolean;\r\n\tdisabled: boolean;\r\n\tdragging: boolean;\r\n\tfocused: boolean;\r\n\treadonly focusedin: boolean;\r\n\tunfocusable: boolean;\r\n\treadonly clicked: boolean;\r\n\treadonly pressed: boolean;\r\n\treadonly down: boolean;\r\n\treadonly up: boolean;\r\n\treadonly shadowed: boolean;\r\n\r\n\t//\r\n\ttoDirty(): void;\r\n\tattach( parent: EShapeContainer | EShape, at?: number ): this;\r\n\tdetach(): this;\r\n\tcopy( source: EShape ): this;\r\n\tcopy( source: EShape, part: EShapeCopyPart ): this;\r\n\tclone(): EShape;\r\n\tdestroy(): void;\r\n\r\n\t//\r\n\tgetState(): DBaseState;\r\n\tsetState( state: DBaseState, isOn: boolean ): this;\r\n\thasState( state: DBaseState ): boolean;\r\n\tfocus(): this;\r\n\tblur(): this;\r\n\r\n\t//\r\n\tonDblClick( e: MouseEvent ): void;\r\n\tonShortcut( e: KeyboardEvent ): void;\r\n\tonSizeChange(): void;\r\n\r\n\t// Action\r\n\tupdate( time: number ): void;\r\n\r\n\t// Transform\r\n\tupdateTransform(): void;\r\n\tdisallowOnTransformChange(): void;\r\n\tallowOnTransformChange( invokeOnTransformChange: boolean ): void;\r\n\tonTransformChange(): void;\r\n\tonChildTransformChange(): void;\r\n\r\n\t// Uploaded\r\n\tdisallowUploadedUpdate(): void;\r\n\tallowUploadedUpdate(): void;\r\n\tupdateUploaded(): void;\r\n\tupdateUploadedRecursively(): void;\r\n\r\n\t// Serialization\r\n\tserialize( manager: EShapeResourceManagerSerialization ): DDiagramSerializedItem;\r\n\r\n\t// Hit test\r\n\tcontains( point: Point ): EShape | null;\r\n\tcontainsBBox( point: Point ): boolean;\r\n\tcontainsAbs( x: number, y: number, ax: number, ay: number ): boolean;\r\n\tcontainsAbsBBox( x: number, y: number, ax: number, ay: number ): boolean;\r\n\r\n\t// Coordinate\r\n\ttoGlobal( position: IPoint, result: Point, skipUpdate?: boolean ): Point;\r\n\ttoLocal( position: IPoint, from?: DisplayObject, result?: Point, skipUpdate?: boolean ): Point;\r\n\tgetBounds( work: Point, skipUpdate: boolean, result: Rectangle ): Rectangle;\r\n\tgetBoundsInternal( work: Point, skipUpdate: boolean, result: Rectangle ): Rectangle;\r\n\tgetBoundsLocal( work: Point, skipUpdate: boolean, result: Rectangle ): Rectangle;\r\n}\r\n"]}