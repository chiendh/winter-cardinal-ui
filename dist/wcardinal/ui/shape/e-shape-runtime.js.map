{"version":3,"file":"e-shape-runtime.js","sourceRoot":"","sources":["../../../../src/main/typescript/wcardinal/ui/shape/e-shape-runtime.ts"],"names":[],"mappings":"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","sourcesContent":["/*\r\n * Copyright (C) 2019 Toshiba Corporation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\r\n\r\nimport { interaction, Point } from \"pixi.js\";\r\nimport { DApplications } from \"../d-applications\";\r\nimport { DBaseState } from \"../d-base-state\";\r\nimport { DControllers } from \"../d-controllers\";\r\nimport { UtilKeyboardEvent } from \"../util/util-keyboard-event\";\r\nimport { EShapeActionRuntime } from \"./action/e-shape-action-runtime\";\r\nimport { EShape } from \"./e-shape\";\r\nimport { EShapeFillLike } from \"./e-shape-fill\";\r\nimport { EShapeStrokeLike } from \"./e-shape-stroke\";\r\nimport { EShapeTextLike } from \"./e-shape-text\";\r\n\r\nexport enum EShapeRuntimeReset {\r\n\tNONE = 0,\r\n\tPOSITION_X = 1,\r\n\tPOSITION_Y = 2,\r\n\tPOSITION = POSITION_X | POSITION_Y,\r\n\tROTATION = 4,\r\n\tCOLOR_FILL = 8,\r\n\tCOLOR_STROKE = 16,\r\n\tCOLOR_FILL_AND_STROKE = COLOR_FILL | COLOR_STROKE,\r\n\tCOLOR_TEXT = 32,\r\n\tCOLOR_TEXT_OUTLINE = 64,\r\n\tCOLOR = COLOR_FILL | COLOR_STROKE | COLOR_TEXT | COLOR_TEXT_OUTLINE,\r\n\tVISIBILITY = 128,\r\n\tHEIGHT = 256,\r\n\tWIDTH = 512,\r\n\tSIZE = HEIGHT | WIDTH,\r\n\tTEXT = 1024,\r\n\tCURSOR = 2048\r\n}\r\n\r\nexport enum EShapeRuntimeState {\r\n\tNONE = 0,\r\n\tCHANGED = 1,\r\n\tCLICKED = 2,\r\n\tDOWN = 4,\r\n\tUP = 8,\r\n\tPRESSED = 16,\r\n\tPERSISTENT = PRESSED\r\n}\r\n\r\nexport class EShapeRuntime {\r\n\tx: number;\r\n\ty: number;\r\n\tsize: Point;\r\n\trotation: number;\r\n\tactions: EShapeActionRuntime[];\r\n\tfill: EShapeFillLike;\r\n\tstroke: EShapeStrokeLike;\r\n\ttext: EShapeTextLike;\r\n\tcursor: string;\r\n\r\n\treset: EShapeRuntimeReset;\r\n\twritten: EShapeRuntimeReset;\r\n\r\n\teffect: number;\r\n\r\n\tstate: EShapeRuntimeState;\r\n\r\n\tinteractive: boolean;\r\n\r\n\tconstructor( shape: EShape ) {\r\n\t\tconst transform = shape.transform;\r\n\t\tconst position = transform.position;\r\n\t\tthis.x = position.x;\r\n\t\tthis.y = position.y;\r\n\t\tthis.size = new Point( shape.size.x, shape.size.y );\r\n\t\tthis.rotation = transform.rotation;\r\n\t\tthis.actions = [];\r\n\t\tthis.fill = shape.fill.toObject();\r\n\t\tthis.stroke = shape.stroke.toObject();\r\n\t\tthis.text = shape.text.toObject();\r\n\t\tthis.cursor = shape.cursor;\r\n\t\tthis.reset = EShapeRuntimeReset.NONE;\r\n\t\tthis.written = EShapeRuntimeReset.NONE;\r\n\t\tthis.effect = NaN;\r\n\t\tthis.state = EShapeRuntimeState.NONE;\r\n\t\tthis.interactive = false;\r\n\t}\r\n\r\n\tonPointerClick( shape: EShape, e?: interaction.InteractionEvent ): void {\r\n\t\tif( ! shape.disabled ) {\r\n\t\t\tif( ! (this.state & EShapeRuntimeState.CLICKED) ) {\r\n\t\t\t\tthis.state |= EShapeRuntimeState.CHANGED | EShapeRuntimeState.CLICKED;\r\n\t\t\t\tDApplications.update( shape );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonPointerDblClick( shape: EShape, e?: MouseEvent | TouchEvent ): boolean {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tonPointerOver( shape: EShape, e?: interaction.InteractionEvent ): void {\r\n\t\tshape.hovered = true;\r\n\t}\r\n\r\n\tonPointerOut( shape: EShape, e?: interaction.InteractionEvent ): void {\r\n\t\tshape.hovered = false;\r\n\t}\r\n\r\n\tonPointerDown( shape: EShape, e?: interaction.InteractionEvent ): void {\r\n\t\tconst layer = DApplications.getLayer( shape );\r\n\t\tif( ! (this.state & EShapeRuntimeState.DOWN) ) {\r\n\t\t\tthis.state |= EShapeRuntimeState.CHANGED | EShapeRuntimeState.DOWN | EShapeRuntimeState.PRESSED;\r\n\t\t\tif( layer ) {\r\n\t\t\t\tlayer.update();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif( layer ) {\r\n\t\t\tconst focusController = layer.getFocusController();\r\n\t\t\tfocusController.setFocused( focusController.findFocusableParent( shape ), true, true );\r\n\t\t}\r\n\t}\r\n\r\n\tonPointerUp( shape: EShape, e?: interaction.InteractionEvent ): void {\r\n\t\tif( ! (this.state & EShapeRuntimeState.UP) ) {\r\n\t\t\tthis.state |= EShapeRuntimeState.CHANGED | EShapeRuntimeState.UP;\r\n\t\t\tthis.state &= ~EShapeRuntimeState.PRESSED;\r\n\t\t\tDApplications.update( shape );\r\n\t\t}\r\n\t}\r\n\r\n\tonPointerMove( shape: EShape, e?: interaction.InteractionEvent ): void {\r\n\t\t//\r\n\t}\r\n\r\n\tonKeyDown( shape: EShape, e: KeyboardEvent ): boolean {\r\n\t\tif( UtilKeyboardEvent.isActivateKey( e ) ) {\r\n\t\t\tthis.onPointerDown( shape );\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tonKeyUp( shape: EShape, e: KeyboardEvent ): boolean {\r\n\t\tif( UtilKeyboardEvent.isActivateKey( e ) ) {\r\n\t\t\tthis.onPointerUp( shape );\r\n\t\t\tthis.onPointerClick( shape );\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tonStateChange( shape: EShape, newState: DBaseState, oldState: DBaseState ): void {\r\n\t\tthis.state |= EShapeRuntimeState.CHANGED;\r\n\t\tDApplications.update( shape );\r\n\t}\r\n\r\n\tupdate( shape: EShape, time: number ): void {\r\n\t\tconst tag = shape.tag;\r\n\t\tconst isEffectTimeUp = ( this.effect <= time );\r\n\t\tif( tag.isChanged || (this.state & EShapeRuntimeState.CHANGED) || isEffectTimeUp ) {\r\n\t\t\tif( isEffectTimeUp ) {\r\n\t\t\t\tthis.effect = NaN;\r\n\t\t\t}\r\n\t\t\tshape.disallowUploadedUpdate();\r\n\t\t\tthis.onUpdate( shape, time );\r\n\t\t\tshape.allowUploadedUpdate();\r\n\t\t\tthis.state &= EShapeRuntimeState.PERSISTENT;\r\n\t\t\ttag.isChanged = false;\r\n\t\t}\r\n\t}\r\n\r\n\tprotected onUpdate( shape: EShape, time: number ): void {\r\n\t\tif( 0 < this.actions.length ) {\r\n\t\t\tthis.executeActions( shape, time );\r\n\t\t\tthis.resetUnwrittenProperties( shape );\r\n\t\t}\r\n\t}\r\n\r\n\tprotected executeActions( shape: EShape, time: number ): void {\r\n\t\tthis.written = EShapeRuntimeReset.NONE;\r\n\t\tconst actions = this.actions;\r\n\t\tfor( let i = 0, imax = actions.length; i < imax; ++i ) {\r\n\t\t\tactions[ i ].execute( shape, this, time );\r\n\t\t}\r\n\t}\r\n\r\n\tprotected resetUnwrittenProperties( shape: EShape ): void {\r\n\t\tconst target = (~this.written) & this.reset;\r\n\t\tif( target !== EShapeRuntimeReset.NONE ) {\r\n\t\t\tif( target & EShapeRuntimeReset.POSITION_X ) {\r\n\t\t\t\tshape.transform.position.x = this.x;\r\n\t\t\t}\r\n\t\t\tif( target & EShapeRuntimeReset.POSITION_Y ) {\r\n\t\t\t\tshape.transform.position.y = this.y;\r\n\t\t\t}\r\n\t\t\tif( target & EShapeRuntimeReset.VISIBILITY ) {\r\n\t\t\t\tshape.visible = true;\r\n\t\t\t}\r\n\t\t\tif( target & EShapeRuntimeReset.COLOR_FILL ) {\r\n\t\t\t\tconst fill = this.fill;\r\n\t\t\t\tshape.fill.set(\r\n\t\t\t\t\tundefined,\r\n\t\t\t\t\tfill.color,\r\n\t\t\t\t\tfill.alpha\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tif( target & EShapeRuntimeReset.COLOR_STROKE ) {\r\n\t\t\t\tconst stroke = this.stroke;\r\n\t\t\t\tshape.stroke.set(\r\n\t\t\t\t\tundefined,\r\n\t\t\t\t\tstroke.color,\r\n\t\t\t\t\tstroke.alpha\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tif( target & EShapeRuntimeReset.COLOR_TEXT ) {\r\n\t\t\t\tconst text = this.text;\r\n\t\t\t\tshape.text.set(\r\n\t\t\t\t\tundefined,\r\n\t\t\t\t\ttext.color,\r\n\t\t\t\t\ttext.alpha\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tif( target & EShapeRuntimeReset.COLOR_TEXT_OUTLINE ) {\r\n\t\t\t\tconst outline = this.text.outline;\r\n\t\t\t\tshape.text.outline.set(\r\n\t\t\t\t\tundefined,\r\n\t\t\t\t\toutline.color,\r\n\t\t\t\t\toutline.alpha\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tif( target & EShapeRuntimeReset.HEIGHT ) {\r\n\t\t\t\tshape.size.y = this.size.y;\r\n\t\t\t}\r\n\t\t\tif( target & EShapeRuntimeReset.WIDTH ) {\r\n\t\t\t\tshape.size.x = this.size.x;\r\n\t\t\t}\r\n\t\t\tif( target & EShapeRuntimeReset.ROTATION ) {\r\n\t\t\t\tshape.transform.rotation = this.rotation;\r\n\t\t\t}\r\n\t\t\tif( target & EShapeRuntimeReset.TEXT ) {\r\n\t\t\t\tshape.text.value = this.text.value;\r\n\t\t\t}\r\n\t\t\tif( target & EShapeRuntimeReset.CURSOR ) {\r\n\t\t\t\tshape.cursor = this.cursor;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n"]}