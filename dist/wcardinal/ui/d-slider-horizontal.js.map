{"version":3,"file":"d-slider-horizontal.js","sourceRoot":"","sources":["../../../src/main/typescript/wcardinal/ui/d-slider-horizontal.ts"],"names":[],"mappings":"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","sourcesContent":["/*\r\n * Copyright (C) 2019 Toshiba Corporation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\r\n\r\nimport { Point } from \"pixi.js\";\r\nimport { DSlider, DSliderOptions, DThemeSlider } from \"./d-slider\";\r\nimport { DSliderLabelOptions } from \"./d-slider-label\";\r\nimport { DSliderTrack } from \"./d-slider-track\";\r\nimport { DSliderTrackHorizontal } from \"./d-slider-track-horizontal\";\r\nimport { DSliderValueOptions } from \"./d-slider-value\";\r\n\r\nexport interface DSliderHorizontalOptions<THEME extends DThemeSliderHorizontal> extends DSliderOptions<THEME> {\r\n\r\n}\r\n\r\nexport interface DThemeSliderHorizontal extends DThemeSlider {\r\n\r\n}\r\n\r\nexport class DSliderHorizontal<\r\n\tTHEME extends DThemeSliderHorizontal = DThemeSliderHorizontal,\r\n\tOPTIONS extends DSliderHorizontalOptions<THEME> = DSliderHorizontalOptions<THEME>\r\n> extends DSlider<THEME, OPTIONS> {\r\n\tprotected newTrack( options?: OPTIONS ): DSliderTrack {\r\n\t\treturn new DSliderTrackHorizontal( options && options.track );\r\n\t}\r\n\r\n\tprotected newTrackSelected( options?: OPTIONS ): DSliderTrack {\r\n\t\treturn new DSliderTrackHorizontal( options && options.track );\r\n\t}\r\n\r\n\tprotected toValueOptions( options?: DSliderValueOptions ): DSliderValueOptions {\r\n\t\toptions = super.toValueOptions( options );\r\n\t\tif( options.y == null ) {\r\n\t\t\toptions.y = ( p, s ) => p * 0.5 - s - this.getValueMargin();\r\n\t\t}\r\n\t\treturn options;\r\n\t}\r\n\r\n\tprotected toLabelMinOptions( options?: DSliderLabelOptions ): DSliderLabelOptions {\r\n\t\toptions = super.toLabelMinOptions( options );\r\n\t\tif( options.x == null ) {\r\n\t\t\toptions.x = ( p, s ) => -s * 0.5;\r\n\t\t}\r\n\t\tif( options.y == null ) {\r\n\t\t\toptions.y = ( p, s ) => -s;\r\n\t\t}\r\n\t\treturn options;\r\n\t}\r\n\r\n\tprotected toLabelMaxOptions( options?: DSliderLabelOptions ): DSliderLabelOptions {\r\n\t\toptions = super.toLabelMaxOptions( options );\r\n\t\tif( options.x == null ) {\r\n\t\t\toptions.x = ( p, s ) => p - s * 0.5;\r\n\t\t}\r\n\t\tif( options.y == null ) {\r\n\t\t\toptions.y = ( p, s ) => -s;\r\n\t\t}\r\n\t\treturn options;\r\n\t}\r\n\r\n\tprotected onPick( global: Point ): void {\r\n\t\tconst point = new Point(0, 0);\r\n\t\tthis.toLocal( global, undefined, point );\r\n\t\tconst x = Math.max( 0, Math.min( this._track.width, point.x ) );\r\n\t\tthis._ratioValue = x / this._track.width;\r\n\t\tthis.moveThumbPosition( x );\r\n\t}\r\n\r\n\tprotected onValuesChanged(): void {\r\n\t\tconst min = this._min.value;\r\n\t\tconst max = this._max.value;\r\n\t\tconst value = this._value.value;\r\n\t\tthis._ratioValue = ( value - min ) / ( max - min );\r\n\t\tconst x =  this._ratioValue * this._track.width;\r\n\t\tthis.moveThumbPosition( x );\r\n\t}\r\n\r\n\tprotected moveThumbPosition( x: number ): void {\r\n\t\tconst thumb = this._thumb;\r\n\t\tthumb.x = x - thumb.width * 0.5;\r\n\r\n\t\tthis._trackSelected.width = x;\r\n\r\n\t\tconst value = this._value;\r\n\t\tvalue.x = x - value.width * 0.5;\r\n\r\n\t\tthis.updateValue();\r\n\t}\r\n\r\n\tprotected toThumbCoordinate( x: number ): number {\r\n\t\treturn x - this._thumb.width * 0.5;\r\n\t}\r\n\r\n\tprotected getType(): string {\r\n\t\treturn \"DSliderHorizontal\";\r\n\t}\r\n}\r\n"]}