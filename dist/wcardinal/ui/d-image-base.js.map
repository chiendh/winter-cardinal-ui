{"version":3,"file":"d-image-base.js","sourceRoot":"","sources":["../../../src/main/typescript/wcardinal/ui/d-image-base.ts"],"names":[],"mappings":"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","sourcesContent":["/*\r\n * Copyright (C) 2019 Toshiba Corporation\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\r\n\r\nimport { DisplayObject, Texture } from \"pixi.js\";\r\nimport { DAlignHorizontal } from \"./d-align-horizontal\";\r\nimport { DAlignVertical } from \"./d-align-vertical\";\r\nimport { DAlignWith } from \"./d-align-with\";\r\nimport { DApplications } from \"./d-applications\";\r\nimport { DRefitable } from \"./d-base\";\r\nimport { DBaseState } from \"./d-base-state\";\r\nimport { DDynamicText } from \"./d-dynamic-text\";\r\nimport { DImageBaseThemeWrapperSecondary, DThemeImageBaseSecondary } from \"./d-image-base-theme-wrapper-secondary\";\r\nimport { DImageBaseThemeWrapperTertiary, DThemeImageBaseTertiary } from \"./d-image-base-theme-wrapper-tertiary\";\r\nimport { DImagePiece, DImagePieceOptions, DThemeImagePiece } from \"./d-image-piece\";\r\nimport { DStateAwareOrValueMightBe } from \"./d-state-aware\";\r\nimport { DTextBase, DTextBaseOnOptions, DTextBaseOptions, DThemeTextBase } from \"./d-text-base\";\r\n\r\nexport interface DImageBaseOnOptions<VALUE> extends DTextBaseOnOptions<VALUE> {\r\n\r\n}\r\n\r\nexport interface DImageBaseOptions<\r\n\tVALUE,\r\n\tTHEME extends DThemeImageBase = DThemeImageBase\r\n> extends DTextBaseOptions<VALUE, THEME> {\r\n\timage?: DImagePieceOptions;\r\n\ton?: DImageBaseOnOptions<VALUE>;\r\n}\r\n\r\nexport interface DThemeImageBase extends DThemeTextBase, DThemeImagePiece {\r\n\tgetSecondaryImageAlignHorizontal(): DAlignHorizontal;\r\n\tgetSecondaryImageAlignVertical(): DAlignVertical;\r\n\tgetSecondaryImageAlignWith(): DAlignWith;\r\n\tgetSecondaryImageMarginHorizontal(): number;\r\n\tgetSecondaryImageMarginVertial(): number;\r\n\tgetSecondaryImageTintColor( state: DBaseState ): number | null;\r\n\tgetSecondaryImageTintAlpha( state: DBaseState ): number;\r\n\tgetSecondaryImageSource?( state: DBaseState ): Texture | DisplayObject | null;\r\n\r\n\tgetTertiaryImageAlignHorizontal(): DAlignHorizontal;\r\n\tgetTertiaryImageAlignVertical(): DAlignVertical;\r\n\tgetTertiaryImageAlignWith(): DAlignWith;\r\n\tgetTertiaryImageMarginHorizontal(): number;\r\n\tgetTertiaryImageMarginVertial(): number;\r\n\tgetTertiaryImageTintColor( state: DBaseState ): number | null;\r\n\tgetTertiaryImageTintAlpha( state: DBaseState ): number;\r\n\tgetTertiaryImageSource?( state: DBaseState ): Texture | DisplayObject | null;\r\n}\r\n\r\nconst hasSecondaryImageSource = ( theme: DThemeImageBase ): theme is DThemeImageBase & DThemeImageBaseSecondary => {\r\n\treturn !! theme.getSecondaryImageSource;\r\n};\r\n\r\nconst hasTertiaryImageSource = ( theme: DThemeImageBase ): theme is DThemeImageBase & DThemeImageBaseTertiary => {\r\n\treturn !! theme.getTertiaryImageSource;\r\n};\r\n\r\nexport class DImageBase<\r\n\tVALUE = unknown,\r\n\tTHEME extends DThemeImageBase = DThemeImageBase,\r\n\tOPTIONS extends DImageBaseOptions<VALUE, THEME> = DImageBaseOptions<VALUE, THEME>\r\n> extends DTextBase<VALUE, THEME, OPTIONS> {\r\n\tprotected _images!: DImagePiece[];\r\n\tprotected _onChangeBound!: () => void;\r\n\tprotected _applyMaskBound!: ( target: DisplayObject ) => void;\r\n\r\n\tprotected init( options?: OPTIONS ) {\r\n\t\tthis._onChangeBound = (): void => {\r\n\t\t\tthis.toDirty();\r\n\t\t\tDApplications.update( this );\r\n\t\t};\r\n\t\tthis._applyMaskBound = ( target: DisplayObject ): void => {\r\n\t\t\tif( this._isOverflowMaskEnabled ) {\r\n\t\t\t\ttarget.mask = this.getOrCreateOverflowMask();\r\n\t\t\t}\r\n\t\t};\r\n\t\tthis._images = this.newImages( this.theme, options );\r\n\t\tsuper.init( options );\r\n\t}\r\n\r\n\tprotected newImages( theme: THEME, options?: OPTIONS ): DImagePiece[] {\r\n\t\tconst images: DImagePiece[] = [];\r\n\t\timages.push( this.newImage( theme, this.toImageOptions( theme, options && options.image ) ) );\r\n\t\tif( hasSecondaryImageSource( theme ) ) {\r\n\t\t\timages.push( this.newImage( new DImageBaseThemeWrapperSecondary( theme ) ) );\r\n\t\t}\r\n\t\tif( hasTertiaryImageSource( theme ) ) {\r\n\t\t\timages.push( this.newImage( new DImageBaseThemeWrapperTertiary( theme ) ) );\r\n\t\t}\r\n\t\treturn images;\r\n\t}\r\n\r\n\tprotected toImageOptions( theme: THEME, options?: DImagePieceOptions ): DImagePieceOptions | undefined {\r\n\t\treturn options;\r\n\t}\r\n\r\n\tprotected newImage( theme: DThemeImagePiece, options?: DImagePieceOptions ) {\r\n\t\treturn new DImagePiece(\r\n\t\t\tthis, theme, options,\r\n\t\t\tthis._textAlign, this._onChangeBound, this._applyMaskBound\r\n\t\t);\r\n\t}\r\n\r\n\tget image(): DStateAwareOrValueMightBe<Texture | DisplayObject | null> {\r\n\t\treturn this._images[ 0 ].source;\r\n\t}\r\n\r\n\tset image( imageSource: DStateAwareOrValueMightBe<Texture | DisplayObject | null> ) {\r\n\t\tthis._images[ 0 ].source = imageSource;\r\n\t}\r\n\r\n\tprotected onStateChange( newState: DBaseState, oldState: DBaseState ): void {\r\n\t\tsuper.onStateChange( newState, oldState );\r\n\t\tconst images = this._images;\r\n\t\tfor( let i = 0, imax = images.length; i < imax; ++i ) {\r\n\t\t\timages[ i ].onStateChange( newState, oldState );\r\n\t\t}\r\n\t}\r\n\r\n\tprotected updateText(): void {\r\n\t\tthis.updateTextValue();\r\n\t\tthis.updateTextAndImage();\r\n\t}\r\n\r\n\tprotected updateTextAndImage(): void {\r\n\t\tconst text = this._text;\r\n\t\tconst images = this._images;\r\n\t\tconst padding = this._padding;\r\n\r\n\t\tconst toRounded = this.toRounded;\r\n\r\n\t\tconst width = this.width;\r\n\t\tconst height = this.height;\r\n\r\n\t\tconst pl = padding.getLeft();\r\n\t\tconst pr = padding.getRight();\r\n\t\tconst pt = padding.getTop();\r\n\t\tconst pb = padding.getBottom();\r\n\r\n\t\tconst noText = text == null;\r\n\r\n\t\tlet textLeftFirst = noText;\r\n\t\tlet textTopFirst = noText;\r\n\r\n\t\tlet textRightLastMargin = 0;\r\n\t\tlet textBottomLastMargin = 0;\r\n\r\n\t\tlet textLeft = 0;\r\n\t\tlet textRight = 0;\r\n\t\tlet textTop = 0;\r\n\t\tlet textBottom = 0;\r\n\r\n\t\tlet paddingLeft = pl;\r\n\t\tlet paddingRight = width - pr;\r\n\t\tlet paddingTop = pt;\r\n\t\tlet paddingBottom = height - pb;\r\n\r\n\t\tlet borderLeft = 0;\r\n\t\tlet borderRight = width;\r\n\t\tlet borderTop = 0;\r\n\t\tlet borderBottom = height;\r\n\r\n\t\tfor( let i = 0, imax = images.length; i < imax; ++i ) {\r\n\t\t\tconst image = images[ i ];\r\n\t\t\timage.updateSource();\r\n\t\t\timage.updateTint();\r\n\t\t\timage.updateBound();\r\n\r\n\t\t\tconst imageImage = image.image;\r\n\t\t\tif( imageImage ) {\r\n\t\t\t\tconst imageBound = image.bound;\r\n\t\t\t\tconst imageBoundWidth = imageBound.width;\r\n\t\t\t\tconst imageBoundHeight = imageBound.height;\r\n\t\t\t\tconst imageMargin = image.margin;\r\n\t\t\t\tconst imageMarginHorizontal = imageMargin.horizontal;\r\n\t\t\t\tconst imageMarginVertical = imageMargin.vertical;\r\n\r\n\t\t\t\t// Text\r\n\t\t\t\tif( image.align.with === DAlignWith.TEXT ) {\r\n\t\t\t\t\tswitch( image.align.horizontal ) {\r\n\t\t\t\t\tcase DAlignHorizontal.LEFT:\r\n\t\t\t\t\t\timageImage.x = textLeft;\r\n\t\t\t\t\t\ttextLeft += imageBoundWidth;\r\n\t\t\t\t\t\tif( textLeftFirst ) {\r\n\t\t\t\t\t\t\ttextLeftFirst = false;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttextLeft += imageMarginHorizontal;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase DAlignHorizontal.CENTER:\r\n\t\t\t\t\t\t// DO NOTHING\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase DAlignHorizontal.RIGHT:\r\n\t\t\t\t\t\ttextRight -= imageBoundWidth;\r\n\t\t\t\t\t\timageImage.x = textRight;\r\n\t\t\t\t\t\ttextRight -= imageMarginHorizontal;\r\n\t\t\t\t\t\ttextRightLastMargin = imageMarginHorizontal;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tswitch( image.align.vertical ) {\r\n\t\t\t\t\tcase DAlignVertical.TOP:\r\n\t\t\t\t\t\timageImage.y = textTop;\r\n\t\t\t\t\t\ttextTop += imageBoundHeight;\r\n\t\t\t\t\t\tif( textTopFirst ) {\r\n\t\t\t\t\t\t\ttextTopFirst = false;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttextTop += imageMarginVertical;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase DAlignVertical.MIDDLE:\r\n\t\t\t\t\t\t// DO NOTHING\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase DAlignVertical.BOTTOM:\r\n\t\t\t\t\t\ttextBottom -= imageBoundHeight;\r\n\t\t\t\t\t\timageImage.y = textBottom;\r\n\t\t\t\t\t\ttextBottom -= imageMarginVertical;\r\n\t\t\t\t\t\ttextBottomLastMargin = imageMarginVertical;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Padding\r\n\t\t\t\tif( image.align.with === DAlignWith.PADDING ) {\r\n\t\t\t\t\tswitch( image.align.horizontal ) {\r\n\t\t\t\t\tcase DAlignHorizontal.LEFT:\r\n\t\t\t\t\t\tpaddingLeft += imageMarginHorizontal;\r\n\t\t\t\t\t\timageImage.x = toRounded( paddingLeft );\r\n\t\t\t\t\t\tpaddingLeft += imageBoundWidth;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase DAlignHorizontal.CENTER:\r\n\t\t\t\t\t\t// DO NOTHING\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase DAlignHorizontal.RIGHT:\r\n\t\t\t\t\t\tpaddingRight -= imageBoundWidth + imageMarginHorizontal;\r\n\t\t\t\t\t\timageImage.x = toRounded( paddingRight );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tswitch( image.align.vertical ) {\r\n\t\t\t\t\tcase DAlignVertical.TOP:\r\n\t\t\t\t\t\tpaddingTop += imageMarginVertical;\r\n\t\t\t\t\t\timageImage.y = toRounded( paddingTop );\r\n\t\t\t\t\t\tpaddingTop += imageBoundHeight;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase DAlignVertical.MIDDLE:\r\n\t\t\t\t\t\t// DO NOTHING\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase DAlignVertical.BOTTOM:\r\n\t\t\t\t\t\tpaddingBottom -= imageBoundHeight + imageMarginVertical;\r\n\t\t\t\t\t\timageImage.y = toRounded( paddingBottom );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Border\r\n\t\t\t\tif( image.align.with === DAlignWith.BORDER ) {\r\n\t\t\t\t\tswitch( image.align.horizontal ) {\r\n\t\t\t\t\tcase DAlignHorizontal.LEFT:\r\n\t\t\t\t\t\tborderLeft += imageMarginHorizontal;\r\n\t\t\t\t\t\timageImage.x = toRounded( borderLeft );\r\n\t\t\t\t\t\tborderLeft += imageBoundWidth;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase DAlignHorizontal.CENTER:\r\n\t\t\t\t\t\t// DO NOTHING\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase DAlignHorizontal.RIGHT:\r\n\t\t\t\t\t\tborderRight -= imageBoundWidth + imageMarginHorizontal;\r\n\t\t\t\t\t\timageImage.x = toRounded( borderRight );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tswitch( image.align.vertical ) {\r\n\t\t\t\t\tcase DAlignVertical.TOP:\r\n\t\t\t\t\t\tborderTop += imageMarginVertical;\r\n\t\t\t\t\t\timageImage.y = toRounded( borderTop );\r\n\t\t\t\t\t\tborderTop += imageBoundHeight;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase DAlignVertical.MIDDLE:\r\n\t\t\t\t\t\t// DO NOTHING\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase DAlignVertical.BOTTOM:\r\n\t\t\t\t\t\tborderBottom -= imageBoundHeight + imageMarginVertical;\r\n\t\t\t\t\t\timageImage.y = toRounded( borderBottom );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif( noText ) {\r\n\t\t\ttextRight += textRightLastMargin;\r\n\t\t\ttextBottom += textBottomLastMargin;\r\n\t\t}\r\n\r\n\t\t// Text\r\n\t\tlet textLeftAdjust = 0;\r\n\t\tlet textCenterAdjust = 0;\r\n\t\tlet textRightAdjust = 0;\r\n\t\tlet textTopAdjust = 0;\r\n\t\tlet textMiddleAdjust = 0;\r\n\t\tlet textBottomAdjust = 0;\r\n\r\n\t\tif( text != null ) {\r\n\t\t\tthis.updateTextColor( text );\r\n\t\t\tif( text instanceof DDynamicText ) {\r\n\t\t\t\ttext.setClippingWidthDelta( textLeft - textRight );\r\n\t\t\t}\r\n\r\n\t\t\tconst textAlign = this._textAlign;\r\n\t\t\tconst textWidth = text.width;\r\n\t\t\tconst textHeight = text.height;\r\n\t\t\tswitch( textAlign.horizontal ) {\r\n\t\t\tcase DAlignHorizontal.LEFT:\r\n\t\t\t\ttextLeftAdjust = pl;\r\n\t\t\t\ttextRightAdjust = textLeftAdjust + textLeft + textWidth - textRight;\r\n\t\t\t\tbreak;\r\n\t\t\tcase DAlignHorizontal.CENTER:\r\n\t\t\t\ttextLeftAdjust = (width - textLeft + textRight - textWidth) * 0.5;\r\n\t\t\t\ttextRightAdjust = textLeftAdjust + textLeft + textWidth - textRight;\r\n\t\t\t\tbreak;\r\n\t\t\tcase DAlignHorizontal.RIGHT:\r\n\t\t\t\ttextRightAdjust = width - pr;\r\n\t\t\t\ttextLeftAdjust = textRightAdjust + textRight - textWidth - textLeft;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\ttext.x = toRounded( textLeftAdjust + textLeft );\r\n\t\t\ttextCenterAdjust = textLeftAdjust + textLeft + textWidth * 0.5;\r\n\r\n\t\t\tswitch( textAlign.vertical ) {\r\n\t\t\tcase DAlignVertical.TOP:\r\n\t\t\t\ttextTopAdjust = pt;\r\n\t\t\t\ttextBottomAdjust = textTopAdjust + textTop + textHeight - textBottom;\r\n\t\t\t\tbreak;\r\n\t\t\tcase DAlignVertical.MIDDLE:\r\n\t\t\t\ttextTopAdjust = (height - textTop + textBottom - textHeight) * 0.5;\r\n\t\t\t\ttextBottomAdjust = textTopAdjust + textTop + textHeight - textBottom;\r\n\t\t\t\tbreak;\r\n\t\t\tcase DAlignVertical.BOTTOM:\r\n\t\t\t\ttextBottomAdjust = height - pb;\r\n\t\t\t\ttextTopAdjust = textBottomAdjust + textBottom - textHeight - textTop;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\ttext.y = toRounded( textTopAdjust + textTop );\r\n\t\t\ttextMiddleAdjust = textTopAdjust + textTop + textHeight * 0.5;\r\n\t\t} else {\r\n\t\t\ttextLeftAdjust = (width - textLeft + textRight) * 0.5;\r\n\t\t\ttextRightAdjust = textLeftAdjust + textLeft - textRight;\r\n\t\t\ttextCenterAdjust = textLeftAdjust + textLeft;\r\n\r\n\t\t\ttextTopAdjust = (height - textTop + textBottom) * 0.5;\r\n\t\t\ttextBottomAdjust = textTopAdjust + textTop - textBottom;\r\n\t\t\ttextMiddleAdjust = textTopAdjust + textTop;\r\n\t\t}\r\n\r\n\t\tconst paddingCenterAdjust = width * 0.5;\r\n\t\tconst paddingMiddleAdjust = height * 0.5;\r\n\r\n\t\tconst borderCenterAdjust = width * 0.5;\r\n\t\tconst borderMiddleAdjust = height * 0.5;\r\n\r\n\t\tfor( let i = 0, imax = images.length; i < imax; ++i ) {\r\n\t\t\tconst image = images[ i ];\r\n\t\t\tconst imageImage = image.image;\r\n\t\t\tif( imageImage ) {\r\n\t\t\t\tconst imageBound = image.bound;\r\n\t\t\t\tconst imageBoundWidth = imageBound.width;\r\n\t\t\t\tconst imageBoundHeight = imageBound.height;\r\n\r\n\t\t\t\t// Text\r\n\t\t\t\tif( image.align.with === DAlignWith.TEXT ) {\r\n\t\t\t\t\tswitch( image.align.horizontal ) {\r\n\t\t\t\t\tcase DAlignHorizontal.LEFT:\r\n\t\t\t\t\t\timageImage.x = toRounded( imageImage.x + textLeftAdjust );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase DAlignHorizontal.CENTER:\r\n\t\t\t\t\t\timageImage.x = toRounded( textCenterAdjust - imageBoundWidth * 0.5 );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase DAlignHorizontal.RIGHT:\r\n\t\t\t\t\t\timageImage.x = toRounded( imageImage.x + textRightAdjust );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tswitch( image.align.vertical ) {\r\n\t\t\t\t\tcase DAlignVertical.TOP:\r\n\t\t\t\t\t\timageImage.y = toRounded( imageImage.y + textTopAdjust );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase DAlignVertical.MIDDLE:\r\n\t\t\t\t\t\timageImage.y = toRounded( textMiddleAdjust - imageBoundHeight * 0.5 );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase DAlignVertical.BOTTOM:\r\n\t\t\t\t\t\timageImage.y = toRounded( imageImage.y + textBottomAdjust );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Padding\r\n\t\t\t\tif( image.align.with === DAlignWith.PADDING ) {\r\n\t\t\t\t\tswitch( image.align.horizontal ) {\r\n\t\t\t\t\tcase DAlignHorizontal.CENTER:\r\n\t\t\t\t\t\timageImage.x = toRounded( paddingCenterAdjust - imageBoundWidth * 0.5 );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tswitch( image.align.vertical ) {\r\n\t\t\t\t\tcase DAlignVertical.MIDDLE:\r\n\t\t\t\t\t\timageImage.y = toRounded( paddingMiddleAdjust - imageBoundHeight * 0.5 );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Border\r\n\t\t\t\tif( image.align.with === DAlignWith.BORDER ) {\r\n\t\t\t\t\tswitch( image.align.horizontal ) {\r\n\t\t\t\t\tcase DAlignHorizontal.CENTER:\r\n\t\t\t\t\t\timageImage.x = toRounded( borderCenterAdjust - imageBoundWidth * 0.5 );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tswitch( image.align.vertical ) {\r\n\t\t\t\t\tcase DAlignVertical.MIDDLE:\r\n\t\t\t\t\t\timageImage.y = toRounded( borderMiddleAdjust - imageBoundHeight * 0.5 );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprotected isRefitable( target: any ): target is DRefitable {\r\n\t\tif( super.isRefitable( target ) ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tconst images = this._images;\r\n\t\tfor( let i = 0, imax = images.length; i < imax; ++i ) {\r\n\t\t\tif( images[ i ].isRefitable( target ) ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tprotected getType(): string {\r\n\t\treturn \"DImageBase\";\r\n\t}\r\n\r\n\tdestroy(): void {\r\n\t\tconst images = this._images;\r\n\t\tfor( let i = 0, imax = images.length; i < imax; ++i ) {\r\n\t\t\timages[ i ].destroy();\r\n\t\t}\r\n\t\tsuper.destroy();\r\n\t}\r\n}\r\n"]}