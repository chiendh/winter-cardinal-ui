<!--
 Copyright (C) 2019 Toshiba Corporation
 SPDX-License-Identifier: Apache-2.0
-->

<!DOCTYPE html>
<html>
<head>
	<th:block th:insert="fragment/common::#head"></th:block>
</head>
<body>
	<th:block th:insert="fragment/common::#body"></th:block>
	<script>
		(function () {
			"use strict";
			const application = new wcardinal.ui.DApplication();

			const img_folder = PIXI.Texture.from('images/folder_black.png');
			const img_file = PIXI.Texture.from('images/file_black.png');

			let items = []
			for (let i = 0; i < 20000; i++) {
				items.push({
					text: "item1." + i,
					image: img_file,
				})
			}
			const tree = new wcardinal.ui.DTree({
				parent: application.stage,
				x: 100,
				y: 100,
				width: 500,
				height: 600,
				value: [{
						text: "item0",
						image: img_folder,
						children: [{
								text: "item0.0",
								image: img_file,
							},
							{
								text: "item0.1",
								image: img_file,
							},
							{
								text: "item0.2",
								image: img_file,

							},
							{
								text: "item0.3",
								image: img_folder,
								children: [{
										text: "item0.3.0",
										image: img_file,
									},
									{
										text: "item0.3.1",
										image: img_folder,
										children: [{
												text: "item0.3.1.0",
												image: img_folder,
												children: [{
														text: "item0.3.1.0.0",
														image: img_folder,
														children: [{
																text: "item0.3.1.0.0.0",
																image: img_folder,
																children: [{
																		text: "item0.3.1.0.0.0.0",
																		image: img_file,
																	},
																	{
																		text: "item0.3.1.0.0.0.1",
																		image: img_file,
																	},
																]
															},
															{
																text: "item0.3.1.0.0.1",
																image: img_file,
															},
														]
													},
													{
														text: "item0.3.1.0.1",
														image: img_file,
													},
												]
											},
											{
												text: "item0.3.1.1",
												image: img_file,
											},
										]
									},
								]
							},
						]
					},
					{
						text: "item1",
						image: img_folder,
						children: items
					},
				]
			});
			new wcardinal.ui.DLayoutVertical({
				parent: application.stage,
				x: 650,
				y: 100,
				width: "100%-40",
				height: "100%-40",
				children: [
					new wcardinal.ui.DButtonPrimary({
						width: 200,
						text: {
							value: "Toggle"
						},
						on: {
							active: (btn) => {
								tree.toggle(tree.value[0])
							}
						}
					}),
					new wcardinal.ui.DButtonPrimary({
						width: 200,
						text: {
							value: "Expand"
						},
						on: {
							active: (btn) => {
								tree.expand(tree.value[0])
							}
						}
					}),
					new wcardinal.ui.DButtonPrimary({
						width: 200,
						text: {
							value: "Collapse"
						},
						on: {
							active: (btn) => {
								tree.collapse(tree.value[0])
							}
						}
					}),
					new wcardinal.ui.DButtonPrimary({
						width: 200,
						text: {
							value: "Expand all"
						},
						on: {
							active: (btn) => {
								tree.expandAll()
							}
						}
					}),
					new wcardinal.ui.DButtonPrimary({
						width: 200,
						text: {
							value: "Collapse all"
						},
						on: {
							active: (btn) => {
								tree.collapseAll()
							}
						}
					}),
					new wcardinal.ui.DButtonPrimary({
						width: 200,
						text: {
							value: "Is collapsed"
						},
						on: {
							active: (btn) => {
								console.log(tree.isCollapsed(tree.value[0]))
							}
						}
					}),
					new wcardinal.ui.DButtonPrimary({
						width: 200,
						text: {
							value: "Is expanded"
						},
						on: {
							active: (btn) => {
								console.log(tree.isExpanded(tree.value[0]))
							}
						}
					}),
					new wcardinal.ui.DButtonPrimary({
						width: 200,
						text: {
							value: "Clear"
						},
						on: {
							active: (btn) => {
								tree.clear()
							}
						}
					}),
					new wcardinal.ui.DButtonPrimary({
						width: 200,
						text: {
							value: "Remove"
						},
						on: {
							active: (btn) => {
								tree.remove(tree.value[0].children[0])
							}
						}
					}),
					new wcardinal.ui.DButtonPrimary({
						width: 200,
						text: {
							value: "Add"
						},
						on: {
							active: (btn) => {
								const item = {
									text: "added item",
									image: img_folder,
								}
								tree.add(item, tree.value[0].children[0])
							}
						}
					}),
					new wcardinal.ui.DButtonPrimary({
						width: 200,
						text: {
							value: "Add before"
						},
						on: {
							active: (btn) => {
								const item = {
									text: "added item before",
									image: img_folder,
								}
								tree.addBefore(item, tree.value[0].children[0])
							}
						}
					}),
					new wcardinal.ui.DButtonPrimary({
						width: 200,
						text: {
							value: "Add after",
						},
						on: {
							active: (btn) => {
								const item = {
									text: "added item after",
									image: img_folder,
								}
								tree.addAfter(item, tree.value[0].children[0])
							}
						}
					}),
				]
			});
		}()
		);
	</script>
</body>

</html>
